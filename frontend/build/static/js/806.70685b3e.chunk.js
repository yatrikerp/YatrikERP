"use strict";(self.webpackChunkyatrik_erp_frontend=self.webpackChunkyatrik_erp_frontend||[]).push([[806],{1806:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var t=r(5043),a=(r(8729),r(3540)),i=(r(3923),r(7033)),n=r(3033),c=r(2244),l=r(8646),d=r(3062),o=r(7104),h=r(1680),p=r(8006),x=r(3782),j=r(4919),m=r(7118),v=r(579);const u=()=>{const[e,s]=(0,t.useState)([]),[r,u]=(0,t.useState)(!0),[g,N]=(0,t.useState)("revenue"),[y,A]=(0,t.useState)("7d"),[z,b]=(0,t.useState)({revenue:{total:125e3,today:8500,growth:12.5,trend:"up"},bookings:{total:450,today:25,growth:8.3,trend:"up"},trips:{total:120,today:8,growth:-2.1,trend:"down"},passengers:{total:1250,today:85,growth:15.2,trend:"up"}});(0,t.useEffect)(()=>{k()},[]);const k=async()=>{try{u(!0);const e=await a.pR.getReports();console.log("Reports & Analytics - API response:",e);let r=[];if(e.success&&e.data?r=Array.isArray(e.data)?e.data:e.data.reports||[]:Array.isArray(e)?r=e:e.reports&&(r=e.reports),console.log("Reports & Analytics - Parsed reports:",r),0===r.length){s([{_id:"report1",reportName:"Daily Revenue Report",reportType:"revenue",generatedDate:"2024-01-15",period:"2024-01-15",status:"completed",fileSize:"2.5 MB"},{_id:"report2",reportName:"Monthly Booking Analysis",reportType:"bookings",generatedDate:"2024-01-14",period:"2024-01",status:"completed",fileSize:"1.8 MB"},{_id:"report3",reportName:"Trip Performance Report",reportType:"trips",generatedDate:"2024-01-13",period:"2024-01-01 to 2024-01-13",status:"completed",fileSize:"3.2 MB"}])}else s(r)}catch(e){console.error("Error fetching reports in ReportsAnalytics:",e);s([{_id:"report1",reportName:"Daily Revenue Report",reportType:"revenue",generatedDate:"2024-01-15",period:"2024-01-15",status:"completed",fileSize:"2.5 MB"}])}finally{u(!1)}};return r?(0,v.jsx)("div",{className:"reports-analytics",children:(0,v.jsxs)("div",{className:"page-header",children:[(0,v.jsx)("h1",{children:"Reports & Analytics"}),(0,v.jsx)("p",{children:"Loading reports..."})]})}):(0,v.jsxs)("div",{className:"reports-analytics",children:[(0,v.jsx)("div",{className:"page-header",children:(0,v.jsxs)("div",{className:"header-content",children:[(0,v.jsxs)("div",{className:"header-text",children:[(0,v.jsx)("h1",{children:"Reports & Analytics"}),(0,v.jsx)("p",{children:"Generate and view comprehensive reports and analytics"})]}),(0,v.jsx)("div",{className:"header-actions",children:(0,v.jsxs)("select",{value:y,onChange:e=>A(e.target.value),className:"date-range-select",children:[(0,v.jsx)("option",{value:"1d",children:"Last 24 Hours"}),(0,v.jsx)("option",{value:"7d",children:"Last 7 Days"}),(0,v.jsx)("option",{value:"30d",children:"Last 30 Days"}),(0,v.jsx)("option",{value:"90d",children:"Last 90 Days"})]})})]})}),(0,v.jsxs)("div",{className:"metrics-grid",children:[(0,v.jsxs)("div",{className:"metric-card",children:[(0,v.jsx)("div",{className:"metric-icon blue",children:(0,v.jsx)(d.A,{size:24})}),(0,v.jsxs)("div",{className:"metric-content",children:[(0,v.jsx)("h3",{children:"Total Revenue"}),(0,v.jsxs)("div",{className:"metric-value",children:["\u20b9",z.revenue.total.toLocaleString()]}),(0,v.jsxs)("div",{className:"metric-change ".concat(z.revenue.trend),children:["up"===z.revenue.trend?(0,v.jsx)(j.A,{size:16}):(0,v.jsx)(x.A,{size:16}),(0,v.jsxs)("span",{children:[z.revenue.growth,"%"]})]})]})]}),(0,v.jsxs)("div",{className:"metric-card",children:[(0,v.jsx)("div",{className:"metric-icon green",children:(0,v.jsx)(m.A,{size:24})}),(0,v.jsxs)("div",{className:"metric-content",children:[(0,v.jsx)("h3",{children:"Total Bookings"}),(0,v.jsx)("div",{className:"metric-value",children:z.bookings.total}),(0,v.jsxs)("div",{className:"metric-change ".concat(z.bookings.trend),children:["up"===z.bookings.trend?(0,v.jsx)(j.A,{size:16}):(0,v.jsx)(x.A,{size:16}),(0,v.jsxs)("span",{children:[z.bookings.growth,"%"]})]})]})]}),(0,v.jsxs)("div",{className:"metric-card",children:[(0,v.jsx)("div",{className:"metric-icon yellow",children:(0,v.jsx)(c.A,{size:24})}),(0,v.jsxs)("div",{className:"metric-content",children:[(0,v.jsx)("h3",{children:"Total Trips"}),(0,v.jsx)("div",{className:"metric-value",children:z.trips.total}),(0,v.jsxs)("div",{className:"metric-change ".concat(z.trips.trend),children:["up"===z.trips.trend?(0,v.jsx)(j.A,{size:16}):(0,v.jsx)(x.A,{size:16}),(0,v.jsxs)("span",{children:[z.trips.growth,"%"]})]})]})]}),(0,v.jsxs)("div",{className:"metric-card",children:[(0,v.jsx)("div",{className:"metric-icon purple",children:(0,v.jsx)(p.A,{size:24})}),(0,v.jsxs)("div",{className:"metric-content",children:[(0,v.jsx)("h3",{children:"Total Passengers"}),(0,v.jsx)("div",{className:"metric-value",children:z.passengers.total}),(0,v.jsxs)("div",{className:"metric-change ".concat(z.passengers.trend),children:["up"===z.passengers.trend?(0,v.jsx)(j.A,{size:16}):(0,v.jsx)(x.A,{size:16}),(0,v.jsxs)("span",{children:[z.passengers.growth,"%"]})]})]})]})]}),(0,v.jsxs)("div",{className:"report-generation",children:[(0,v.jsx)("h3",{children:"Generate Reports"}),(0,v.jsxs)("div",{className:"report-types",children:[(0,v.jsxs)("button",{className:"report-type-btn ".concat("revenue"===g?"active":""),onClick:()=>N("revenue"),children:[(0,v.jsx)(d.A,{size:20}),"Revenue Report"]}),(0,v.jsxs)("button",{className:"report-type-btn ".concat("bookings"===g?"active":""),onClick:()=>N("bookings"),children:[(0,v.jsx)(m.A,{size:20}),"Booking Report"]}),(0,v.jsxs)("button",{className:"report-type-btn ".concat("trips"===g?"active":""),onClick:()=>N("trips"),children:[(0,v.jsx)(c.A,{size:20}),"Trip Report"]}),(0,v.jsxs)("button",{className:"report-type-btn ".concat("performance"===g?"active":""),onClick:()=>N("performance"),children:[(0,v.jsx)(i.A,{size:20}),"Performance Report"]})]}),(0,v.jsxs)("button",{className:"generate-report-btn",onClick:()=>(async r=>{try{const t={_id:"report_".concat(Date.now()),reportName:"".concat(r.charAt(0).toUpperCase()+r.slice(1)," Report"),reportType:r,generatedDate:(new Date).toISOString().split("T")[0],period:y,status:"completed",fileSize:"2.1 MB"};s([t,...e])}catch(t){console.error("Error generating report:",t)}})(g),children:[(0,v.jsx)(h.A,{size:20}),"Generate ",g.charAt(0).toUpperCase()+g.slice(1)," Report"]})]}),(0,v.jsxs)("div",{className:"reports-list",children:[(0,v.jsx)("div",{className:"table-header",children:(0,v.jsxs)("h3",{children:["Generated Reports (",e.length,")"]})}),(0,v.jsx)("div",{className:"table-wrapper",children:(0,v.jsxs)("table",{className:"reports-table",children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{children:"Report Name"}),(0,v.jsx)("th",{children:"Type"}),(0,v.jsx)("th",{children:"Period"}),(0,v.jsx)("th",{children:"Generated Date"}),(0,v.jsx)("th",{children:"Status"}),(0,v.jsx)("th",{children:"File Size"}),(0,v.jsx)("th",{children:"Actions"})]})}),(0,v.jsx)("tbody",{children:e.length>0?e.map((e,s)=>{var r,t,a,i;return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"report-name",children:[(0,v.jsx)(h.A,{size:16}),(0,v.jsx)("span",{children:e.reportName})]})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"report-type-badge",children:(null===(r=e.reportType)||void 0===r?void 0:r.charAt(0).toUpperCase())+(null===(t=e.reportType)||void 0===t?void 0:t.slice(1))})}),(0,v.jsx)("td",{children:(0,v.jsxs)("div",{className:"report-period",children:[(0,v.jsx)(l.A,{size:16}),(0,v.jsx)("span",{children:e.period})]})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{children:new Date(e.generatedDate).toLocaleDateString()})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{className:"status-badge ".concat(e.status||"unknown"),children:(null===(a=e.status)||void 0===a?void 0:a.charAt(0).toUpperCase())+(null===(i=e.status)||void 0===i?void 0:i.slice(1))})}),(0,v.jsx)("td",{children:(0,v.jsx)("span",{children:e.fileSize})}),(0,v.jsx)("td",{children:(0,v.jsx)("div",{className:"action-buttons",children:(0,v.jsxs)("button",{className:"action-btn download",onClick:()=>(e=>{console.log("Downloading report:",e.reportName)})(e),children:[(0,v.jsx)(o.A,{size:16}),"Download"]})})})]},e._id||s)}):(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:"7",className:"no-data",children:(0,v.jsxs)("div",{className:"empty-state",children:[(0,v.jsx)(h.A,{size:48}),(0,v.jsx)("h3",{children:"No reports found"}),(0,v.jsx)("p",{children:"Generate your first report to get started"})]})})})})]})})]}),(0,v.jsxs)("div",{className:"analytics-charts",children:[(0,v.jsx)("h3",{children:"Analytics Dashboard"}),(0,v.jsxs)("div",{className:"charts-grid",children:[(0,v.jsxs)("div",{className:"chart-placeholder",children:[(0,v.jsx)(i.A,{size:48}),(0,v.jsx)("h4",{children:"Revenue Trend"}),(0,v.jsx)("p",{children:"Revenue analysis over time"})]}),(0,v.jsxs)("div",{className:"chart-placeholder",children:[(0,v.jsx)(n.A,{size:48}),(0,v.jsx)("h4",{children:"Route Performance"}),(0,v.jsx)("p",{children:"Performance by route"})]}),(0,v.jsxs)("div",{className:"chart-placeholder",children:[(0,v.jsx)(j.A,{size:48}),(0,v.jsx)("h4",{children:"Booking Trends"}),(0,v.jsx)("p",{children:"Booking patterns analysis"})]}),(0,v.jsxs)("div",{className:"chart-placeholder",children:[(0,v.jsx)(c.A,{size:48}),(0,v.jsx)("h4",{children:"Fleet Utilization"}),(0,v.jsx)("p",{children:"Bus utilization rates"})]})]})]})]})}},3923:()=>{}}]);
//# sourceMappingURL=806.70685b3e.chunk.js.map