/*! For license information please see main.9ba8724f.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,a={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,n)&&!l.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}function y(){}function v(e,t,r){this.props=e,this.context=t,this.refs=x,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,f(b,g.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,s)&&!k.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:r,type:e,key:i,ref:o,props:a,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return i=i(l=e),e=""===a?"."+P(l,0):a,j(i)?(s="",null!=e&&(s=e.replace(E,"$&/")+"/"),T(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",j(e))for(var c=0;c<e.length;c++){var d=a+P(o=e[c],c);l+=T(o,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,s,d=a+P(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,r){if(null==e)return e;var n=[],s=0;return T(e,n,"","",function(e){return t.call(r,e,s++)}),n}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},M={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:_,forEach:function(e,t,r){_(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _(e,function(){t++}),t},toArray:function(e){return _(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=v,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=L,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=f({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=N.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:r,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,r){return D.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,r){return D.current.useReducer(e,t,r)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return D.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return D.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,s=e[n];if(!(0<a(s,t)))break e;e[n]=t,e[r]=s,r=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,s=e.length,i=s>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,r))c<s&&0>a(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<s&&0>a(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,p=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=n(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(x=!1,b(e),!f)if(null!==n(c))f=!0,R(w);else{var t=n(d);null!==t&&M(j,t.startTime-e)}}function w(e,r){f=!1,x&&(x=!1,y(C),C=-1),p=!0;var a=m;try{for(b(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!T());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var o=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof o?h.callback=o:h===n(c)&&s(c),b(r)}else s(c);h=n(c)}if(null!==h)var l=!0;else{var u=n(d);null!==u&&M(j,u.startTime-r),l=!1}return l}finally{h=null,m=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,C=-1,E=5,P=-1;function T(){return!(t.unstable_now()-P<E)}function _(){if(null!==S){var e=t.unstable_now();P=e;var r=!0;try{r=S(!0,e)}finally{r?N():(k=!1,S=null)}}else k=!1}if("function"===typeof v)N=function(){v(_)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=_,N=function(){D.postMessage(null)}}else N=function(){g(_,0)};function R(e){S=e,k||(k=!0,N())}function M(e,r){C=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||p||(f=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,r(d,e),null===n(c)&&e===n(d)&&(x?(y(C),C=-1):x=!0,M(j,a-i))):(e.sortIndex=o,r(c,e),f||p||(f=!0,R(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var n=r(43),s=r(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function f(e,t,r,n,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,r,n){var s=x.hasOwnProperty(t)?x[t]:null;(null!==s?0!==s.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,s,n)&&(r=null),n||null===s?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(t=s.attributeName,n=s.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var I,O=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(jc){var t=jc.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(gc){var n=gc}Reflect.construct(e,[],t)}else{try{t.call()}catch(gc){n=gc}e.call(t.prototype)}else{try{throw Error()}catch(gc){n=gc}e()}}catch(gc){if(gc&&n&&"string"===typeof gc.stack){for(var s=gc.stack.split("\n"),a=n.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return V(e(t))}catch(jc){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var r=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var r=W(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(te(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ae(e,t){var r=W(t.value),n=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),s=pe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,Ne=null;function ke(e){if(e=ys(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=bs(t),je(e.stateNode,e.type,t))}}function Se(e){we?Ne?Ne.push(e):Ne=[e]:we=e}function Ce(){if(we){var e=we,t=Ne;if(Ne=we=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Te=!1;function _e(e,t,r){if(Te)return e(t,r);Te=!0;try{return Ee(e,t,r)}finally{Te=!1,(null!==we||null!==Ne)&&(Pe(),Ce())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var n=bs(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var De=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(yc){De=!1}function Me(e,t,r,n,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,Ie=null,Oe=!1,Fe=null,Be={onError:function(e){Le=!0,Ie=e}};function ze(e,t,r,n,s,a,i,o,l){Le=!1,Ie=null,Me.apply(Be,arguments)}function Ue(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(a(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(n=s.return)){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Ge(s),e;if(i===n)return Ge(s),t;i=i.sibling}throw Error(a(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var qe=s.unstable_scheduleCallback,Ke=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,$e=s.unstable_requestPaint,Qe=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Je=s.unstable_ImmediatePriority,Ze=s.unstable_UserBlockingPriority,et=s.unstable_NormalPriority,tt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,nt=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&r;if(0!==i){var o=i&~s;0!==o?n=dt(o):0!==(a&=i)&&(n=dt(a))}else 0!==(i=r&~s)?n=dt(i):0!==a&&(n=dt(a));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&s)&&((s=n&-n)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)s=1<<(r=31-at(t)),n|=e[r],t&=~s;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function gt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var yt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,jt,wt,Nt,kt,St=!1,Ct=[],Et=null,Pt=null,Tt=null,_t=new Map,At=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&jt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function It(e){var t=gs(e.target);if(null!==t){var r=Ue(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void kt(e.priority,function(){wt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ys(r))&&jt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function Ft(e,t,r){Ot(e)&&r.delete(t)}function Bt(){St=!1,null!==Et&&Ot(Et)&&(Et=null),null!==Pt&&Ot(Pt)&&(Pt=null),null!==Tt&&Ot(Tt)&&(Tt=null),_t.forEach(Ft),At.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),_t.forEach(t),At.forEach(t),r=0;r<Dt.length;r++)(n=Dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Dt.length&&null===(r=Dt[0]).blockedOn;)It(r),null===r.blockedOn&&Dt.shift()}var Vt=b.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,r,n){var s=yt,a=Vt.transition;Vt.transition=null;try{yt=1,qt(e,t,r,n)}finally{yt=s,Vt.transition=a}}function Ht(e,t,r,n){var s=yt,a=Vt.transition;Vt.transition=null;try{yt=4,qt(e,t,r,n)}finally{yt=s,Vt.transition=a}}function qt(e,t,r,n){if(Gt){var s=Yt(e,t,r,n);if(null===s)Gn(e,t,n,Kt,r),Mt(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return Et=Lt(Et,e,t,r,n,s),!0;case"dragenter":return Pt=Lt(Pt,e,t,r,n,s),!0;case"mouseover":return Tt=Lt(Tt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return _t.set(a,Lt(_t.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,At.set(a,Lt(At.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(Mt(e,n),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var a=ys(s);if(null!==a&&bt(a),null===(a=Yt(e,t,r,n))&&Gn(e,t,n,Kt,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else Gn(e,t,n,null,r)}}var Kt=null;function Yt(e,t,r,n){if(Kt=null,null!==(e=gs(e=be(n))))if(null===(t=Ue(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,r=Xt,n=r.length,s="value"in Qt?Qt.value:Qt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return Jt=s.slice(e,1<t?1-t:void 0)}function er(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tr(){return!0}function rr(){return!1}function nr(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?tr:rr,this.isPropagationStopped=rr,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),t}var sr,ar,ir,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=nr(or),cr=O({},or,{view:0,detail:0}),dr=nr(cr),ur=O({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,ar=e.screenY-ir.screenY):ar=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),hr=nr(ur),mr=nr(O({},ur,{dataTransfer:0})),pr=nr(O({},cr,{relatedTarget:0})),fr=nr(O({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=O({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gr=nr(xr),yr=nr(O({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Nr(){return wr}var kr=O({},cr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=er(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?br[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?er(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?er(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sr=nr(kr),Cr=nr(O({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=nr(O({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Pr=nr(O({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=O({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_r=nr(Tr),Ar=[9,13,27,32],Dr=d&&"CompositionEvent"in window,Rr=null;d&&"documentMode"in document&&(Rr=document.documentMode);var Mr=d&&"TextEvent"in window&&!Rr,Lr=d&&(!Dr||Rr&&8<Rr&&11>=Rr),Ir=String.fromCharCode(32),Or=!1;function Fr(e,t){switch(e){case"keyup":return-1!==Ar.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var Ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ur[e.type]:"textarea"===t}function Gr(e,t,r,n){Se(n),0<(t=Hn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,Hr=null;function qr(e){On(e,0)}function Kr(e){if(K(vs(e)))return e}function Yr(e,t){if("change"===e)return t}var $r=!1;if(d){var Qr;if(d){var Xr="oninput"in document;if(!Xr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Xr="function"===typeof Jr.oninput}Qr=Xr}else Qr=!1;$r=Qr&&(!document.documentMode||9<document.documentMode)}function Zr(){Wr&&(Wr.detachEvent("onpropertychange",en),Hr=Wr=null)}function en(e){if("value"===e.propertyName&&Kr(Hr)){var t=[];Gr(t,Hr,e,be(e)),_e(qr,t)}}function tn(e,t,r){"focusin"===e?(Zr(),Hr=r,(Wr=t).attachEvent("onpropertychange",en)):"focusout"===e&&Zr()}function rn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(Hr)}function nn(e,t){if("click"===e)return Kr(t)}function sn(e,t){if("input"===e||"change"===e)return Kr(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!u.call(t,s)||!an(e[s],t[s]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function un(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(Sc){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=un(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=void 0===n.end?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=cn(r,a);var i=cn(r,n);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=d&&"documentMode"in document&&11>=document.documentMode,fn=null,xn=null,gn=null,yn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;yn||null==fn||fn!==Y(n)||("selectionStart"in(n=fn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},gn&&on(gn,n)||(gn=n,0<(n=Hn(xn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fn)))}function bn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var jn={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionend:bn("Transition","TransitionEnd")},wn={},Nn={};function kn(e){if(wn[e])return wn[e];if(!jn[e])return e;var t,r=jn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Nn)return wn[e]=r[t];return e}d&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);var Sn=kn("animationend"),Cn=kn("animationiteration"),En=kn("animationstart"),Pn=kn("transitionend"),Tn=new Map,_n="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){Tn.set(e,t),l(t,[e])}for(var Dn=0;Dn<_n.length;Dn++){var Rn=_n[Dn];An(Rn.toLowerCase(),"on"+(Rn[0].toUpperCase()+Rn.slice(1)))}An(Sn,"onAnimationEnd"),An(Cn,"onAnimationIteration"),An(En,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mn));function In(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,s,i,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Ie;Le=!1,Ie=null,Oe||(Oe=!0,Fe=d)}}(n,t,void 0,e),e.currentTarget=null}function On(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;In(s,o,c),a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;In(s,o,c),a=l}}}if(Oe)throw e=Fe,Oe=!1,Fe=null,e}function Fn(e,t){var r=t[ps];void 0===r&&(r=t[ps]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function Un(e){if(!e[zn]){e[zn]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ln.has(t)||Bn(t,!1,e),Bn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Bn("selectionchange",!1,t))}}function Vn(e,t,r,n){switch($t(t)){case 1:var s=Wt;break;case 4:s=Ht;break;default:s=qt}r=s.bind(null,t,r,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gn(e,t,r,n,s){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var i=n.tag;if(3===i||4===i){var o=n.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=n.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=gs(o)))return;if(5===(l=i.tag)||6===l){n=a=i;continue e}o=o.parentNode}}n=n.return}_e(function(){var n=a,s=be(r),i=[];e:{var o=Tn.get(e);if(void 0!==o){var l=lr,c=e;switch(e){case"keypress":if(0===er(r))break e;case"keydown":case"keyup":l=Sr;break;case"focusin":c="focus",l=pr;break;case"focusout":c="blur",l=pr;break;case"beforeblur":case"afterblur":l=pr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Er;break;case Sn:case Cn:case En:l=fr;break;case Pn:l=Pr;break;case"scroll":l=dr;break;case"wheel":l=_r;break;case"copy":case"cut":case"paste":l=gr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var m,p=n;null!==p;){var f=(m=p).stateNode;if(5===m.tag&&null!==f&&(m=f,null!==h&&(null!=(f=Ae(p,h))&&d.push(Wn(p,f,m)))),u)break;p=p.return}0<d.length&&(o=new l(o,c,null,r,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!gs(c)&&!c[ms])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?gs(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=hr,f="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,f="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==l?o:vs(l),m=null==c?o:vs(c),(o=new d(f,p+"leave",l,r,s)).target=u,o.relatedTarget=m,f=null,gs(s)===n&&((d=new d(h,p+"enter",c,r,s)).target=m,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,p=0,m=d=l;m;m=qn(m))p++;for(m=0,f=h;f;f=qn(f))m++;for(;0<p-m;)d=qn(d),p--;for(;0<m-p;)h=qn(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=qn(d),h=qn(h)}d=null}else d=null;null!==l&&Kn(i,o,l,d,!1),null!==c&&null!==u&&Kn(i,u,c,d,!0)}if("select"===(l=(o=n?vs(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var x=Yr;else if(Vr(o))if($r)x=sn;else{x=rn;var g=tn}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(x=nn);switch(x&&(x=x(e,n))?Gr(i,x,r,s):(g&&g(e,o,n),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=n?vs(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(fn=g,xn=n,gn=null);break;case"focusout":gn=xn=fn=null;break;case"mousedown":yn=!0;break;case"contextmenu":case"mouseup":case"dragend":yn=!1,vn(i,r,s);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":vn(i,r,s)}var y;if(Dr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zr?Fr(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&(Lr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==v?"onCompositionEnd"===v&&zr&&(y=Zt()):(Xt="value"in(Qt=s)?Qt.value:Qt.textContent,zr=!0)),0<(g=Hn(n,v)).length&&(v=new yr(v,e,null,r,s),i.push({event:v,listeners:g}),y?v.data=y:null!==(y=Br(r))&&(v.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Or=!0,Ir);case"textInput":return(e=t.data)===Ir&&Or?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Dr&&Fr(e,t)?(e=Zt(),Jt=Xt=Qt=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Hn(n,"onBeforeInput")).length&&(s=new yr("onBeforeInput","beforeinput",null,r,s),i.push({event:s,listeners:n}),s.data=y))}On(i,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hn(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Ae(e,r))&&n.unshift(Wn(e,a,s)),null!=(a=Ae(e,t))&&n.push(Wn(e,a,s))),e=e.return}return n}function qn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kn(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(r,a))&&i.unshift(Wn(r,l,o)):s||null!=(l=Ae(r,a))&&i.push(Wn(r,l,o))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Yn=/\r\n?/g,$n=/\u0000|\uFFFD/g;function Qn(e){return("string"===typeof e?e:""+e).replace(Yn,"\n").replace($n,"")}function Xn(e,t,r){if(t=Qn(t),Qn(e)!==t&&r)throw Error(a(425))}function Jn(){}var Zn=null,es=null;function ts(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ns="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(e){return ss.resolve(null).then(e).catch(is)}:rs;function is(e){setTimeout(function(){throw e})}function os(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)){if(0===n)return e.removeChild(s),void Ut(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=s}while(r);Ut(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),us="__reactFiber$"+ds,hs="__reactProps$"+ds,ms="__reactContainer$"+ds,ps="__reactEvents$"+ds,fs="__reactListeners$"+ds,xs="__reactHandles$"+ds;function gs(e){var t=e[us];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ms]||r[us]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=cs(e);null!==e;){if(r=e[us])return r;e=cs(e)}return t}r=(e=r).parentNode}return null}function ys(e){return!(e=e[us]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bs(e){return e[hs]||null}var js=[],ws=-1;function Ns(e){return{current:e}}function ks(e){0>ws||(e.current=js[ws],js[ws]=null,ws--)}function Ss(e,t){ws++,js[ws]=e.current,e.current=t}var Cs={},Es=Ns(Cs),Ps=Ns(!1),Ts=Cs;function _s(e,t){var r=e.type.contextTypes;if(!r)return Cs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in r)a[s]=t[s];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){ks(Ps),ks(Es)}function Rs(e,t,r){if(Es.current!==Cs)throw Error(a(168));Ss(Es,t),Ss(Ps,r)}function Ms(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var s in n=n.getChildContext())if(!(s in t))throw Error(a(108,G(e)||"Unknown",s));return O({},r,n)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ts=Es.current,Ss(Es,e),Ss(Ps,Ps.current),!0}function Is(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=Ms(e,t,Ts),n.__reactInternalMemoizedMergedChildContext=e,ks(Ps),ks(Es),Ss(Es,e)):ks(Ps),Ss(Ps,r)}var Os=null,Fs=!1,Bs=!1;function zs(e){null===Os?Os=[e]:Os.push(e)}function Us(){if(!Bs&&null!==Os){Bs=!0;var e=0,t=yt;try{var r=Os;for(yt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Os=null,Fs=!1}catch(fc){throw null!==Os&&(Os=Os.slice(e+1)),qe(Je,Us),fc}finally{yt=t,Bs=!1}}return null}var Vs=[],Gs=0,Ws=null,Hs=0,qs=[],Ks=0,Ys=null,$s=1,Qs="";function Xs(e,t){Vs[Gs++]=Hs,Vs[Gs++]=Ws,Ws=e,Hs=t}function Js(e,t,r){qs[Ks++]=$s,qs[Ks++]=Qs,qs[Ks++]=Ys,Ys=e;var n=$s;e=Qs;var s=32-at(n)-1;n&=~(1<<s),r+=1;var a=32-at(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,$s=1<<32-at(t)+s|r<<s|n,Qs=a+e}else $s=1<<a|r<<s|n,Qs=e}function Zs(e){null!==e.return&&(Xs(e,1),Js(e,1,0))}function ea(e){for(;e===Ws;)Ws=Vs[--Gs],Vs[Gs]=null,Hs=Vs[--Gs],Vs[Gs]=null;for(;e===Ys;)Ys=qs[--Ks],qs[Ks]=null,Qs=qs[--Ks],qs[Ks]=null,$s=qs[--Ks],qs[Ks]=null}var ta=null,ra=null,na=!1,sa=null;function aa(e,t){var r=Fc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ia(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ta=e,ra=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ta=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ys?{id:$s,overflow:Qs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Fc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ta=e,ra=null,!0);default:return!1}}function oa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(na){var t=ra;if(t){var r=t;if(!ia(e,t)){if(oa(e))throw Error(a(418));t=ls(r.nextSibling);var n=ta;t&&ia(e,t)?aa(n,r):(e.flags=-4097&e.flags|2,na=!1,ta=e)}}else{if(oa(e))throw Error(a(418));e.flags=-4097&e.flags|2,na=!1,ta=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ta=e}function da(e){if(e!==ta)return!1;if(!na)return ca(e),na=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ts(e.type,e.memoizedProps)),t&&(t=ra)){if(oa(e))throw ua(),Error(a(418));for(;t;)aa(e,t),t=ls(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ra=ls(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ra=null}}else ra=ta?ls(e.stateNode.nextSibling):null;return!0}function ua(){for(var e=ra;e;)e=ls(e.nextSibling)}function ha(){ra=ta=null,na=!1}function ma(e){null===sa?sa=[e]:sa.push(e)}var pa=b.ReactCurrentBatchConfig;function fa(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var s=n,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function xa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ga(e){return(0,e._init)(e._payload)}function ya(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=zc(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Wc(r,e.mode,n)).return=e,t):((t=s(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===N?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&ga(a)===t.type)?((n=s(t,r.props)).ref=fa(e,t,r),n.return=e,n):((n=Uc(r.type,r.key,r.props,null,e.mode,n)).ref=fa(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Hc(r,e.mode,n)).return=e,t):((t=s(t,r.children||[])).return=e,t)}function u(e,t,r,n,a){return null===t||7!==t.tag?((t=Vc(r,e.mode,n,a)).return=e,t):((t=s(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Wc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Uc(t.type,t.key,t.props,null,e.mode,r)).ref=fa(e,null,t),r.return=e,r;case w:return(t=Hc(t,e.mode,r)).return=e,t;case D:return h(e,(0,t._init)(t._payload),r)}if(te(t)||L(t))return(t=Vc(t,e.mode,r,null)).return=e,t;xa(e,t)}return null}function m(e,t,r,n){var s=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==s?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===s?c(e,t,r,n):null;case w:return r.key===s?d(e,t,r,n):null;case D:return m(e,t,(s=r._init)(r._payload),n)}if(te(r)||L(r))return null!==s?null:u(e,t,r,n,null);xa(e,r)}return null}function p(e,t,r,n,s){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case w:return d(t,e=e.get(null===n.key?r:n.key)||null,n,s);case D:return p(e,t,r,(0,n._init)(n._payload),s)}if(te(n)||L(n))return u(t,e=e.get(r)||null,n,s,null);xa(t,n)}return null}function f(s,a,o,l){for(var c=null,d=null,u=a,f=a=0,x=null;null!==u&&f<o.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=m(s,u,o[f],l);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===o.length)return r(s,u),na&&Xs(s,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(s,o[f],l))&&(a=i(u,a,f),null===d?c=u:d.sibling=u,d=u);return na&&Xs(s,f),c}for(u=n(s,u);f<o.length;f++)null!==(x=p(u,s,f,o[f],l))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),a=i(x,a,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(s,e)}),na&&Xs(s,f),c}function x(s,o,l,c){var d=L(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,x=o=0,g=null,y=l.next();null!==f&&!y.done;x++,y=l.next()){f.index>x?(g=f,f=null):g=f.sibling;var v=m(s,f,y.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(s,f),o=i(v,o,x),null===u?d=v:u.sibling=v,u=v,f=g}if(y.done)return r(s,f),na&&Xs(s,x),d;if(null===f){for(;!y.done;x++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return na&&Xs(s,x),d}for(f=n(s,f);!y.done;x++,y=l.next())null!==(y=p(f,s,x,y.value,c))&&(e&&null!==y.alternate&&f.delete(null===y.key?x:y.key),o=i(y,o,x),null===u?d=y:u.sibling=y,u=y);return e&&f.forEach(function(e){return t(s,e)}),na&&Xs(s,x),d}return function e(n,a,i,l){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===N){if(7===d.tag){r(n,d.sibling),(a=s(d,i.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&ga(c)===d.type){r(n,d.sibling),(a=s(d,i.props)).ref=fa(n,d,i),a.return=n,n=a;break e}r(n,d);break}t(n,d),d=d.sibling}i.type===N?((a=Vc(i.props.children,n.mode,l,i.key)).return=n,n=a):((l=Uc(i.type,i.key,i.props,null,n.mode,l)).ref=fa(n,a,i),l.return=n,n=l)}return o(n);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){r(n,a.sibling),(a=s(a,i.children||[])).return=n,n=a;break e}r(n,a);break}t(n,a),a=a.sibling}(a=Hc(i,n.mode,l)).return=n,n=a}return o(n);case D:return e(n,a,(d=i._init)(i._payload),l)}if(te(i))return f(n,a,i,l);if(L(i))return x(n,a,i,l);xa(n,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(r(n,a.sibling),(a=s(a,i)).return=n,n=a):(r(n,a),(a=Wc(i,n.mode,l)).return=n,n=a),o(n)):r(n,a)}}var va=ya(!0),ba=ya(!1),ja=Ns(null),wa=null,Na=null,ka=null;function Sa(){ka=Na=wa=null}function Ca(e){var t=ja.current;ks(ja),e._currentValue=t}function Ea(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pa(e,t){wa=e,ka=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===wa)throw Error(a(308));Na=e,wa.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var _a=null;function Aa(e){null===_a?_a=[e]:_a.push(e)}function Da(e,t,r,n){var s=t.interleaved;return null===s?(r.next=r,Aa(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ra(e,n)}function Ra(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ma=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&El)){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ra(e,r)}return null===(s=n.interleaved)?(t.next=t,Aa(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ra(e,r)}function Ba(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}function za(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ua(e,t,r,n){var s=e.updateQueue;Ma=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,d=c=l=null,o=a;;){var h=o.lane,m=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,f=o;switch(h=t,m=r,f.tag){case 1:if("function"===typeof(p=f.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=f.payload)?p.call(m,u,h):p)||void 0===h)break e;u=O({},u,h);break e;case 2:Ma=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=u}}function Va(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(null!==s){if(n.callback=null,n=r,"function"!==typeof s)throw Error(a(191,s));s.call(n)}}}var Ga={},Wa=Ns(Ga),Ha=Ns(Ga),qa=Ns(Ga);function Ka(e){if(e===Ga)throw Error(a(174));return e}function Ya(e,t){switch(Ss(qa,t),Ss(Ha,e),Ss(Wa,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(Wa),Ss(Wa,t)}function $a(){ks(Wa),ks(Ha),ks(qa)}function Qa(e){Ka(qa.current);var t=Ka(Wa.current),r=le(t,e.type);t!==r&&(Ss(Ha,e),Ss(Wa,r))}function Xa(e){Ha.current===e&&(ks(Wa),ks(Ha))}var Ja=Ns(0);function Za(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ei=[];function ti(){for(var e=0;e<ei.length;e++)ei[e]._workInProgressVersionPrimary=null;ei.length=0}var ri=b.ReactCurrentDispatcher,ni=b.ReactCurrentBatchConfig,si=0,ai=null,ii=null,oi=null,li=!1,ci=!1,di=0,ui=0;function hi(){throw Error(a(321))}function mi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function pi(e,t,r,n,s,i){if(si=i,ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Ji,e=r(n,s),ci){i=0;do{if(ci=!1,di=0,25<=i)throw Error(a(301));i+=1,oi=ii=null,t.updateQueue=null,ri.current=Zi,e=r(n,s)}while(ci)}if(ri.current=Qi,t=null!==ii&&null!==ii.next,si=0,oi=ii=ai=null,li=!1,t)throw Error(a(300));return e}function fi(){var e=0!==di;return di=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ai.memoizedState=oi=e:oi=oi.next=e,oi}function gi(){if(null===ii){var e=ai.alternate;e=null!==e?e.memoizedState:null}else e=ii.next;var t=null===oi?ai.memoizedState:oi.next;if(null!==t)oi=t,ii=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ii=e).memoizedState,baseState:ii.baseState,baseQueue:ii.baseQueue,queue:ii.queue,next:null},null===oi?ai.memoizedState=oi=e:oi=oi.next=e}return oi}function yi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=gi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=ii,s=n.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(null!==s){i=s.next,n=n.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=n):c=c.next=h,ai.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==i);null===c?o=n:c.next=l,an(n,t.memoizedState)||(yo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){s=e;do{i=s.lane,ai.lanes|=i,Ll|=i,s=s.next}while(s!==e)}else null===s&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bi(e){var t=gi(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(null!==s){r.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);an(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function ji(){}function wi(e,t){var r=ai,n=gi(),s=t(),i=!an(n.memoizedState,s);if(i&&(n.memoizedState=s,yo=!0),n=n.queue,Mi(Si.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(r.flags|=2048,Ti(9,ki.bind(null,r,n,s,t),void 0,null),null===Pl)throw Error(a(349));0!==(30&si)||Ni(r,t,s)}return s}function Ni(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ki(e,t,r,n){t.value=r,t.getSnapshot=n,Ci(t)&&Ei(e)}function Si(e,t,r){return r(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch(Sc){return!0}}function Ei(e){var t=Ra(e,1);null!==t&&tc(t,e,1,-1)}function Pi(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,ai,e),[t.memoizedState,e]}function Ti(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ai.updateQueue)?(t={lastEffect:null,stores:null},ai.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function _i(){return gi().memoizedState}function Ai(e,t,r,n){var s=xi();ai.flags|=e,s.memoizedState=Ti(1|t,r,void 0,void 0===n?null:n)}function Di(e,t,r,n){var s=gi();n=void 0===n?null:n;var a=void 0;if(null!==ii){var i=ii.memoizedState;if(a=i.destroy,null!==n&&mi(n,i.deps))return void(s.memoizedState=Ti(t,r,a,n))}ai.flags|=e,s.memoizedState=Ti(1|t,r,a,n)}function Ri(e,t){return Ai(8390656,8,e,t)}function Mi(e,t){return Di(2048,8,e,t)}function Li(e,t){return Di(4,2,e,t)}function Ii(e,t){return Di(4,4,e,t)}function Oi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fi(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Di(4,4,Oi.bind(null,t,e),r)}function Bi(){}function zi(e,t){var r=gi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ui(e,t){var r=gi();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&mi(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vi(e,t,r){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=r):(an(r,t)||(r=pt(),ai.lanes|=r,Ll|=r,e.baseState=!0),t)}function Gi(e,t){var r=yt;yt=0!==r&&4>r?r:4,e(!0);var n=ni.transition;ni.transition={};try{e(!1),t()}finally{yt=r,ni.transition=n}}function Wi(){return gi().memoizedState}function Hi(e,t,r){var n=ec(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e))Yi(t,r);else if(null!==(r=Da(e,t,r,n))){tc(r,e,n,Zl()),$i(r,t,n)}}function qi(e,t,r){var n=ec(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Yi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,an(o,i)){var l=t.interleaved;return null===l?(s.next=s,Aa(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(gc){}null!==(r=Da(e,t,s,n))&&(tc(r,e,n,s=Zl()),$i(r,t,n))}}function Ki(e){var t=e.alternate;return e===ai||null!==t&&t===ai}function Yi(e,t){ci=li=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function $i(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,gt(e,r)}}var Qi={readContext:Ta,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:Ta,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ri,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ai(4194308,4,Oi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ai(4,2,e,t)},useMemo:function(e,t){var r=xi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xi();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hi.bind(null,ai,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Pi,useDebugValue:Bi,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Gi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ai,s=xi();if(na){if(void 0===r)throw Error(a(407));r=r()}else{if(r=t(),null===Pl)throw Error(a(349));0!==(30&si)||Ni(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ri(Si.bind(null,n,i,e),[e]),n.flags|=2048,Ti(9,ki.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xi(),t=Pl.identifierPrefix;if(na){var r=Qs;t=":"+t+"R"+(r=($s&~(1<<32-at($s)-1)).toString(32)+r),0<(r=di++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ui++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ji={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Mi,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Ii,useMemo:Ui,useReducer:vi,useRef:_i,useState:function(){return vi(yi)},useDebugValue:Bi,useDeferredValue:function(e){return Vi(gi(),ii.memoizedState,e)},useTransition:function(){return[vi(yi)[0],gi().memoizedState]},useMutableSource:ji,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1},Zi={readContext:Ta,useCallback:zi,useContext:Ta,useEffect:Mi,useImperativeHandle:Fi,useInsertionEffect:Li,useLayoutEffect:Ii,useMemo:Ui,useReducer:bi,useRef:_i,useState:function(){return bi(yi)},useDebugValue:Bi,useDeferredValue:function(e){var t=gi();return null===ii?t.memoizedState=e:Vi(t,ii.memoizedState,e)},useTransition:function(){return[bi(yi)[0],gi().memoizedState]},useMutableSource:ji,useSyncExternalStore:wi,useId:Wi,unstable_isNewReconciler:!1};function eo(e,t){if(e&&e.defaultProps){for(var r in t=O({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function to(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:O({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=ec(e),a=Oa(n,s);a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,s))&&(tc(t,e,s,n),Ba(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Zl(),s=ec(e),a=Oa(n,s);a.tag=1,a.payload=t,void 0!==r&&null!==r&&(a.callback=r),null!==(t=Fa(e,a,s))&&(tc(t,e,s,n),Ba(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Zl(),n=ec(e),s=Oa(r,n);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Fa(e,s,n))&&(tc(t,e,n,r),Ba(t,e,n))}};function no(e,t,r,n,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!on(r,n)||!on(s,a))}function so(e,t,r){var n=!1,s=Cs,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(s=As(t)?Ts:Es.current,a=(n=null!==(n=t.contextTypes)&&void 0!==n)?_s(e,s):Cs),t=new t(r,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ao(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ta(a):(a=As(t)?Ts:Es.current,s.context=_s(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(to(e,t,a,r),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Ua(e,r,s,n),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function oo(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var s=r}catch(Cc){s="\nError generating stack: "+Cc.message+"\n"+Cc.stack}return{value:e,source:t,stack:s,digest:null}}function lo(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(jc){setTimeout(function(){throw jc})}}var uo="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,r){(r=Oa(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Gl||(Gl=!0,Wl=n),co(0,t)},r}function mo(e,t,r){(r=Oa(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(r.callback=function(){co(0,t),"function"!==typeof n&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function po(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new uo;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Dc.bind(null,e,t,r),t.then(e,e))}function fo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,r,n,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Oa(-1,1)).tag=2,Fa(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var go=b.ReactCurrentOwner,yo=!1;function vo(e,t,r,n){t.child=null===e?ba(t,null,r,n):va(t,e.child,r,n)}function bo(e,t,r,n,s){r=r.render;var a=t.ref;return Pa(t,s),n=pi(e,t,r,n,a,s),r=fi(),null===e||yo?(na&&r&&Zs(t),t.flags|=1,vo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function jo(e,t,r,n,s){if(null===e){var a=r.type;return"function"!==typeof a||Bc(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Uc(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wo(e,t,a,n,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:on)(i,n)&&e.ref===t.ref)return Go(e,t,s)}return t.flags|=1,(e=zc(a,n)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(on(a,n)&&e.ref===t.ref){if(yo=!1,t.pendingProps=n=a,0===(e.lanes&s))return t.lanes=e.lanes,Go(e,t,s);0!==(131072&e.flags)&&(yo=!0)}}return So(e,t,r,n,s)}function No(e,t,r){var n=t.pendingProps,s=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Dl,Al),Al|=r;else{if(0===(1073741824&r))return e=null!==a?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:r,Ss(Dl,Al),Al|=n}else null!==a?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ss(Dl,Al),Al|=n;return vo(e,t,s,r),t.child}function ko(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,r,n,s){var a=As(r)?Ts:Es.current;return a=_s(t,a),Pa(t,s),r=pi(e,t,r,n,a,s),n=fi(),null===e||yo?(na&&n&&Zs(t),t.flags|=1,vo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Go(e,t,s))}function Co(e,t,r,n,s){if(As(r)){var a=!0;Ls(t)}else a=!1;if(Pa(t,s),null===t.stateNode)Vo(e,t),so(t,r,n),io(t,r,n,s),n=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=_s(t,c=As(r)?Ts:Es.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==n||l!==c)&&ao(t,i,n,c),Ma=!1;var h=t.memoizedState;i.state=h,Ua(t,n,i,s),l=t.memoizedState,o!==n||h!==l||Ps.current||Ma?("function"===typeof d&&(to(t,r,d,n),l=t.memoizedState),(o=Ma||no(t,r,o,n,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ia(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:eo(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=r.contextType)&&null!==l?l=Ta(l):l=_s(t,l=As(r)?Ts:Es.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&ao(t,i,n,l),Ma=!1,h=t.memoizedState,i.state=h,Ua(t,n,i,s);var p=t.memoizedState;o!==u||h!==p||Ps.current||Ma?("function"===typeof m&&(to(t,r,m,n),p=t.memoizedState),(c=Ma||no(t,r,c,n,h,p,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(n,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),i.props=n,i.state=p,i.context=l,n=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Eo(e,t,r,n,a,s)}function Eo(e,t,r,n,s,a){ko(e,t);var i=0!==(128&t.flags);if(!n&&!i)return s&&Is(t,r,!1),Go(e,t,a);n=t.stateNode,go.current=t;var o=i&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&i?(t.child=va(t,e.child,null,a),t.child=va(t,null,o,a)):vo(e,t,o,a),t.memoizedState=n.state,s&&Is(t,r,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Ya(e,t.containerInfo)}function To(e,t,r,n,s){return ha(),ma(s),t.flags|=256,vo(e,t,r,n),t.child}var _o,Ao,Do,Ro,Mo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Io(e,t,r){var n,s=t.pendingProps,i=Ja.current,o=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&i)),n?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ss(Ja,1&i),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Gc(l,s,0,null),e=Vc(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(r),t.memoizedState=Mo,e):Oo(t,l));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated))return function(e,t,r,n,s,i,o){if(r)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,n=lo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Gc({mode:"visible",children:n.children},s,0,null),(i=Vc(i,s,o,null)).flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,0!==(1&t.mode)&&va(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Mo,i);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===s.data){if(n=s.nextSibling&&s.nextSibling.dataset)var l=n.dgst;return n=l,Fo(e,t,o,n=lo(i=Error(a(419)),n,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(n=Pl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(n.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ra(e,s),tc(n,e,s,-1))}return pc(),Fo(e,t,o,n=lo(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Mc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=ls(s.nextSibling),ta=t,na=!0,sa=null,null!==e&&(qs[Ks++]=$s,qs[Ks++]=Qs,qs[Ks++]=Ys,$s=e.id,Qs=e.overflow,Ys=t),t=Oo(t,n.children),t.flags|=4096,t)}(e,t,l,s,n,i,r);if(o){o=s.fallback,l=t.mode,n=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=zc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==n?o=zc(n,o):(o=Vc(o,l,r,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=Mo,s}return e=(o=e.child).sibling,s=zc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=r),s.return=t,s.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Oo(e,t){return(t=Gc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,r,n){return null!==n&&ma(n),va(t,e.child,null,r),(e=Oo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ea(e.return,t,r)}function zo(e,t,r,n,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Uo(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(vo(e,t,n.children,r),0!==(2&(n=Ja.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,r,t);else if(19===e.tag)Bo(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ss(Ja,n),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===Za(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),zo(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Za(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}zo(t,!0,r,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=zc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=zc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wo(e,t){if(!na)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=14680064&s.subtreeFlags,n|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qo(e,t,r){var n=t.pendingProps;switch(ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return As(t.type)&&Ds(),Ho(t),null;case 3:return n=t.stateNode,$a(),ks(Ps),ks(Es),ti(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(ac(sa),sa=null))),Ao(e,t),Ho(t),null;case 5:Xa(t);var s=Ka(qa.current);if(r=t.type,null!==e&&null!=t.stateNode)Do(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(a(166));return Ho(t),null}if(e=Ka(Wa.current),da(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[us]=t,n[hs]=i,e=0!==(1&t.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(s=0;s<Mn.length;s++)Fn(Mn[s],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Q(n,i),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Fn("invalid",n);break;case"textarea":se(n,i),Fn("invalid",n)}for(var l in ge(r,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xn(n.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fn("scroll",n)}switch(r){case"input":q(n),Z(n,i,!0);break;case"textarea":q(n),ie(n);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(n.onclick=Jn)}n=s,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[us]=t,e[hs]=n,_o(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Fn("cancel",e),Fn("close",e),s=n;break;case"iframe":case"object":case"embed":Fn("load",e),s=n;break;case"video":case"audio":for(s=0;s<Mn.length;s++)Fn(Mn[s],e);s=n;break;case"source":Fn("error",e),s=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),s=n;break;case"details":Fn("toggle",e),s=n;break;case"input":Q(e,n),s=$(e,n),Fn("invalid",e);break;case"option":default:s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=O({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":se(e,n),s=ne(e,n),Fn("invalid",e)}for(i in ge(r,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&de(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Fn("scroll",e):null!=d&&v(e,i,d,l))}switch(r){case"input":q(e),Z(e,n,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=n.value&&e.setAttribute("value",""+W(n.value));break;case"select":e.multiple=!!n.multiple,null!=(i=n.value)?re(e,!!n.multiple,i,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));if(r=Ka(qa.current),Ka(Wa.current),da(t)){if(n=t.stateNode,r=t.memoizedProps,n[us]=t,(i=n.nodeValue!==r)&&null!==(e=ta))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[us]=t,t.stateNode=n}return Ho(t),null;case 13:if(ks(Ja),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(na&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ua(),ha(),t.flags|=98560,i=!1;else if(i=da(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[us]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),i=!1}else null!==sa&&(ac(sa),sa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Rl&&(Rl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return $a(),Ao(e,t),null===e&&Un(t.stateNode.containerInfo),Ho(t),null;case 10:return Ca(t.type._context),Ho(t),null;case 19:if(ks(Ja),null===(i=t.memoizedState))return Ho(t),null;if(n=0!==(128&t.flags),null===(l=i.rendering))if(n)Wo(i,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=Za(e))){for(t.flags|=128,Wo(i,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(i=r).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ss(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Ul&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=Za(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!na)return Ho(t),null}else 2*Qe()-i.renderingStartTime>Ul&&1073741824!==r&&(t.flags|=128,n=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=i.last)?r.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,r=Ja.current,Ss(Ja,n?1&r|2:1&r),t):(Ho(t),null);case 22:case 23:return dc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ea(t),t.tag){case 1:return As(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return $a(),ks(Ps),ks(Es),ti(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(ks(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(Ja),null;case 4:return $a(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}_o=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ao=function(){},Do=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ka(Wa.current);var a,i=null;switch(r){case"input":s=$(e,s),n=$(e,n),i=[];break;case"select":s=O({},s,{value:void 0}),n=O({},n,{value:void 0}),i=[];break;case"textarea":s=ne(e,s),n=ne(e,n),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(d in ge(r,n),r=null,s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in n){var c=n[d];if(l=null!=s?s[d]:void 0,n.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fn("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,r,n){r!==n&&(t.flags|=4)};var Yo=!1,$o=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Jo(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(Sc){Ac(e,t,Sc)}else r.current=null}function Zo(e,t,r){try{r()}catch(Sc){Ac(e,t,Sc)}}var el=!1;function tl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zo(t,r,a)}s=s.next}while(s!==n)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function nl(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[us],delete t[hs],delete t[ps],delete t[fs],delete t[xs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ol(e,t,r),e=e.sibling;null!==e;)ol(e,t,r),e=e.sibling}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}var cl=null,dl=!1;function ul(e,t,r){for(r=r.child;null!==r;)hl(e,t,r),r=r.sibling}function hl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(nt,r)}catch(Pc){}switch(r.tag){case 5:$o||Jo(r,t);case 6:var n=cl,s=dl;cl=null,ul(e,t,r),dl=s,null!==(cl=n)&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):cl.removeChild(r.stateNode));break;case 18:null!==cl&&(dl?(e=cl,r=r.stateNode,8===e.nodeType?os(e.parentNode,r):1===e.nodeType&&os(e,r),Ut(e)):os(cl,r.stateNode));break;case 4:n=cl,s=dl,cl=r.stateNode.containerInfo,dl=!0,ul(e,t,r),cl=n,dl=s;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&Zo(r,t,i),s=s.next}while(s!==n)}ul(e,t,r);break;case 1:if(!$o&&(Jo(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(Pc){Ac(r,t,Pc)}ul(e,t,r);break;case 21:ul(e,t,r);break;case 22:1&r.mode?($o=(n=$o)||null!==r.memoizedState,ul(e,t,r),$o=n):ul(e,t,r);break;default:ul(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qo),t.forEach(function(t){var n=Lc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));hl(i,o,s),cl=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(gc){Ac(s,t,gc)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),xl(e),4&n){try{tl(3,e,e.return),rl(3,e)}catch(xc){Ac(e,e.return,xc)}try{tl(5,e,e.return)}catch(xc){Ac(e,e.return,xc)}}break;case 1:pl(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return);break;case 5:if(pl(t,e),xl(e),512&n&&null!==r&&Jo(r,r.return),32&e.flags){var s=e.stateNode;try{ue(s,"")}catch(xc){Ac(e,e.return,xc)}}if(4&n&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==r?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(s,i),ye(l,o);var d=ye(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?fe(s,h):"dangerouslySetInnerHTML"===u?de(s,h):"children"===u?ue(s,h):v(s,u,h,d)}switch(l){case"input":J(s,i);break;case"textarea":ae(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?re(s,!!i.multiple,p,!1):m!==!!i.multiple&&(null!=i.defaultValue?re(s,!!i.multiple,i.defaultValue,!0):re(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(xc){Ac(e,e.return,xc)}}break;case 6:if(pl(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(xc){Ac(e,e.return,xc)}}break;case 3:if(pl(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(xc){Ac(e,e.return,xc)}break;case 4:default:pl(t,e),xl(e);break;case 13:pl(t,e),xl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(zl=Qe())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?($o=(d=$o)||u,pl(t,e),$o=d):pl(t,e),xl(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(h=Xo=u;null!==Xo;){switch(p=(m=Xo).child,m.tag){case 0:case 11:case 14:case 15:tl(4,m,m.return);break;case 1:Jo(m,m.return);var f=m.stateNode;if("function"===typeof f.componentWillUnmount){n=m,r=m.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(xc){Ac(n,r,xc)}}break;case 5:Jo(m,m.return);break;case 22:if(null!==m.memoizedState){bl(h);continue}}null!==p?(p.return=m,Xo=p):bl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(xc){Ac(e,e.return,xc)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(xc){Ac(e,e.return,xc)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),xl(e),4&n&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(al(r)){var n=r;break e}r=r.return}throw Error(a(160))}switch(n.tag){case 5:var s=n.stateNode;32&n.flags&&(ue(s,""),n.flags&=-33),ll(e,il(e),s);break;case 3:case 4:var i=n.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(a(161))}}catch(sd){Ac(e,e.return,sd)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,r){Xo=e,yl(e,t,r)}function yl(e,t,r){for(var n=0!==(1&e.mode);null!==Xo;){var s=Xo,a=s.child;if(22===s.tag&&n){var i=null!==s.memoizedState||Yo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=i,($o=l)&&!c)for(Xo=s;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?jl(s):null!==l?(l.return=i,Xo=l):jl(s);for(;null!==a;)Xo=a,yl(a,t,r),a=a.sibling;Xo=s,Yo=o,$o=c}vl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Xo=a):vl(e)}}function vl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||rl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!$o)if(null===r)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:eo(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Va(t,i,n);break;case 3:var o=t.updateQueue;if(null!==o){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Va(t,o,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}$o||512&t.flags&&nl(t)}catch(m){Ac(t,t.return,m)}}if(t===e){Xo=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xo=r;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xo=r;break}Xo=t.return}}function jl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rl(4,t)}catch(sd){Ac(t,r,sd)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var s=t.return;try{n.componentDidMount()}catch(sd){Ac(t,s,sd)}}var a=t.return;try{nl(t)}catch(sd){Ac(t,a,sd)}break;case 5:var i=t.return;try{nl(t)}catch(sd){Ac(t,i,sd)}}}catch(sd){Ac(t,t.return,sd)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var wl,Nl=Math.ceil,kl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,El=0,Pl=null,Tl=null,_l=0,Al=0,Dl=Ns(0),Rl=0,Ml=null,Ll=0,Il=0,Ol=0,Fl=null,Bl=null,zl=0,Ul=1/0,Vl=null,Gl=!1,Wl=null,Hl=null,ql=!1,Kl=null,Yl=0,$l=0,Ql=null,Xl=-1,Jl=0;function Zl(){return 0!==(6&El)?Qe():-1!==Xl?Xl:Xl=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==_l?_l&-_l:null!==pa.transition?(0===Jl&&(Jl=pt()),Jl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function tc(e,t,r,n){if(50<$l)throw $l=0,Ql=null,Error(a(185));xt(e,r,n),0!==(2&El)&&e===Pl||(e===Pl&&(0===(2&El)&&(Il|=r),4===Rl&&ic(e,_l)),rc(e,n),1===r&&0===El&&0===(1&t.mode)&&(Ul=Qe()+500,Fs&&Us()))}function rc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-at(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=ut(e,e===Pl?_l:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Fs=!0,zs(e)}(oc.bind(null,e)):zs(oc.bind(null,e)),as(function(){0===(6&El)&&Us()}),r=null;else{switch(vt(n)){case 1:r=Je;break;case 4:r=Ze;break;case 16:default:r=et;break;case 536870912:r=rt}r=Ic(r,nc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nc(e,t){if(Xl=-1,Jl=0,0!==(6&El))throw Error(a(327));var r=e.callbackNode;if(Tc()&&e.callbackNode!==r)return null;var n=ut(e,e===Pl?_l:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=vc(e,n);else{t=n;var s=El;El|=2;var i=mc();for(Pl===e&&_l===t||(Vl=null,Ul=Qe()+500,uc(e,t));;)try{wc();break}catch(Pc){hc(e,Pc)}Sa(),kl.current=i,El=s,null!==Tl?t=0:(Pl=null,_l=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(n=s,t=sc(e,s))),1===t)throw r=Ml,uc(e,0),ic(e,n),rc(e,Qe()),r;if(6===t)ic(e,n);else{if(s=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!an(a(),s))return!1}catch(o){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=vc(e,n))&&(0!==(i=mt(e))&&(n=i,t=sc(e,i))),1===t))throw r=Ml,uc(e,0),ic(e,n),rc(e,Qe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(a(345));case 2:case 5:Ec(e,Bl,Vl);break;case 3:if(ic(e,n),(130023424&n)===n&&10<(t=zl+500-Qe())){if(0!==ut(e,0))break;if(((s=e.suspendedLanes)&n)!==n){Zl(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(Ec.bind(null,e,Bl,Vl),t);break}Ec(e,Bl,Vl);break;case 4:if(ic(e,n),(4194240&n)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-at(n);i=1<<o,(o=t[o])>s&&(s=o),n&=~i}if(n=s,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nl(n/1960))-n)){e.timeoutHandle=rs(Ec.bind(null,e,Bl,Vl),n);break}Ec(e,Bl,Vl);break;default:throw Error(a(329))}}}return rc(e,Qe()),e.callbackNode===r?nc.bind(null,e):null}function sc(e,t){var r=Fl;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=r,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Ol,t&=~Il,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function oc(e){if(0!==(6&El))throw Error(a(327));Tc();var t=ut(e,0);if(0===(1&t))return rc(e,Qe()),null;var r=vc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Ml,uc(e,0),ic(e,t),rc(e,Qe()),r;if(6===r)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Bl,Vl),rc(e,Qe()),null}function lc(e,t){var r=El;El|=1;try{return e(t)}finally{0===(El=r)&&(Ul=Qe()+500,Fs&&Us())}}function cc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&Tc();var t=El;El|=1;var r=Cl.transition,n=yt;try{if(Cl.transition=null,yt=1,e)return e()}finally{yt=n,Cl.transition=r,0===(6&(El=t))&&Us()}}function dc(){Al=Dl.current,ks(Dl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ns(r)),null!==Tl)for(r=Tl.return;null!==r;){var n=r;switch(ea(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Ds();break;case 3:$a(),ks(Ps),ks(Es),ti();break;case 5:Xa(n);break;case 4:$a();break;case 13:case 19:ks(Ja);break;case 10:Ca(n.type._context);break;case 22:case 23:dc()}r=r.return}if(Pl=e,Tl=e=zc(e.current,null),_l=Al=t,Rl=0,Ml=null,Ol=Il=Ll=0,Bl=Fl=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(n=(r=_a[t]).interleaved)){r.interleaved=null;var s=n.next,a=r.pending;if(null!==a){var i=a.next;a.next=s,n.next=i}r.pending=n}_a=null}return e}function hc(e,t){for(;;){var r=Tl;try{if(Sa(),ri.current=Qi,li){for(var n=ai.memoizedState;null!==n;){var s=n.queue;null!==s&&(s.pending=null),n=n.next}li=!1}if(si=0,oi=ii=ai=null,ci=!1,di=0,Sl.current=null,null===r||null===r.return){Rl=1,Ml=t,Tl=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=fo(o);if(null!==p){p.flags&=-257,xo(p,o,l,0,t),1&p.mode&&po(i,d,t),c=d;var f=(t=p).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){po(i,d,t),pc();break e}c=Error(a(426))}else if(na&&1&l.mode){var g=fo(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xo(g,o,l,0,t),ma(oo(c,l));break e}}i=c=oo(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,za(i,ho(0,c,t));break e;case 1:l=c;var y=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Hl||!Hl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,za(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}kc(r)}catch(b){t=b,Tl===r&&null!==r&&(Tl=r=r.return);continue}break}}function mc(){var e=kl.current;return kl.current=Qi,null===e?Qi:e}function pc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0===(268435455&Ll)&&0===(268435455&Il)||ic(Pl,_l)}function vc(e,t){var r=El;El|=2;var n=mc();for(Pl===e&&_l===t||(Vl=null,uc(e,t));;)try{bc();break}catch(fc){hc(e,fc)}if(Sa(),El=r,kl.current=n,null!==Tl)throw Error(a(261));return Pl=null,_l=0,Rl}function bc(){for(;null!==Tl;)Nc(Tl)}function wc(){for(;null!==Tl&&!Ye();)Nc(Tl)}function Nc(e){var t=wl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?kc(e):Tl=t,Sl.current=null}function kc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=qo(r,t,Al)))return void(Tl=r)}else{if(null!==(r=Ko(r,t)))return r.flags&=32767,void(Tl=r);if(null===e)return Rl=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Rl&&(Rl=5)}function Ec(e,t,r){var n=yt,s=Cl.transition;try{Cl.transition=null,yt=1,function(e,t,r,n){do{Tc()}while(null!==Kl);if(0!==(6&El))throw Error(a(327));r=e.finishedWork;var s=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-at(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}(e,i),e===Pl&&(Tl=Pl=null,_l=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ql||(ql=!0,Ic(et,function(){return Tc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Cl.transition,Cl.transition=null;var o=yt;yt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(Zn=Gt,hn(e=un())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch(Kc){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==r||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===r&&++d===s&&(l=o),m===i&&++u===n&&(c=o),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(es={focusedElem:e,selectionRange:r},Gt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:eo(t.type,x),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(Kc){Ac(t,t.return,Kc)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}f=el,el=!1}(e,r),fl(r,e),mn(es),Gt=!!Zn,es=Zn=null,e.current=r,gl(r,e,s),$e(),El=l,yt=o,Cl.transition=i}else e.current=r;if(ql&&(ql=!1,Kl=e,Yl=s),i=e.pendingLanes,0===i&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),rc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&Tc(),i=e.pendingLanes,0!==(1&i)?e===Ql?$l++:($l=0,Ql=e):$l=0,Us()}(e,t,r,n)}finally{Cl.transition=s,yt=n}return null}function Tc(){if(null!==Kl){var e=vt(Yl),t=Cl.transition,r=yt;try{if(Cl.transition=null,yt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&El))throw Error(a(331));var s=El;for(El|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:tl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Xo=h;else for(;null!==Xo;){var m=(u=Xo).sibling,p=u.return;if(sl(u),u===d){Xo=null;break}if(null!==m){m.return=p,Xo=m;break}Xo=p}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Xo=y;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var b=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Xo=b;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Ac(l,l.return,w)}if(l===o){Xo=null;break e}var j=l.sibling;if(null!==j){j.return=l.return,Xo=j;break e}Xo=l.return}}if(El=s,Us(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(nt,e)}catch(w){}n=!0}return n}finally{yt=r,Cl.transition=t}}return!1}function _c(e,t,r){e=Fa(e,t=ho(0,t=oo(r,t),1),1),t=Zl(),null!==e&&(xt(e,1,t),rc(e,t))}function Ac(e,t,r){if(3===e.tag)_c(e,e,r);else for(;null!==t;){if(3===t.tag){_c(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Hl||!Hl.has(n))){t=Fa(t,e=mo(t,e=oo(r,e),1),1),e=Zl(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Dc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(_l&r)===r&&(4===Rl||3===Rl&&(130023424&_l)===_l&&500>Qe()-zl?uc(e,0):Ol|=r),rc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=Zl();null!==(e=Ra(e,t))&&(xt(e,t,r),rc(e,r))}function Mc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Rc(e,r)}function Lc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;null!==s&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(a(314))}null!==n&&n.delete(t),Rc(e,r)}function Ic(e,t){return qe(e,t)}function Oc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,r,n){return new Oc(e,t,r,n)}function Bc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zc(e,t){var r=e.alternate;return null===r?((r=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uc(e,t,r,n,s,i){var o=2;if(n=e,"function"===typeof e)Bc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Vc(r.children,s,i,t);case k:o=8,s|=8;break;case S:return(e=Fc(12,r,t,2|s)).elementType=S,e.lanes=i,e;case T:return(e=Fc(13,r,t,s)).elementType=T,e.lanes=i,e;case _:return(e=Fc(19,r,t,s)).elementType=_,e.lanes=i,e;case R:return Gc(r,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case E:o=9;break e;case P:o=11;break e;case A:o=14;break e;case D:o=16,n=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fc(o,r,t,s)).elementType=e,t.type=n,t.lanes=i,t}function Vc(e,t,r,n){return(e=Fc(7,e,n,t)).lanes=r,e}function Gc(e,t,r,n){return(e=Fc(22,e,n,t)).elementType=R,e.lanes=r,e.stateNode={isHidden:!1},e}function Wc(e,t,r){return(e=Fc(6,e,null,t)).lanes=r,e}function Hc(e,t,r){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yc(e,t,r,n,s,a,i,o,l){return e=new qc(e,t,r,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Fc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function $c(e){if(!e)return Cs;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var r=e.type;if(As(r))return Ms(e,r,t)}return t}function Qc(e,t,r,n,s,a,i,o,l){return(e=Yc(r,n,!0,e,0,a,0,o,l)).context=$c(null),r=e.current,(a=Oa(n=Zl(),s=ec(r))).callback=void 0!==t&&null!==t?t:null,Fa(r,a,s),e.current.lanes=s,xt(e,s,n),rc(e,n),e}function Xc(e,t,r,n){var s=t.current,a=Zl(),i=ec(s);return r=$c(r),null===t.context?t.context=r:t.pendingContext=r,(t=Oa(a,i)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Fa(s,t,i))&&(tc(e,s,i,a),Ba(e,s,i)),i}function Jc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ed(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}wl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ps.current)yo=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yo=!1,function(e,t,r){switch(t.tag){case 3:Po(t),ha();break;case 5:Qa(t);break;case 1:As(t.type)&&Ls(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ss(ja,n._currentValue),n._currentValue=s;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ss(Ja,1&Ja.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Io(e,t,r):(Ss(Ja,1&Ja.current),null!==(e=Go(e,t,r))?e.sibling:null);Ss(Ja,1&Ja.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Uo(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Ja,Ja.current),n)break;return null;case 22:case 23:return t.lanes=0,No(e,t,r)}return Go(e,t,r)}(e,t,r);yo=0!==(131072&e.flags)}else yo=!1,na&&0!==(1048576&t.flags)&&Js(t,Hs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vo(e,t),e=t.pendingProps;var s=_s(t,Es.current);Pa(t,r),s=pi(null,t,n,e,s,r);var i=fi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(n)?(i=!0,Ls(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,La(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,io(t,n,e,r),t=Eo(null,t,n,!0,i,r)):(t.tag=0,na&&i&&Zs(t),vo(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vo(e,t),e=t.pendingProps,n=(s=n._init)(n._payload),t.type=n,s=t.tag=function(e){if("function"===typeof e)return Bc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(n),e=eo(n,e),s){case 0:t=So(null,t,n,e,r);break e;case 1:t=Co(null,t,n,e,r);break e;case 11:t=bo(null,t,n,e,r);break e;case 14:t=jo(null,t,n,eo(n.type,e),r);break e}throw Error(a(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,So(e,t,n,s=t.elementType===n?s:eo(n,s),r);case 1:return n=t.type,s=t.pendingProps,Co(e,t,n,s=t.elementType===n?s:eo(n,s),r);case 3:e:{if(Po(t),null===e)throw Error(a(387));n=t.pendingProps,s=(i=t.memoizedState).element,Ia(e,t),Ua(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=To(e,t,n,r,s=oo(Error(a(423)),t));break e}if(n!==s){t=To(e,t,n,r,s=oo(Error(a(424)),t));break e}for(ra=ls(t.stateNode.containerInfo.firstChild),ta=t,na=!0,sa=null,r=ba(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),n===s){t=Go(e,t,r);break e}vo(e,t,n,r)}t=t.child}return t;case 5:return Qa(t),null===e&&la(t),n=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ts(n,s)?o=null:null!==i&&ts(n,i)&&(t.flags|=32),ko(e,t),vo(e,t,o,r),t.child;case 6:return null===e&&la(t),null;case 13:return Io(e,t,r);case 4:return Ya(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=va(t,null,n,r):vo(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,bo(e,t,n,s=t.elementType===n?s:eo(n,s),r);case 7:return vo(e,t,t.pendingProps,r),t.child;case 8:case 12:return vo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ss(ja,n._currentValue),n._currentValue=o,null!==i)if(an(i.value,o)){if(i.children===s.children&&!Ps.current){t=Go(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===i.tag){(c=Oa(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),Ea(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=r,null!==(l=o.alternate)&&(l.lanes|=r),Ea(o,r,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}vo(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Pa(t,r),n=n(s=Ta(s)),t.flags|=1,vo(e,t,n,r),t.child;case 14:return s=eo(n=t.type,t.pendingProps),jo(e,t,n,s=eo(n.type,s),r);case 15:return wo(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:eo(n,s),Vo(e,t),t.tag=1,As(n)?(e=!0,Ls(t)):e=!1,Pa(t,r),so(t,n,s),io(t,n,s,r),Eo(null,t,n,!0,e,r);case 19:return Uo(e,t,r);case 22:return No(e,t,r)}throw Error(a(156,t.tag))};var td="function"===typeof reportError?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}function nd(e){this._internalRoot=e}function ad(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function id(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function od(){}function ld(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Jc(i);o.call(e)}}Xc(t,i,e,s)}else i=function(e,t,r,n,s){if(s){if("function"===typeof n){var a=n;n=function(){var e=Jc(i);a.call(e)}}var i=Qc(t,n,e,0,null,!1,0,"",od);return e._reactRootContainer=i,e[ms]=i.current,Un(8===e.nodeType?e.parentNode:e),cc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof n){var o=n;n=function(){var e=Jc(l);o.call(e)}}var l=Yc(e,0,!1,null,0,!1,0,"",od);return e._reactRootContainer=l,e[ms]=l.current,Un(8===e.nodeType?e.parentNode:e),cc(function(){Xc(t,l,r,n)}),l}(r,t,e,s,n);return Jc(i)}nd.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Xc(e,t,null,null)},nd.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Xc(null,e,null,null)}),t[ms]=null}},nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Dt.length&&0!==t&&t<Dt[r].priority;r++);Dt.splice(r,0,e),0===r&&It(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dt(t.pendingLanes);0!==r&&(gt(t,1|r),rc(t,Qe()),0===(6&El)&&(Ul=Qe()+500,Us()))}break;case 13:cc(function(){var t=Ra(e,1);if(null!==t){var r=Zl();tc(t,e,1,r)}}),ed(e,1)}},jt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)tc(t,e,134217728,Zl());ed(e,134217728)}},wt=function(e){if(13===e.tag){var t=ec(e),r=Ra(e,t);if(null!==r)tc(r,e,t,Zl());ed(e,t)}},Nt=function(){return yt},kt=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}},je=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bs(n);if(!s)throw Error(a(90));K(n),J(n,s)}}}break;case"textarea":ae(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=lc,Pe=cc;var cd={usingClientEntryPoint:!1,Events:[ys,vs,bs,Se,Ce,lc]},dd={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ud={bundleType:dd.bundleType,version:dd.version,rendererPackageName:dd.rendererPackageName,rendererConfig:dd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:dd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{nt=hd.inject(ud),st=hd}catch(yc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ad(t))throw Error(a(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!ad(e))throw Error(a(299));var r=!1,n="",s=td;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Yc(e,1,!1,null,0,r,0,n,s),e[ms]=t.current,Un(8===e.nodeType?e.parentNode:e),new rd(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,r){if(!id(t))throw Error(a(200));return ld(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!ad(e))throw Error(a(405));var n=null!=r&&r.hydratedSources||null,s=!1,i="",o=td;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(s=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(o=r.onRecoverableError)),t=Qc(t,null,e,1,null!=r?r:null,s,0,i,o),e[ms]=t.current,Un(e),n)for(e=0;e<n.length;e++)s=(s=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new nd(t)},t.render=function(e,t,r){if(!id(t))throw Error(a(200));return ld(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!id(e))throw Error(a(40));return!!e._reactRootContainer&&(cc(function(){ld(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!id(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ld(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/";var n={};r.r(n),r.d(n,{Decoder:()=>gh,Encoder:()=>fh,PacketType:()=>ph,protocol:()=>mh});var s,a=r(43),i=r.t(a,2),o=r(391),l=r(950),c=r.t(l,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(fc){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,r,n){return void 0===r&&(r=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function y(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=s.Pop,c=null,m=g();function g(){return(o.state||{idx:null}).idx}function y(){l=s.Pop;let e=g(),t=null==e?null:e-m;m=e,c&&c({action:l,location:b.location,delta:t})}function v(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==m&&(m=0,o.replaceState(d({},o.state,{idx:m}),""));let b={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(u,y),c=e,()=>{a.removeEventListener(u,y),c=null}},createHref:e=>t(a,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let n=f(b.location,e,t);r&&r(n,e),m=g()+1;let d=p(n,m),u=b.createHref(n);try{o.pushState(d,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;a.location.assign(u)}i&&c&&c({action:l,location:b.location,delta:1})},replace:function(e,t){l=s.Replace;let n=f(b.location,e,t);r&&r(n,e),m=g();let a=p(n,m),d=b.createHref(n);o.replaceState(a,"",d),i&&c&&c({action:l,location:b.location,delta:0})},go:e=>o.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){return void 0===r&&(r="/"),j(e,t,r,!1)}function j(e,t,r,n){let s=L(("string"===typeof t?g(t):t).pathname||"/",r);if(null==s)return null;let a=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=M(s);i=D(a[o],e,n)}return i}function w(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let s=(e,s,a)=>{let i={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};i.relativePath.startsWith("/")&&(h(i.relativePath.startsWith(n),'Absolute route path "'+i.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(n.length));let o=z([n,i.relativePath]),l=r.concat(i);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:A(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of N(e.path))s(e,t,n);else s(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return s?[a,""]:[a];let i=N(n.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,S=3,C=2,E=1,P=10,T=-2,_=e=>"*"===e;function A(e,t){let r=e.split("/"),n=r.length;return r.some(_)&&(n+=T),t&&(n+=C),r.filter(e=>!_(e)).reduce((e,t)=>e+(k.test(t)?S:""===t?E:P),n)}function D(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,s={},a="/",i=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&r&&!n[n.length-1].route.index&&(d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:z([a,d.pathname]),pathnameBase:U(z([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=z([a,d.pathnameBase]))}return i}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let a=new RegExp(s,t?void 0:"i");return[a,n]}(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:s}=t;if("*"===n){let e=o[r]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function I(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function F(e,t){let r=O(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function B(e,t,r,n){let s;void 0===n&&(n=!1),"string"===typeof e?s=g(e):(s=d({},e),h(!s.pathname||!s.pathname.includes("?"),I("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),I("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),I("#","search","hash",s)));let a,i=""===e||""===s.pathname,o=i?"/":s.pathname;if(null==o)a=r;else{let e=t.length-1;if(!n&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:s=""}="string"===typeof e?g(e):e,a=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:a,search:V(n),hash:G(s)}}(s,a),c=o&&"/"!==o&&o.endsWith("/"),u=(i||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const z=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const H=["post","put","patch","delete"],q=(new Set(H),["get",...H]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(this,arguments)}const Y=a.createContext(null);const $=a.createContext(null);const Q=a.createContext(null);const X=a.createContext(null);const J=a.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=a.createContext(null);function ee(){return null!=a.useContext(X)}function te(){return ee()||h(!1),a.useContext(X).location}function re(e){a.useContext(Q).static||a.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=a.useContext(J);return e?function(){let{router:e}=pe(he.UseNavigateStable),t=xe(me.UseNavigateStable),r=a.useRef(!1);re(()=>{r.current=!0});let n=a.useCallback(function(n,s){void 0===s&&(s={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,K({fromRouteId:t},s)))},[e,t]);return n}():function(){ee()||h(!1);let e=a.useContext(Y),{basename:t,future:r,navigator:n}=a.useContext(Q),{matches:s}=a.useContext(J),{pathname:i}=te(),o=JSON.stringify(F(s,r.v7_relativeSplatPath)),l=a.useRef(!1);return re(()=>{l.current=!0}),a.useCallback(function(r,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof r)return void n.go(r);let a=B(r,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:z([t,a.pathname])),(s.replace?n.replace:n.push)(a,s.state,s)},[t,n,o,i,e])}()}function se(){let{matches:e}=a.useContext(J),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(Q),{matches:s}=a.useContext(J),{pathname:i}=te(),o=JSON.stringify(F(s,n.v7_relativeSplatPath));return a.useMemo(()=>B(e,JSON.parse(o),i,"path"===r),[e,o,i,r])}function ie(e,t,r,n){ee()||h(!1);let{navigator:i}=a.useContext(Q),{matches:o}=a.useContext(J),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,m=te();if(t){var p;let e="string"===typeof t?g(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||h(!1),u=e}else u=m;let f=u.pathname||"/",x=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:x});let v=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:z([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,r,n);return t&&v?a.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},v):v}function oe(){let e=function(){var e;let t=a.useContext(Z),r=fe(me.UseRouteError),n=xe(me.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const le=a.createElement(oe,null);class ce extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(J.Provider,{value:this.props.routeContext},a.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(Y);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(J.Provider,{value:t},n)}function ue(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=n)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||h(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,n,s)=>{let i,u=!1,h=null,m=null;var p;r&&(i=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||le,c&&(d<0&&0===s?(p="route-fallback",!1||ge[p]||(ge[p]=!0),u=!0,m=null):d===s&&(u=!0,m=n.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,s+1)),x=()=>{let t;return t=i?h:u?m:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(de,{match:n,routeContext:{outlet:e,matches:f,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(ce,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var he=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(he||{}),me=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(me||{});function pe(e){let t=a.useContext(Y);return t||h(!1),t}function fe(e){let t=a.useContext($);return t||h(!1),t}function xe(e){let t=function(){let e=a.useContext(J);return e||h(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||h(!1),r.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ve(e){let{to:t,replace:r,state:n,relative:s}=e;ee()||h(!1);let{future:i,static:o}=a.useContext(Q),{matches:l}=a.useContext(J),{pathname:c}=te(),d=ne(),u=B(t,F(l,i.v7_relativeSplatPath),c,"path"===s),m=JSON.stringify(u);return a.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:s}),[d,m,s,r,n]),null}function be(e){h(!1)}function je(e){let{basename:t="/",children:r=null,location:n,navigationType:i=s.Pop,navigator:o,static:l=!1,future:c}=e;ee()&&h(!1);let d=t.replace(/^\/*/,"/"),u=a.useMemo(()=>({basename:d,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof n&&(n=g(n));let{pathname:m="/",search:p="",hash:f="",state:x=null,key:y="default"}=n,v=a.useMemo(()=>{let e=L(m,d);return null==e?null:{location:{pathname:e,search:p,hash:f,state:x,key:y},navigationType:i}},[d,m,p,f,x,y,i]);return null==v?null:a.createElement(Q.Provider,{value:u},a.createElement(X.Provider,{children:r,value:v}))}function we(e){let{children:t,location:r}=e;return ie(Ne(t),r)}new Promise(()=>{});a.Component;function Ne(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,n)=>{if(!a.isValidElement(e))return;let s=[...t,n];if(e.type===a.Fragment)return void r.push.apply(r,Ne(e.props.children,s));e.type!==be&&h(!1),e.props.index&&e.props.children&&h(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ne(e.props.children,s)),r.push(i)}),r}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ke.apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}function Ce(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(fc){}new Map;const Pe=i.startTransition;c.flushSync,i.useId;function Te(e){let{basename:t,children:r,future:n,window:s}=e,i=a.useRef();var o;null==i.current&&(i.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:r,search:n,hash:s}=e.location;return f("",{pathname:r,search:n,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,o)));let l=i.current,[c,d]=a.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},h=a.useCallback(e=>{u&&Pe?Pe(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>l.listen(h),[l,h]),a.useEffect(()=>ye(n),[n]),a.createElement(je,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const _e="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=a.forwardRef(function(e,t){let r,{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=e,p=Se(e,Ee),{basename:f}=a.useContext(Q),g=!1;if("string"===typeof d&&Ae.test(d)&&(r=d,_e))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=L(t.pathname,f);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:g=!0}catch(fc){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||h(!1);let{basename:n,navigator:s}=a.useContext(Q),{hash:i,pathname:o,search:l}=ae(e,{relative:r}),c=o;return"/"!==n&&(c="/"===o?n:z([n,o])),s.createHref({pathname:c,search:l,hash:i})}(d,{relative:s}),v=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=void 0===t?{}:t,c=ne(),d=te(),u=ae(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:x(d)===x(u);c(e,{replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,n,s,r,e,i,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:m});return a.createElement("a",ke({},p,{href:r||y,onClick:g||i?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))});var Re,Me;function Le(e){let t=a.useRef(Ce(e)),r=a.useRef(!1),n=te(),s=a.useMemo(()=>function(e,t){let r=Ce(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(n.search,r.current?null:t.current),[n.search]),i=ne(),o=a.useCallback((e,t)=>{const n=Ce("function"===typeof e?e(s):e);r.current=!0,i("?"+n,t)},[i,s]);return[s,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));var Ie=r(579);const Oe=(0,a.createContext)(),Fe=()=>{const e=(0,a.useContext)(Oe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Be=e=>{let{children:t}=e;const[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t)try{n(JSON.parse(t))}catch(r){console.error("Error parsing user data:",r),localStorage.removeItem("token"),localStorage.removeItem("user")}i(!1)},[]);const c={user:r,login:(0,a.useCallback)((e,t)=>{console.log("AuthContext.login called:",{userData:e,token:t}),n(e),localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e)),console.log("AuthContext.login completed, user state should be updated")},[]),logout:(0,a.useCallback)(async()=>{o||(l(!0),n(null),localStorage.removeItem("token"),localStorage.removeItem("user"),await new Promise(e=>setTimeout(e,100)),l(!1))},[o]),loading:s,isLoggingOut:o};return(0,Ie.jsx)(Oe.Provider,{value:c,children:t})},ze=e=>{let{size:t="md",color:r="blue",text:n="Loading...",fullScreen:s=!1,className:a=""}=e;const i=(0,Ie.jsx)("div",{className:"animate-spin rounded-full border-2 border-gray-200 ".concat({sm:"h-6 w-6",md:"h-12 w-12",lg:"h-16 w-16",xl:"h-24 w-24"}[t]," ").concat({blue:"border-blue-600",green:"border-green-600",red:"border-red-600",purple:"border-purple-600",gray:"border-gray-600"}[r]," border-t-transparent ").concat(a)});return s?(0,Ie.jsx)("div",{className:"fixed inset-0 bg-gray-50 bg-opacity-90 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,Ie.jsxs)("div",{className:"text-center",children:[i,n&&(0,Ie.jsx)("p",{className:"text-gray-600 mt-4 text-sm",children:n})]})}):(0,Ie.jsx)("div",{className:"flex items-center justify-center",children:(0,Ie.jsxs)("div",{className:"text-center",children:[i,n&&(0,Ie.jsx)("p",{className:"text-gray-600 mt-2 text-sm",children:n})]})})};function Ue(e){let{children:t,roles:r}=e;const{user:n,loading:s,isLoggingOut:i}=Fe(),o=te(),l=(0,a.useMemo)(()=>{var e;if(s||i)return!0;if(!n)return!1;if(!r||0===r.length)return!0;const t=null===(e=n.role)||void 0===e?void 0:e.toUpperCase(),a=r.map(e=>(e||"").toUpperCase());return a.includes(t)},[n,r,s,i]);return s||i?(0,Ie.jsx)(ze,{fullScreen:!0,text:"Authenticating..."}):n?l?(0,Ie.jsx)("div",{className:"fade-in",children:t}):(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gray-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center max-w-md fade-in",children:[(0,Ie.jsx)("h1",{className:"text-xl font-bold mb-2 text-red-600",children:"403 \u2013 Access Denied"}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-4",children:"You do not have permission to access this page."}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:[(0,Ie.jsxs)("p",{children:["Your role: ",(0,Ie.jsx)("strong",{className:"text-gray-700",children:(null===(c=n.role)||void 0===c?void 0:c.toUpperCase())||"None"})]}),(0,Ie.jsxs)("p",{children:["Required roles: ",(0,Ie.jsx)("strong",{className:"text-gray-700",children:null===r||void 0===r?void 0:r.join(", ").toUpperCase()})]})]}),(0,Ie.jsx)("button",{onClick:()=>window.location.href="/login",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors btn-transition",children:"Go to Login"})]})}):(0,Ie.jsx)(ve,{to:"/login",state:{from:o},replace:!0});var c}function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function Ge(e){var t=function(e,t){if("object"!=Ve(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ve(t)?t:t+""}function We(e,t,r){return(t=Ge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach(function(t){We(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ke(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var Ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $e=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],Qe=(e,t)=>{const r=(0,a.forwardRef)((r,n)=>{let{color:s="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d}=r,u=Ke(r,$e);return(0,a.createElement)("svg",qe(qe({ref:n},Ye),{},{width:i,height:i,stroke:s,strokeWidth:l?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat((h=e,h.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),c].join(" ")},u),[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]]);var h});return r.displayName="".concat(e),r},Xe=Qe("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]),Je=Qe("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),Ze=e=>{let{children:t}=e;const r=[{to:"/admin/trips",label:"Trips",icon:Xe},{to:"/admin/status",label:"System Status",icon:Je}];return(0,Ie.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ie.jsx)("header",{className:"bg-white border-b",children:(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto p-4 flex items-center gap-4",children:[(0,Ie.jsx)("div",{className:"font-bold",children:"YATRIK ERP"}),(0,Ie.jsx)("nav",{className:"flex items-center gap-3 text-sm text-gray-600",children:r.map(e=>(0,Ie.jsxs)(De,{to:e.to,className:"px-2 py-1 rounded hover:bg-gray-100 flex items-center gap-1",children:[(0,Ie.jsx)(e.icon,{className:"w-4 h-4"})," ",e.label]},e.to))})]})}),(0,Ie.jsx)("main",{className:"max-w-7xl mx-auto p-4",children:t})]})},et=Qe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),tt=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rt=Qe("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),nt=Qe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),st=Qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),at=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),it=Qe("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),ot=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),lt=Qe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),ct=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dt=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),ut=Qe("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),ht=Qe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),mt=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),pt=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ft=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),xt=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),gt=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),yt=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),vt=e=>{var t,r,n,s,i,o;let{children:l}=e;const[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(""),f=te(),x=ne(),{user:g,logout:y,isLoggingOut:v}=Fe(),b=[{name:"Dashboard",href:"/admin",icon:et,current:"/admin"===f.pathname},{name:"User Management",href:"/admin/users",icon:tt,current:"/admin/users"===f.pathname},{name:"Bus Management",href:"/admin/buses",icon:Xe,current:"/admin/buses"===f.pathname},{name:"Route Management",href:"/admin/routes",icon:rt,current:"/admin/routes"===f.pathname},{name:"Trip Management",href:"/admin/trips",icon:nt,current:"/admin/trips"===f.pathname},{name:"Depot Management",href:"/admin/depots",icon:st,current:"/admin/depots"===f.pathname},{name:"Driver Management",href:"/admin/drivers",icon:at,current:"/admin/drivers"===f.pathname},{name:"Conductor Management",href:"/admin/conductors",icon:it,current:"/admin/conductors"===f.pathname},{name:"Fare Policy",href:"/admin/fare-policy",icon:ot,current:"/admin/fare-policy"===f.pathname},{name:"System Status",href:"/admin/system-status",icon:Je,current:"/admin/system-status"===f.pathname},{name:"Reports",href:"/admin/reports",icon:lt,current:"/admin/reports"===f.pathname},{name:"Settings",href:"/admin/settings",icon:ct,current:"/admin/settings"===f.pathname}],j=[{name:"Add User",href:"/admin/users",icon:tt,color:"bg-blue-500"},{name:"Schedule Trip",href:"/admin/trips",icon:nt,color:"bg-green-500"},{name:"View Reports",href:"/admin/reports",icon:et,color:"bg-purple-500"},{name:"System Status",href:"/admin/system-status",icon:Je,color:"bg-orange-500"}],w=[{name:"Database",status:"healthy",icon:dt,color:"text-green-500"},{name:"API Server",status:"healthy",icon:ut,color:"text-green-500"},{name:"Frontend",status:"healthy",icon:ht,color:"text-green-500"},{name:"Mobile App",status:"warning",icon:mt,color:"text-yellow-500"}];return v?(0,Ie.jsx)(ze,{fullScreen:!0,text:"Logging out..."}):(0,Ie.jsxs)("div",{className:"min-h-screen bg-gray-50 layout-stable",children:[(0,Ie.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden transition-all duration-300 ease-in-out ".concat(c?"block":"hidden"),children:[(0,Ie.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity duration-300",onClick:()=>d(!1)}),(0,Ie.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl transform transition-transform duration-300 ease-in-out ".concat(c?"translate-x-0":"-translate-x-full"),children:[(0,Ie.jsxs)("div",{className:"flex h-16 items-center justify-between px-6 border-b border-gray-200",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Yatrik ERP"}),(0,Ie.jsx)("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ie.jsx)(pt,{className:"w-6 h-6"})})]}),(0,Ie.jsx)("nav",{className:"flex-1 space-y-1 px-4 py-4",children:b.map(e=>(0,Ie.jsxs)(De,{to:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(e.current?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),onClick:()=>d(!1),children:[(0,Ie.jsx)(e.icon,{className:"mr-3 h-5 w-5 ".concat(e.current?"text-blue-700":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name))})]})]}),(0,Ie.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,Ie.jsxs)("div",{className:"flex flex-col flex-grow bg-white shadow-xl border-r border-gray-200",children:[(0,Ie.jsx)("div",{className:"flex h-16 items-center px-6 border-b border-gray-200",children:(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Yatrik ERP"})}),(0,Ie.jsx)("nav",{className:"flex-1 space-y-1 px-4 py-4",children:b.map(e=>(0,Ie.jsxs)(De,{to:e.href,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ".concat(e.current?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Ie.jsx)(e.icon,{className:"mr-3 h-5 w-5 ".concat(e.current?"text-blue-700":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name))}),(0,Ie.jsx)("div",{className:"border-t border-gray-200 p-4",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-sm",children:(null===g||void 0===g||null===(t=g.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"E"})}),(0,Ie.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ie.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(null===g||void 0===g?void 0:g.name)||"ERP Admin"}),(0,Ie.jsx)("p",{className:"text-xs text-gray-500",children:(null===g||void 0===g?void 0:g.role)||"admin"})]}),(0,Ie.jsx)("button",{onClick:async()=>{try{await y(),x("/login",{replace:!0})}catch(e){console.error("Logout error:",e),x("/login",{replace:!0})}},className:"text-gray-400 hover:text-gray-600 p-1 rounded transition-all duration-200 ease-in-out hover:bg-gray-100 btn-transition",title:"Logout",disabled:v,children:v?(0,Ie.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"}):(0,Ie.jsx)(ft,{className:"w-4 h-4"})})]})})]})}),(0,Ie.jsxs)("div",{className:"lg:pl-64",children:[(0,Ie.jsx)("div",{className:"sticky top-0 z-40 bg-white shadow-sm border-b border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8",children:[(0,Ie.jsx)("div",{className:"flex items-center space-x-4",children:(0,Ie.jsx)("button",{onClick:()=>d(!0),className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100",children:(0,Ie.jsx)(xt,{className:"w-6 h-6"})})}),(0,Ie.jsx)("div",{className:"flex-1 max-w-lg mx-4 lg:mx-8",children:(0,Ie.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m.trim()&&console.log("Searching for:",m)},className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search users, trips, routes...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"hidden md:flex items-center space-x-2",children:w.map(e=>(0,Ie.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ie.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.color)}),(0,Ie.jsx)("span",{className:"text-xs text-gray-600",children:e.name})]},e.name))}),(0,Ie.jsxs)("button",{className:"relative p-2 text-gray-400 hover:text-gray-500 hover:bg-gray-100 rounded-lg",children:[(0,Ie.jsx)(yt,{className:"w-5 h-5"}),u.length>0&&(0,Ie.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"})]}),(0,Ie.jsx)("div",{className:"relative",children:(0,Ie.jsxs)("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-all duration-200 ease-in-out btn-transition",disabled:v,children:[(0,Ie.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-sm",children:(null===g||void 0===g||null===(n=g.name)||void 0===n||null===(s=n.charAt(0))||void 0===s?void 0:s.toUpperCase())||"E"})}),(0,Ie.jsx)("span",{className:"hidden md:block text-sm font-medium text-gray-900",children:(null===g||void 0===g?void 0:g.name)||"ERP Admin"})]})})]})]})}),(0,Ie.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 lg:px-8 py-4",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:(null===(i=b.find(e=>e.current))||void 0===i?void 0:i.name)||"Admin Dashboard"}),(0,Ie.jsx)("nav",{className:"flex mt-2","aria-label":"Breadcrumb",children:(0,Ie.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)(De,{to:"/admin",className:"text-gray-500 hover:text-gray-700 text-sm",children:"Dashboard"})}),"/admin"!==f.pathname&&(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("li",{children:(0,Ie.jsx)("span",{className:"text-gray-400 mx-2",children:"/"})}),(0,Ie.jsx)("li",{children:(0,Ie.jsx)("span",{className:"text-gray-900 text-sm",children:(null===(o=b.find(e=>e.current))||void 0===o?void 0:o.name)||"Page"})})]})]})})]}),(0,Ie.jsx)("div",{className:"hidden md:flex items-center space-x-2",children:j.map(e=>(0,Ie.jsxs)(De,{to:e.href,className:"".concat(e.color," text-white px-3 py-2 rounded-lg text-sm font-medium hover:opacity-90 transition-opacity flex items-center space-x-2"),children:[(0,Ie.jsx)(e.icon,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:e.name})]},e.name))})]})}),(0,Ie.jsx)("main",{className:"px-4 sm:px-6 lg:px-8 py-6",children:l})]})]})},bt=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),jt=(0,a.createContext)({}),wt=(0,a.createContext)(null),Nt="undefined"!==typeof document,kt=Nt?a.useLayoutEffect:a.useEffect,St=(0,a.createContext)({strict:!1}),Ct=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Et="data-"+Ct("framerAppearId");function Pt(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Tt(e){return"string"===typeof e||Array.isArray(e)}function _t(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const At=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Dt=["initial",...At];function Rt(e){return _t(e.animate)||Dt.some(t=>Tt(e[t]))}function Mt(e){return Boolean(Rt(e)||e.variants)}function Lt(e){const{initial:t,animate:r}=function(e,t){if(Rt(e)){const{initial:t,animate:r}=e;return{initial:!1===t||Tt(t)?t:void 0,animate:Tt(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)(jt));return(0,a.useMemo)(()=>({initial:t,animate:r}),[It(t),It(r)])}function It(e){return Array.isArray(e)?e.join(" "):e}const Ot={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ft={};for(const Om in Ot)Ft[Om]={isEnabled:e=>Ot[Om].some(t=>!!e[t])};const Bt=(0,a.createContext)({}),zt=(0,a.createContext)({}),Ut=Symbol.for("motionComponentSymbol");function Vt(e){let{preloadedFeatures:t,createVisualElement:r,useRender:n,useVisualState:s,Component:i}=e;t&&function(e){for(const t in e)Ft[t]=qe(qe({},Ft[t]),e[t])}(t);const o=(0,a.forwardRef)(function(e,o){let l;const c=qe(qe(qe({},(0,a.useContext)(bt)),e),{},{layoutId:Gt(e)}),{isStatic:d}=c,u=Lt(e),h=s(e,d);if(!d&&Nt){u.visualElement=function(e,t,r,n){const{visualElement:s}=(0,a.useContext)(jt),i=(0,a.useContext)(St),o=(0,a.useContext)(wt),l=(0,a.useContext)(bt).reducedMotion,c=(0,a.useRef)();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const d=c.current;(0,a.useInsertionEffect)(()=>{d&&d.update(r,o)});const u=(0,a.useRef)(Boolean(r[Et]&&!window.HandoffComplete));return kt(()=>{d&&(d.render(),u.current&&d.animationState&&d.animationState.animateChanges())}),(0,a.useEffect)(()=>{d&&(d.updateFeatures(),!u.current&&d.animationState&&d.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),d}(i,h,c,r);const e=(0,a.useContext)(zt),n=(0,a.useContext)(St).strict;u.visualElement&&(l=u.visualElement.loadFeatures(c,n,t,e))}return a.createElement(jt.Provider,{value:u},l&&u.visualElement?a.createElement(l,qe({visualElement:u.visualElement},c)):null,n(i,e,function(e,t,r){return(0,a.useCallback)(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"===typeof r?r(n):Pt(r)&&(r.current=n))},[t])}(h,u.visualElement,o),h,d,u.visualElement))});return o[Ut]=i,o}function Gt(e){let{layoutId:t}=e;const r=(0,a.useContext)(Bt).id;return r&&void 0!==t?r+"-"+t:t}function Wt(e){function t(t){return Vt(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const r=new Map;return new Proxy(t,{get:(e,n)=>(r.has(n)||r.set(n,t(n)),r.get(n))})}const Ht=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qt(e){return"string"===typeof e&&!e.includes("-")&&!!(Ht.indexOf(e)>-1||/[A-Z]/.test(e))}const Kt={};const Yt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$t=new Set(Yt);function Qt(e,t){let{layout:r,layoutId:n}=t;return $t.has(e)||e.startsWith("origin")||(r||void 0!==n)&&(!!Kt[e]||"opacity"===e)}const Xt=e=>Boolean(e&&e.getVelocity),Jt={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zt=Yt.length;const er=e=>t=>"string"===typeof t&&t.startsWith(e),tr=er("--"),rr=er("var(--"),nr=(e,t)=>t&&"number"===typeof e?t.transform(e):e,sr=(e,t,r)=>Math.min(Math.max(r,e),t),ar={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},ir=qe(qe({},ar),{},{transform:e=>sr(0,1,e)}),or=qe(qe({},ar),{},{default:1}),lr=e=>Math.round(1e5*e)/1e5,cr=/(-)?([\d]*\.?[\d])+/g,dr=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ur=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function hr(e){return"string"===typeof e}const mr=e=>({test:t=>hr(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),pr=mr("deg"),fr=mr("%"),xr=mr("px"),gr=mr("vh"),yr=mr("vw"),vr=qe(qe({},fr),{},{parse:e=>fr.parse(e)/100,transform:e=>fr.transform(100*e)}),br=qe(qe({},ar),{},{transform:Math.round}),jr={borderWidth:xr,borderTopWidth:xr,borderRightWidth:xr,borderBottomWidth:xr,borderLeftWidth:xr,borderRadius:xr,radius:xr,borderTopLeftRadius:xr,borderTopRightRadius:xr,borderBottomRightRadius:xr,borderBottomLeftRadius:xr,width:xr,maxWidth:xr,height:xr,maxHeight:xr,size:xr,top:xr,right:xr,bottom:xr,left:xr,padding:xr,paddingTop:xr,paddingRight:xr,paddingBottom:xr,paddingLeft:xr,margin:xr,marginTop:xr,marginRight:xr,marginBottom:xr,marginLeft:xr,rotate:pr,rotateX:pr,rotateY:pr,rotateZ:pr,scale:or,scaleX:or,scaleY:or,scaleZ:or,skew:pr,skewX:pr,skewY:pr,distance:xr,translateX:xr,translateY:xr,translateZ:xr,x:xr,y:xr,z:xr,perspective:xr,transformPerspective:xr,opacity:ir,originX:vr,originY:vr,originZ:xr,zIndex:br,fillOpacity:ir,strokeOpacity:ir,numOctaves:br};function wr(e,t,r,n){const{style:s,vars:a,transform:i,transformOrigin:o}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(tr(u)){a[u]=e;continue}const r=jr[u],n=nr(e,r);if($t.has(u)){if(l=!0,i[u]=n,!d)continue;e!==(r.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,o[u]=n):s[u]=n}if(t.transform||(l||n?s.transform=function(e,t,r,n){let{enableHardwareAcceleration:s=!0,allowTransformNone:a=!0}=t,i="";for(let o=0;o<Zt;o++){const t=Yt[o];void 0!==e[t]&&(i+="".concat(Jt[t]||t,"(").concat(e[t],") "))}return s&&!e.z&&(i+="translateZ(0)"),i=i.trim(),n?i=n(e,r?"":i):a&&r&&(i="none"),i}(e.transform,r,d,n):s.transform&&(s.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:r=0}=o;s.transformOrigin="".concat(e," ").concat(t," ").concat(r)}}const Nr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kr(e,t,r){for(const n in t)Xt(t[n])||Qt(n,r)||(e[n]=t[n])}function Sr(e,t,r){const n={};return kr(n,e.style||{},e),Object.assign(n,function(e,t,r){let{transformTemplate:n}=e;return(0,a.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return wr(e,t,{enableHardwareAcceleration:!r},n),Object.assign({},e.vars,e.style)},[t])}(e,t,r)),e.transformValues?e.transformValues(n):n}function Cr(e,t,r){const n={},s=Sr(e,t,r);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Er=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pr(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Er.has(e)}let Tr=e=>!Pr(e);try{(_r=require("@emotion/is-prop-valid").default)&&(Tr=e=>e.startsWith("on")?!Pr(e):_r(e))}catch(Lm){}var _r;function Ar(e,t,r){return"string"===typeof e?e:xr.transform(t+r*e)}const Dr={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rr={offset:"strokeDashoffset",array:"strokeDasharray"};const Mr=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Lr(e,t,r,n,s){let{attrX:a,attrY:i,attrScale:o,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:h=0}=t;if(wr(e,Ke(t,Mr),r,s),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:f}=e;m.transform&&(f&&(p.transform=m.transform),delete m.transform),f&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,r){const n=Ar(t,e.x,e.width),s=Ar(r,e.y,e.height);return"".concat(n," ").concat(s)}(f,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==a&&(m.x=a),void 0!==i&&(m.y=i),void 0!==o&&(m.scale=o),void 0!==d&&function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=s?Dr:Rr;e[a.offset]=xr.transform(-n);const i=xr.transform(t),o=xr.transform(r);e[a.array]="".concat(i," ").concat(o)}(m,d,u,h,!1)}const Ir=()=>qe(qe({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Or=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Fr(e,t,r,n){const s=(0,a.useMemo)(()=>{const r=Ir();return Lr(r,t,{enableHardwareAcceleration:!1},Or(n),e.transformTemplate),qe(qe({},r.attrs),{},{style:qe({},r.style)})},[t]);if(e.style){const t={};kr(t,e.style,e),s.style=qe(qe({},t),s.style)}return s}function Br(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,r,n,s,i)=>{let{latestValues:o}=s;const l=(qt(t)?Fr:Cr)(r,o,i,t),c=function(e,t,r){const n={};for(const s in e)"values"===s&&"object"===typeof e.values||(Tr(s)||!0===r&&Pr(s)||!t&&!Pr(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}(r,"string"===typeof t,e),d=qe(qe(qe({},c),l),{},{ref:n}),{children:u}=r,h=(0,a.useMemo)(()=>Xt(u)?u.get():u,[u]);return(0,a.createElement)(t,qe(qe({},d),{},{children:h}))}}function zr(e,t,r,n){let{style:s,vars:a}=t;Object.assign(e.style,s,n&&n.getProjectionStyles(r));for(const i in a)e.style.setProperty(i,a[i])}const Ur=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vr(e,t,r,n){zr(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Ur.has(s)?s:Ct(s),t.attrs[s])}function Gr(e,t){const{style:r}=e,n={};for(const s in r)(Xt(r[s])||t.style&&Xt(t.style[s])||Qt(s,e))&&(n[s]=r[s]);return n}function Wr(e,t){const r=Gr(e,t);for(const n in e)if(Xt(e[n])||Xt(t[n])){r[-1!==Yt.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]}return r}function Hr(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,s)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==r?r:e.custom,n,s)),t}const qr=e=>Array.isArray(e),Kr=e=>qr(e)?e[e.length-1]||0:e;function Yr(e){const t=Xt(e)?e.get():e;return r=t,Boolean(r&&"object"===typeof r&&r.mix&&r.toValue)?t.toValue():t;var r}const $r=["transitionEnd","transition"];const Qr=e=>(t,r)=>{const n=(0,a.useContext)(jt),s=(0,a.useContext)(wt),i=()=>function(e,t,r,n){let{scrapeMotionValuesFromProps:s,createRenderState:a,onMount:i}=e;const o={latestValues:Xr(t,r,n,s),renderState:a()};return i&&(o.mount=e=>i(t,e,o)),o}(e,t,n,s);return r?i():function(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}(i)};function Xr(e,t,r,n){const s={},a=n(e,{});for(const h in a)s[h]=Yr(a[h]);let{initial:i,animate:o}=e;const l=Rt(e),c=Mt(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!==typeof u&&!_t(u)){(Array.isArray(u)?u:[u]).forEach(t=>{const r=Hr(e,t);if(!r)return;const{transitionEnd:n,transition:a}=r,i=Ke(r,$r);for(const e in i){let t=i[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(s[e]=t)}for(const e in n)s[e]=n[e]})}return s}const Jr=e=>e;class Zr{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const en=["prepare","read","update","preRender","render","postRender"];const{schedule:tn,cancel:rn,state:nn,steps:sn}=function(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=en.reduce((e,t)=>(e[t]=function(e){let t=new Zr,r=new Zr,n=0,s=!1,a=!1;const i=new WeakSet,o={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,o=a?t:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&i.add(e),o.add(e)&&a&&s&&(n=t.order.length),e},cancel:e=>{r.remove(e),i.delete(e)},process:l=>{if(s)a=!0;else{if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let r=0;r<n;r++){const n=t.order[r];n(l),i.has(n)&&(o.schedule(n),e())}s=!1,a&&(a=!1,o.process(l))}}};return o}(()=>r=!0),e),{}),i=e=>a[e].process(s),o=()=>{const a=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(a-s.timestamp,40),1),s.timestamp=a,s.isProcessing=!0,en.forEach(i),s.isProcessing=!1,r&&t&&(n=!1,e(o))},l=en.reduce((t,i)=>{const l=a[i];return t[i]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r||(r=!0,n=!0,s.isProcessing||e(o)),l.schedule(t,a,i)},t},{});return{schedule:l,cancel:e=>en.forEach(t=>a[t].cancel(e)),state:s,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Jr,!0),an={useVisualState:Qr({scrapeMotionValuesFromProps:Wr,createRenderState:Ir,onMount:(e,t,r)=>{let{renderState:n,latestValues:s}=r;tn.read(()=>{try{n.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(fc){n.dimensions={x:0,y:0,width:0,height:0}}}),tn.render(()=>{Lr(n,s,{enableHardwareAcceleration:!1},Or(t.tagName),e.transformTemplate),Vr(t,n)})}})},on={useVisualState:Qr({scrapeMotionValuesFromProps:Gr,createRenderState:Nr})};function ln(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const cn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function dn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function un(e,t,r,n){return ln(e,t,(e=>t=>cn(t)&&e(t,dn(t)))(r),n)}const hn=(e,t)=>r=>t(e(r)),mn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(hn)};function pn(e){let t=null;return()=>{const r=()=>{t=null};return null===t&&(t=e,r)}}const fn=pn("dragHorizontal"),xn=pn("dragVertical");function gn(e){let t=!1;if("y"===e)t=xn();else if("x"===e)t=fn();else{const e=fn(),r=xn();e&&r?t=()=>{e(),r()}:(e&&e(),r&&r())}return t}function yn(){const e=gn(!0);return!e||(e(),!1)}class vn{constructor(e){this.isMounted=!1,this.node=e}update(){}}function bn(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End");return un(e.current,r,(r,s)=>{if("touch"===r.pointerType||yn())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&tn.update(()=>a[n](r,s))},{passive:!e.getProps()[n]})}const jn=(e,t)=>!!t&&(e===t||jn(e,t.parentElement));function wn(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,dn(r))}const Nn=["root"],kn=new WeakMap,Sn=new WeakMap,Cn=e=>{const t=kn.get(e.target);t&&t(e)},En=e=>{e.forEach(Cn)};function Pn(e,t,r){const n=function(e){let{root:t}=e,r=Ke(e,Nn);const n=t||document;Sn.has(n)||Sn.set(n,{});const s=Sn.get(n),a=JSON.stringify(r);return s[a]||(s[a]=new IntersectionObserver(En,qe({root:t},r))),s[a]}(t);return kn.set(e,r),n.observe(e),()=>{kn.delete(e),n.unobserve(e)}}const Tn={some:0,all:1};const _n={inView:{Feature:class extends vn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"===typeof n?n:Tn[n]};return Pn(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,r=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:r={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==r[e]}(e,t));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends vn{constructor(){super(...arguments),this.removeStartListeners=Jr,this.removeEndListeners=Jr,this.removeAccessibleListeners=Jr,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),n=un(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:r,onTapCancel:n,globalTapTarget:s}=this.node.getProps();tn.update(()=>{s||jn(this.node.current,e.target)?r&&r(e,t):n&&n(e,t)})},{passive:!(r.onTap||r.onPointerUp)}),s=un(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mn(n,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=ln(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=ln(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&wn("up",(e,t)=>{const{onTap:r}=this.node.getProps();r&&tn.update(()=>r(e,t))})}),wn("down",(e,t)=>{this.startPress(e,t)})}),t=ln(this.node.current,"blur",()=>{this.isPressing&&wn("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=mn(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tn.update(()=>r(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&tn.update(()=>r(e,t))}mount(){const e=this.node.getProps(),t=un(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ln(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mn(t,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends vn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(fc){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mn(ln(this.node.current,"focus",()=>this.onFocus()),ln(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends vn{mount(){this.unmount=mn(bn(this.node,!0),bn(this.node,!1))}unmount(){}}}};function An(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Dn(e,t,r){const n=e.getProps();return Hr(n,t,void 0!==r?r:n.custom,function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,r)=>t[r]=e.getVelocity()),t}(e))}let Rn=Jr,Mn=Jr;const Ln=e=>1e3*e,In=e=>e/1e3,On=!1,Fn=e=>Array.isArray(e)&&"number"===typeof e[0];function Bn(e){return Boolean(!e||"string"===typeof e&&Un[e]||Fn(e)||Array.isArray(e)&&e.every(Bn))}const zn=e=>{let[t,r,n,s]=e;return"cubic-bezier(".concat(t,", ").concat(r,", ").concat(n,", ").concat(s,")")},Un={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zn([0,.65,.55,1]),circOut:zn([.55,0,1,.45]),backIn:zn([.31,.01,.66,-.59]),backOut:zn([.33,1.53,.69,.99])};function Vn(e){if(e)return Fn(e)?zn(e):Array.isArray(e)?e.map(Vn):Un[e]}const Gn=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function Wn(e,t,r,n){if(e===t&&r===n)return Jr;const s=t=>function(e,t,r,n,s){let a,i,o=0;do{i=t+(r-t)/2,a=Gn(i,n,s)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:Gn(s(e),t,n)}const Hn=Wn(.42,0,1,1),qn=Wn(0,0,.58,1),Kn=Wn(.42,0,.58,1),Yn=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$n=e=>t=>1-e(1-t),Qn=e=>1-Math.sin(Math.acos(e)),Xn=$n(Qn),Jn=Yn(Qn),Zn=Wn(.33,1.53,.69,.99),es=$n(Zn),ts=Yn(es),rs={linear:Jr,easeIn:Hn,easeInOut:Kn,easeOut:qn,circIn:Qn,circInOut:Jn,circOut:Xn,backIn:es,backInOut:ts,backOut:Zn,anticipate:e=>(e*=2)<1?.5*es(e):.5*(2-Math.pow(2,-10*(e-1)))},ns=e=>{if(Array.isArray(e)){Mn(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,r,n,s]=e;return Wn(t,r,n,s)}return"string"===typeof e?(Mn(void 0!==rs[e],"Invalid easing type '".concat(e,"'")),rs[e]):e},ss=(e,t)=>r=>Boolean(hr(r)&&ur.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),as=(e,t,r)=>n=>{if(!hr(n))return n;const[s,a,i,o]=n.match(cr);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},is=qe(qe({},ar),{},{transform:e=>Math.round((e=>sr(0,255,e))(e))}),os={test:ss("rgb","red"),parse:as("red","green","blue"),transform:e=>{let{red:t,green:r,blue:n,alpha:s=1}=e;return"rgba("+is.transform(t)+", "+is.transform(r)+", "+is.transform(n)+", "+lr(ir.transform(s))+")"}};const ls={test:ss("#"),parse:function(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}},transform:os.transform},cs={test:ss("hsl","hue"),parse:as("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:r,lightness:n,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+fr.transform(lr(r))+", "+fr.transform(lr(n))+", "+lr(ir.transform(s))+")"}},ds={test:e=>os.test(e)||ls.test(e)||cs.test(e),parse:e=>os.test(e)?os.parse(e):cs.test(e)?cs.parse(e):ls.parse(e),transform:e=>hr(e)?e:e.hasOwnProperty("red")?os.transform(e):cs.transform(e)},us=(e,t,r)=>-r*e+r*t+e;function hs(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}const ms=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},ps=[ls,os,cs];function fs(e){const t=(r=e,ps.find(e=>e.test(r)));var r;Mn(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===cs&&(n=function(e){let{hue:t,saturation:r,lightness:n,alpha:s}=e;t/=360,r/=100,n/=100;let a=0,i=0,o=0;if(r){const e=n<.5?n*(1+r):n+r-n*r,s=2*n-e;a=hs(s,e,t+1/3),i=hs(s,e,t),o=hs(s,e,t-1/3)}else a=i=o=n;return{red:Math.round(255*a),green:Math.round(255*i),blue:Math.round(255*o),alpha:s}}(n)),n}const xs=(e,t)=>{const r=fs(e),n=fs(t),s=qe({},r);return e=>(s.red=ms(r.red,n.red,e),s.green=ms(r.green,n.green,e),s.blue=ms(r.blue,n.blue,e),s.alpha=us(r.alpha,n.alpha,e),os.transform(s))};const gs={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:Jr},ys={regex:dr,countKey:"Colors",token:"${c}",parse:ds.parse},vs={regex:cr,countKey:"Numbers",token:"${n}",parse:ar.parse};function bs(e,t){let{regex:r,countKey:n,token:s,parse:a}=t;const i=e.tokenised.match(r);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(r,s),e.values.push(...i.map(a)))}function js(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&bs(r,gs),bs(r,ys),bs(r,vs),r}function ws(e){return js(e).values}function Ns(e){const{values:t,numColors:r,numVars:n,tokenised:s}=js(e),a=t.length;return e=>{let t=s;for(let s=0;s<a;s++)t=s<n?t.replace(gs.token,e[s]):s<n+r?t.replace(ys.token,ds.transform(e[s])):t.replace(vs.token,lr(e[s]));return t}}const ks=e=>"number"===typeof e?0:e;const Ss={test:function(e){var t,r;return isNaN(e)&&hr(e)&&((null===(t=e.match(cr))||void 0===t?void 0:t.length)||0)+((null===(r=e.match(dr))||void 0===r?void 0:r.length)||0)>0},parse:ws,createTransformer:Ns,getAnimatableNone:function(e){const t=ws(e);return Ns(e)(t.map(ks))}},Cs=(e,t)=>r=>"".concat(r>0?t:e);function Es(e,t){return"number"===typeof e?r=>us(e,t,r):ds.test(e)?xs(e,t):e.startsWith("var(")?Cs(e,t):_s(e,t)}const Ps=(e,t)=>{const r=[...e],n=r.length,s=e.map((e,r)=>Es(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=s[t](e);return r}},Ts=(e,t)=>{const r=qe(qe({},e),t),n={};for(const s in r)void 0!==e[s]&&void 0!==t[s]&&(n[s]=Es(e[s],t[s]));return e=>{for(const t in n)r[t]=n[t](e);return r}},_s=(e,t)=>{const r=Ss.createTransformer(t),n=js(e),s=js(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?mn(Ps(n.values,s.values),r):(Rn(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Cs(e,t))},As=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n},Ds=(e,t)=>r=>us(e,t,r);function Rs(e,t,r){const n=[],s=r||("number"===typeof(a=e[0])?Ds:"string"===typeof a?ds.test(a)?xs:_s:Array.isArray(a)?Ps:"object"===typeof a?Ts:Ds);var a;const i=e.length-1;for(let o=0;o<i;o++){let r=s(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||Jr:t;r=mn(e,r)}n.push(r)}return n}function Ms(e,t){let{clamp:r=!0,ease:n,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(Mn(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const i=Rs(t,n,s),o=i.length,l=t=>{let r=0;if(o>1)for(;r<e.length-2&&!(t<e[r+1]);r++);const n=As(e[r],e[r+1],t);return i[r](n)};return r?t=>l(sr(e[0],e[a-1],t)):l}function Ls(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=As(0,t,n);e.push(us(r,1,s))}}(t,e.length-1),t}function Is(e){let{duration:t=300,keyframes:r,times:n,ease:s="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(ns):ns(s),i={done:!1,value:r[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===r.length?n:Ls(r),t),l=Ms(o,r,{ease:Array.isArray(a)?a:(c=r,d=a,c.map(()=>d||Kn).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(i.value=l(e),i.done=e>=t,i)}}function Os(e,t){return t?e*(1e3/t):0}function Fs(e,t,r){const n=Math.max(t-5,0);return Os(r-e(n),t-n)}const Bs=.001;function zs(e){let t,r,{duration:n=800,bounce:s=.25,velocity:a=0,mass:i=1}=e;Rn(n<=Ln(10),"Spring duration must be 10 seconds or less");let o=1-s;o=sr(.05,1,o),n=sr(.01,10,In(n)),o<1?(t=e=>{const t=e*o,r=t*n,s=t-a,i=Vs(e,o),l=Math.exp(-r);return Bs-s/i*l},r=e=>{const r=e*o*n,s=r*a+a,i=Math.pow(o,2)*Math.pow(e,2)*n,l=Math.exp(-r),c=Vs(Math.pow(e,2),o);return(-t(e)+Bs>0?-1:1)*((s-i)*l)/c}):(t=e=>Math.exp(-e*n)*((e-a)*n+1)-.001,r=e=>Math.exp(-e*n)*(n*n*(a-e)));const l=function(e,t,r){let n=r;for(let s=1;s<Us;s++)n-=e(n)/t(n);return n}(t,r,5/n);if(n=Ln(n),isNaN(l))return{stiffness:100,damping:10,duration:n};{const e=Math.pow(l,2)*i;return{stiffness:e,damping:2*o*Math.sqrt(i*e),duration:n}}}const Us=12;function Vs(e,t){return e*Math.sqrt(1-t*t)}const Gs=["keyframes","restDelta","restSpeed"],Ws=["duration","bounce"],Hs=["stiffness","damping","mass"];function qs(e,t){return t.some(t=>void 0!==e[t])}function Ks(e){let{keyframes:t,restDelta:r,restSpeed:n}=e,s=Ke(e,Gs);const a=t[0],i=t[t.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:h,isResolvedFromDuration:m}=function(e){let t=qe({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!qs(e,Hs)&&qs(e,Ws)){const r=zs(e);t=qe(qe(qe({},t),r),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(qe(qe({},s),{},{velocity:-In(s.velocity||0)})),p=h||0,f=c/(2*Math.sqrt(l*d)),x=i-a,g=In(Math.sqrt(l/d)),y=Math.abs(x)<5;let v;if(n||(n=y?.01:2),r||(r=y?.005:.5),f<1){const e=Vs(g,f);v=t=>{const r=Math.exp(-f*g*t);return i-r*((p+f*g*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}}else if(1===f)v=e=>i-Math.exp(-g*e)*(x+(p+g*x)*e);else{const e=g*Math.sqrt(f*f-1);v=t=>{const r=Math.exp(-f*g*t),n=Math.min(e*t,300);return i-r*((p+f*g*x)*Math.sinh(n)+e*x*Math.cosh(n))/e}}return{calculatedDuration:m&&u||null,next:e=>{const t=v(e);if(m)o.done=e>=u;else{let s=p;0!==e&&(s=f<1?Fs(v,e,t):0);const a=Math.abs(s)<=n,l=Math.abs(i-t)<=r;o.done=a&&l}return o.value=o.done?i:t,o}}}function Ys(e){let{keyframes:t,velocity:r=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],m={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let f=n*r;const x=h+f,g=void 0===o?x:o(x);g!==x&&(f=g-h);const y=e=>-f*Math.exp(-e/s),v=e=>g+y(e),b=e=>{const t=y(e),r=v(e);m.done=Math.abs(t)<=d,m.value=m.done?g:r};let j,w;const N=e=>{var t;(t=m.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(j=e,w=Ks({keyframes:[m.value,p(m.value)],velocity:Fs(v,e,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==j||(t=!0,b(e),N(e)),void 0!==j&&e>j?w.next(e-j):(!t&&b(e),m)}}}const $s=e=>{const t=t=>{let{timestamp:r}=t;return e(r)};return{start:()=>tn.update(t,!0),stop:()=>rn(t),now:()=>nn.isProcessing?nn.timestamp:performance.now()}};function Qs(e){let t=0;let r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}const Xs=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Js={decay:Ys,inertia:Ys,tween:Is,keyframes:Is,spring:Ks};function Zs(e){let t,r,{autoplay:n=!0,delay:s=0,driver:a=$s,keyframes:i,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:d="loop",onPlay:u,onStop:h,onComplete:m,onUpdate:p}=e,f=Ke(e,Xs),x=1,g=!1;const y=()=>{r=new Promise(e=>{t=e})};let v;y();const b=Js[o]||Is;let j;b!==Is&&"number"!==typeof i[0]&&(j=Ms([0,100],i,{clamp:!1}),i=[0,100]);const w=b(qe(qe({},f),{},{keyframes:i}));let N;"mirror"===d&&(N=b(qe(qe({},f),{},{keyframes:[...i].reverse(),velocity:-(f.velocity||0)})));let k="idle",S=null,C=null,E=null;null===w.calculatedDuration&&l&&(w.calculatedDuration=Qs(w));const{calculatedDuration:P}=w;let T=1/0,_=1/0;null!==P&&(T=P+c,_=T*(l+1)-c);let A=0;const D=e=>{if(null===C)return;x>0&&(C=Math.min(C,e)),x<0&&(C=Math.min(e-_/x,C)),A=null!==S?S:Math.round(e-C)*x;const t=A-s*(x>=0?1:-1),r=x>=0?t<0:t>_;A=Math.max(t,0),"finished"===k&&null===S&&(A=_);let n=A,a=w;if(l){const e=Math.min(A,_)/T;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===d?(r=1-r,c&&(r-=c/T)):"mirror"===d&&(a=N)),n=sr(0,1,r)*T}const o=r?{done:!1,value:i[0]}:a.next(n);j&&(o.value=j(o.value));let{done:u}=o;r||null===P||(u=x>=0?A>=_:A<=0);const h=null===S&&("finished"===k||"running"===k&&u);return p&&p(o.value),h&&L(),o},R=()=>{v&&v.stop(),v=void 0},M=()=>{k="idle",R(),t(),y(),C=E=null},L=()=>{k="finished",m&&m(),R(),t()},I=()=>{if(g)return;v||(v=a(D));const e=v.now();u&&u(),null!==S?C=e-S:C&&"finished"!==k||(C=e),"finished"===k&&y(),E=C,S=null,k="running",v.start()};n&&I();const O={then:(e,t)=>r.then(e,t),get time(){return In(A)},set time(e){e=Ln(e),A=e,null===S&&v&&0!==x?C=v.now()-e/x:S=e},get duration(){const e=null===w.calculatedDuration?Qs(w):w.calculatedDuration;return In(e)},get speed(){return x},set speed(e){e!==x&&v&&(x=e,O.time=In(A))},get state(){return k},play:I,pause:()=>{k="paused",S=A},stop:()=>{g=!0,"idle"!==k&&(k="idle",h&&h(),M())},cancel:()=>{null!==E&&D(E),M()},complete:()=>{k="finished"},sample:e=>(C=0,D(e))};return O}const ea=["onUpdate","onComplete"],ta=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ra=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function na(e,t,r){let{onUpdate:n,onComplete:s}=r,a=Ke(r,ea);if(!(ta()&&ra.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let i,o,l=!1,c=!1;const d=()=>{o=new Promise(e=>{i=e})};d();let{keyframes:u,duration:h=300,ease:m,times:p}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Bn(t.ease))(t,a)){const e=Zs(qe(qe({},a),{},{repeat:0,delay:0}));let t={done:!1,value:u[0]};const r=[];let n=0;for(;!t.done&&n<2e4;)t=e.sample(n),r.push(t.value),n+=10;p=void 0,u=r,h=n-10,m="linear"}const f=function(e,t,r){let{delay:n=0,duration:s,repeat:a=0,repeatType:i="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:r};l&&(c.offset=l);const d=Vn(o);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"})}(e.owner.current,t,u,qe(qe({},a),{},{duration:h,ease:m,times:p})),x=()=>{c=!1,f.cancel()},g=()=>{c=!0,tn.update(x),i(),d()};f.onfinish=()=>{c||(e.set(function(e,t){let{repeat:r,repeatType:n="loop"}=t;return e[r&&"loop"!==n&&r%2===1?0:e.length-1]}(u,a)),s&&s(),g())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(f.timeline=e,f.onfinish=null,Jr),get time(){return In(f.currentTime||0)},set time(e){f.currentTime=Ln(e)},get speed(){return f.playbackRate},set speed(e){f.playbackRate=e},get duration(){return In(h)},play:()=>{l||(f.play(),rn(x))},pause:()=>f.pause(),stop:()=>{if(l=!0,"idle"===f.playState)return;const{currentTime:t}=f;if(t){const r=Zs(qe(qe({},a),{},{autoplay:!1}));e.setWithVelocity(r.sample(t-10).value,r.sample(t).value,10)}g()},complete:()=>{c||f.finish()},cancel:g}}const sa={type:"spring",stiffness:500,damping:25,restSpeed:10},aa={type:"keyframes",duration:.8},ia={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oa=(e,t)=>{let{keyframes:r}=t;return r.length>2?aa:$t.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===r[1]?2*Math.sqrt(550):30,restSpeed:10}:sa:ia},la=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Ss.test(t)&&"0"!==t||t.startsWith("url("))),ca=new Set(["brightness","contrast","saturate","opacity"]);function da(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(cr)||[];if(!n)return e;const s=r.replace(n,"");let a=ca.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const ua=/([a-z-]*)\(.*?\)/g,ha=qe(qe({},Ss),{},{getAnimatableNone:e=>{const t=e.match(ua);return t?t.map(da).join(" "):e}}),ma=qe(qe({},jr),{},{color:ds,backgroundColor:ds,outlineColor:ds,fill:ds,stroke:ds,borderColor:ds,borderTopColor:ds,borderRightColor:ds,borderBottomColor:ds,borderLeftColor:ds,filter:ha,WebkitFilter:ha}),pa=e=>ma[e];function fa(e,t){let r=pa(e);return r!==ha&&(r=Ss),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const xa=e=>/^0[^.\s]+$/.test(e);function ga(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||xa(e):void 0}const ya=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function va(e,t){return e[t]||e.default||e}const ba=!1,ja=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const a=va(n,e)||{},i=a.delay||n.delay||0;let{elapsed:o=0}=n;o-=Ln(i);const l=function(e,t,r,n){const s=la(t,r);let a;a=Array.isArray(r)?[...r]:[null,r];const i=void 0!==n.from?n.from:e.get();let o;const l=[];for(let c=0;c<a.length;c++)null===a[c]&&(a[c]=0===c?i:a[c-1]),ga(a[c])&&l.push(c),"string"===typeof a[c]&&"none"!==a[c]&&"0"!==a[c]&&(o=a[c]);if(s&&l.length&&o)for(let c=0;c<l.length;c++)a[l[c]]=fa(t,o);return a}(t,e,r,a),c=l[0],d=l[l.length-1],u=la(e,c),h=la(e,d);Rn(u===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(d,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(d," via the `style` property."));let m=qe(qe({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-o,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{s(),a.onComplete&&a.onComplete()}});if(function(e){let{when:t,delay:r,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d}=e,u=Ke(e,ya);return!!Object.keys(u).length}(a)||(m=qe(qe({},m),oa(e,m))),m.duration&&(m.duration=Ln(m.duration)),m.repeatDelay&&(m.repeatDelay=Ln(m.repeatDelay)),!u||!h||On||!1===a.type||ba)return function(e){let{keyframes:t,delay:r,onUpdate:n,onComplete:s}=e;const a=()=>(n&&n(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Jr,pause:Jr,stop:Jr,then:e=>(e(),Promise.resolve()),cancel:Jr,complete:Jr});return r?Zs({keyframes:[0,1],duration:0,delay:r,onComplete:a}):a()}(On?qe(qe({},m),{},{delay:0}):m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const r=na(t,e,m);if(r)return r}return Zs(m)}};function wa(e){return Boolean(Xt(e)&&e.add)}const Na=e=>/^\-?\d*\.?\d+$/.test(e);function ka(e,t){-1===e.indexOf(t)&&e.push(t)}function Sa(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ca{constructor(){this.subscriptions=[]}add(e){return ka(this.subscriptions,e),()=>Sa(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const n=this.subscriptions[s];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ea={current:void 0};class Pa{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:n,timestamp:s}=nn;t.lastUpdated!==s&&(t.timeDelta=n,t.lastUpdated=s,tn.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),r&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>tn.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ca);const r=this.events[e].add(t);return"change"===e?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,r){this.set(t),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ea.current&&Ea.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Os(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ta(e,t){return new Pa(e,t)}const _a=e=>t=>t.test(e),Aa=[ar,xr,fr,pr,yr,gr,{test:e=>"auto"===e,parse:e=>e}],Da=e=>Aa.find(_a(e)),Ra=[...Aa,ds,Ss],Ma=e=>Ra.find(_a(e)),La=["transitionEnd","transition"];function Ia(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ta(r))}function Oa(e,t){const r=Dn(e,t);let n=r?e.makeTargetAnimatable(r,!1):{},{transitionEnd:s={},transition:a={}}=n,i=Ke(n,La);i=qe(qe({},i),s);for(const o in i){Ia(e,o,Kr(i[o]))}}function Fa(e,t){if(!t)return;return(t[e]||t.default||t).from}const Ba=["transition","transitionEnd"];function za(e,t){let{protectedKeys:r,needsAnimating:n}=e;const s=r.hasOwnProperty(t)&&!0!==n[t];return n[t]=!1,s}function Ua(e,t){const r=e.get();if(!Array.isArray(t))return r!==t;for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}function Va(e,t){let{delay:r=0,transitionOverride:n,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.makeTargetAnimatable(t),{transition:i=e.getDefaultTransition(),transitionEnd:o}=a,l=Ke(a,Ba);const c=e.getValue("willChange");n&&(i=n);const d=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const t=e.getValue(h),n=l[h];if(!t||void 0===n||u&&za(u,h))continue;const s=qe({delay:r,elapsed:0},va(i||{},h));if(window.HandoffAppearAnimations){const r=e.getProps()[Et];if(r){const e=window.HandoffAppearAnimations(r,h,t,tn);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let a=!s.isHandoff&&!Ua(t,n);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(ja(h,t,n,e.shouldReduceMotion&&$t.has(h)?{type:!1}:s));const o=t.animation;wa(c)&&(c.add(h),o.then(()=>c.remove(h))),d.push(o)}return o&&Promise.all(d).then(()=>{o&&Oa(e,o)}),d}function Ga(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Dn(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(Va(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=s;return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const i=[],o=(e.variantChildren.size-1)*n,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*n};return Array.from(e.variantChildren).sort(Wa).forEach((e,n)=>{e.notify("AnimationStart",t),i.push(Ga(e,t,qe(qe({},a),{},{delay:r+l(n)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(i)}(e,t,a+n,i,o,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[a,i]:[i,a];return e().then(()=>t())}return Promise.all([a(),i(r.delay)])}function Wa(e,t){return e.sortNodePosition(t)}const Ha=["transition","transitionEnd"],qa=[...At].reverse(),Ka=At.length;function Ya(e){return t=>Promise.all(t.map(t=>{let{animation:r,options:n}=t;return function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>Ga(e,t,n));r=Promise.all(s)}else if("string"===typeof t)r=Ga(e,t,n);else{const s="function"===typeof t?Dn(e,t,n.custom):t;r=Promise.all(Va(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}(e,r,n)}))}function $a(e){let t=Ya(e);const r={animate:Xa(!0),whileInView:Xa(),whileHover:Xa(),whileTap:Xa(),whileDrag:Xa(),whileFocus:Xa(),exit:Xa()};let n=!0;const s=(t,r)=>{const n=Dn(e,r);if(n){const{transition:e,transitionEnd:r}=n,s=Ke(n,Ha);t=qe(qe(qe({},t),s),r)}return t};function a(a,i){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],d=new Set;let u={},h=1/0;for(let t=0;t<Ka;t++){const m=qa[t],p=r[m],f=void 0!==o[m]?o[m]:l[m],x=Tt(f),g=m===i?p.isActive:null;!1===g&&(h=t);let y=f===l[m]&&f!==o[m]&&x;if(y&&n&&e.manuallyAnimateOnMount&&(y=!1),p.protectedKeys=qe({},u),!p.isActive&&null===g||!f&&!p.prevProp||_t(f)||"boolean"===typeof f)continue;let v=Qa(p.prevProp,f)||m===i&&p.isActive&&!y&&x||t>h&&x,b=!1;const j=Array.isArray(f)?f:[f];let w=j.reduce(s,{});!1===g&&(w={});const{prevResolvedValues:N={}}=p,k=qe(qe({},N),w),S=e=>{v=!0,d.has(e)&&(b=!0,d.delete(e)),p.needsAnimating[e]=!0};for(const e in k){const t=w[e],r=N[e];if(u.hasOwnProperty(e))continue;let n=!1;n=qr(t)&&qr(r)?!An(t,r):t!==r,n?void 0!==t?S(e):d.add(e):void 0!==t&&d.has(e)?S(e):p.protectedKeys[e]=!0}p.prevProp=f,p.prevResolvedValues=w,p.isActive&&(u=qe(qe({},u),w)),n&&e.blockInitialAnimation&&(v=!1),!v||y&&!b||c.push(...j.map(e=>({animation:e,options:qe({type:m},a)})))}if(d.size){const t={};d.forEach(r=>{const n=e.getBaseTarget(r);void 0!==n&&(t[r]=n)}),c.push({animation:t})}let m=Boolean(c.length);return!n||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(m=!1),n=!1,m?t(c):Promise.resolve()}return{animateChanges:a,setActive:function(t,n,s){var i;if(r[t].isActive===n)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach(e=>{var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;const o=a(s,t);for(const e in r)r[e].protectedKeys={};return o},setAnimateFunction:function(r){t=r(e)},getState:()=>r}}function Qa(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!An(t,e)}function Xa(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Ja=0;const Za={animation:{Feature:class extends vn{constructor(e){super(e),e.animationState||(e.animationState=$a(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_t(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends vn{constructor(){super(...arguments),this.id=Ja++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e,{custom:null!==r&&void 0!==r?r:this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},ei=(e,t)=>Math.abs(e-t);class ti{constructor(e,t){let{transformPagePoint:r,contextWindow:n,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=si(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=ei(e.x,t.x),n=ei(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!r)return;const{point:n}=e,{timestamp:s}=nn;this.history.push(qe(qe({},n),{},{timestamp:s}));const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=ri(t,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=si("pointercancel"===e.type?this.lastMoveEventInfo:ri(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!cn(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.contextWindow=n||window;const a=ri(dn(e),this.transformPagePoint),{point:i}=a,{timestamp:o}=nn;this.history=[qe(qe({},i),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,si(a,this.history)),this.removeListeners=mn(un(this.contextWindow,"pointermove",this.handlePointerMove),un(this.contextWindow,"pointerup",this.handlePointerUp),un(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rn(this.updatePoint)}}function ri(e,t){return t?{point:t(e.point)}:e}function ni(e,t){return{x:e.x-t.x,y:e.y-t.y}}function si(e,t){let{point:r}=e;return{point:r,delta:ni(r,ii(t)),offset:ni(r,ai(t)),velocity:oi(t,.1)}}function ai(e){return e[0]}function ii(e){return e[e.length-1]}function oi(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=ii(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Ln(t)));)r--;if(!n)return{x:0,y:0};const a=In(s.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function li(e){return e.max-e.min}function ci(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=r}function di(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=n,e.originPoint=us(t.min,t.max,e.origin),e.scale=li(r)/li(t),(ci(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=us(r.min,r.max,e.origin)-e.originPoint,(ci(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ui(e,t,r,n){di(e.x,t.x,r.x,n?n.originX:void 0),di(e.y,t.y,r.y,n?n.originY:void 0)}function hi(e,t,r){e.min=r.min+t.min,e.max=e.min+li(t)}function mi(e,t,r){e.min=t.min-r.min,e.max=e.min+li(t)}function pi(e,t,r){mi(e.x,t.x,r.x),mi(e.y,t.y,r.y)}function fi(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function xi(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const gi=.35;function yi(e,t,r){return{min:vi(e,t),max:vi(e,r)}}function vi(e,t){return"number"===typeof e?e:e[t]||0}const bi=()=>({x:{min:0,max:0},y:{min:0,max:0}});function ji(e){return[e("x"),e("y")]}function wi(e){let{top:t,left:r,right:n,bottom:s}=e;return{x:{min:r,max:n},y:{min:t,max:s}}}function Ni(e){return void 0===e||1===e}function ki(e){let{scale:t,scaleX:r,scaleY:n}=e;return!Ni(t)||!Ni(r)||!Ni(n)}function Si(e){return ki(e)||Ci(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Ci(e){return Ei(e.x)||Ei(e.y)}function Ei(e){return e&&"0%"!==e}function Pi(e,t,r){return r+t*(e-r)}function Ti(e,t,r,n,s){return void 0!==s&&(e=Pi(e,s,n)),Pi(e,r,n)+t}function _i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Ti(e.min,t,r,n,s),e.max=Ti(e.max,t,r,n,s)}function Ai(e,t){let{x:r,y:n}=t;_i(e.x,r.translate,r.scale,r.originPoint),_i(e.y,n.translate,n.scale,n.originPoint)}function Di(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Ri(e,t){e.min=e.min+t,e.max=e.max+t}function Mi(e,t,r){let[n,s,a]=r;const i=void 0!==t[a]?t[a]:.5,o=us(e.min,e.max,i);_i(e,t[n],t[s],o,t.scale)}const Li=["x","scaleX","originX"],Ii=["y","scaleY","originY"];function Oi(e,t){Mi(e.x,t,Li),Mi(e.y,t,Ii)}function Fi(e,t){return wi(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const Bi=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},zi=new WeakMap;class Ui{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:n}=this.getProps();this.panSession=new ti(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dn(e,"page").point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:s}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gn(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ji(e=>{let t=this.getAxisMotionValue(e).get()||0;if(fr.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=li(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&tn.update(()=>s(e,t),!1,!0);const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:s,onDrag:a}=this.getProps();if(!r&&!this.openGlobalLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>ji(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:n,contextWindow:Bi(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:n}=t;this.startAnimation(n);const{onDragEnd:s}=this.getProps();s&&tn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!Vi(e,n,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,t,r){let{min:n,max:s}=t;return void 0!==n&&e<n?e=r?us(n,e,r.min):Math.max(e,n):void 0!==s&&e>s&&(e=r?us(s,e,r.max):Math.min(e,s)),e}(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Pt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!n)&&function(e,t){let{top:r,left:n,bottom:s,right:a}=t;return{x:fi(e.x,n,a),y:fi(e.y,r,s)}}(n.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi;return!1===e?e=0:!0===e&&(e=gi),{x:yi(e,"left","right"),y:yi(e,"top","bottom")}}(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ji(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pt(e))return!1;const r=e.current;Mn(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const s=function(e,t,r){const n=Fi(e,r),{scroll:s}=t;return s&&(Ri(n.x,s.offset.x),Ri(n.y,s.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:xi(e.x,t.x),y:xi(e.y,t.y)}}(n.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:r}=e;return{top:r.min,right:t.max,bottom:r.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=wi(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=ji(i=>{if(!Vi(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u=qe(qe({type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return r.start(ja(e,r,0,t))}stopAnimation(){ji(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ji(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ji(t=>{const{drag:r}=this.getProps();if(!Vi(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,s=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];s.set(e[t]-us(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Pt(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};ji(e=>{const t=this.getAxisMotionValue(e);if(t){const r=t.get();n[e]=function(e,t){let r=.5;const n=li(e),s=li(t);return s>n?r=As(t.min,t.max-n,e.min):n>s&&(r=As(e.min,e.max-s,t.min)),sr(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ji(t=>{if(!Vi(t,e,null))return;const r=this.getAxisMotionValue(t),{min:s,max:a}=this.constraints[t];r.set(us(s,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;zi.set(this.visualElement,this);const e=un(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Pt(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),t();const s=ln(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r}=e;this.isDragging&&r&&(ji(e=>{const r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:a=gi,dragMomentum:i=!0}=e;return qe(qe({},e),{},{drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:s,dragElastic:a,dragMomentum:i})}}function Vi(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}const Gi=e=>(t,r)=>{e&&tn.update(()=>e(t,r))};const Wi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qi={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!xr.test(e))return e;e=parseFloat(e)}const r=Hi(e,t.target.x),n=Hi(e,t.target.y);return"".concat(r,"% ").concat(n,"%")}},Ki={correct:(e,t)=>{let{treeScale:r,projectionDelta:n}=t;const s=e,a=Ss.parse(e);if(a.length>5)return s;const i=Ss.createTransformer(e),o="number"!==typeof a[0]?1:0,l=n.x.scale*r.x,c=n.y.scale*r.y;a[0+o]/=l,a[1+o]/=c;const d=us(l,c,.5);return"number"===typeof a[2+o]&&(a[2+o]/=d),"number"===typeof a[3+o]&&(a[3+o]/=d),i(a)}};class Yi extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:s}=e;var a;a=Qi,Object.assign(Kt,a),s&&(t.group&&t.group.add(s),r&&r.register&&n&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(qe(qe({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),Wi.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:s}=this.props,a=r.projection;return a?(a.isPresent=s,n||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||tn.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $i(e){const[t,r]=function(){const e=(0,a.useContext)(wt);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=(0,a.useId)();return(0,a.useEffect)(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}(),n=(0,a.useContext)(Bt);return a.createElement(Yi,qe(qe({},e),{},{layoutGroup:n,switchLayoutGroup:(0,a.useContext)(zt),isPresent:t,safeToRemove:r}))}const Qi={borderRadius:qe(qe({},qi),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:qi,borderTopRightRadius:qi,borderBottomLeftRadius:qi,borderBottomRightRadius:qi,boxShadow:Ki},Xi=["TopLeft","TopRight","BottomLeft","BottomRight"],Ji=Xi.length,Zi=e=>"string"===typeof e?parseFloat(e):e,eo=e=>"number"===typeof e||xr.test(e);function to(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const ro=so(0,.5,Xn),no=so(.5,.95,Jr);function so(e,t,r){return n=>n<e?0:n>t?1:r(As(e,t,n))}function ao(e,t){e.min=t.min,e.max=t.max}function io(e,t){ao(e.x,t.x),ao(e.y,t.y)}function oo(e,t,r,n,s){return e=Pi(e-=t,1/r,n),void 0!==s&&(e=Pi(e,1/s,n)),e}function lo(e,t,r,n,s){let[a,i,o]=r;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;fr.test(t)&&(t=parseFloat(t),t=us(i.min,i.max,t/100)-i.min);if("number"!==typeof t)return;let o=us(a.min,a.max,n);e===a&&(o-=t),e.min=oo(e.min,t,r,o,s),e.max=oo(e.max,t,r,o,s)}(e,t[a],t[i],t[o],t.scale,n,s)}const co=["x","scaleX","originX"],uo=["y","scaleY","originY"];function ho(e,t,r,n){lo(e.x,t,co,r?r.x:void 0,n?n.x:void 0),lo(e.y,t,uo,r?r.y:void 0,n?n.y:void 0)}function mo(e){return 0===e.translate&&1===e.scale}function po(e){return mo(e.x)&&mo(e.y)}function fo(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function xo(e){return li(e.x)/li(e.y)}class go{constructor(){this.members=[]}add(e){ka(this.members,e),e.scheduleRender()}remove(e){if(Sa(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yo(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y;if((s||a)&&(n="translate3d(".concat(s,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(n+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),r){const{rotate:e,rotateX:t,rotateY:s}=r;e&&(n+="rotate(".concat(e,"deg) ")),t&&(n+="rotateX(".concat(t,"deg) ")),s&&(n+="rotateY(".concat(s,"deg) "))}const i=e.x.scale*t.x,o=e.y.scale*t.y;return 1===i&&1===o||(n+="scale(".concat(i,", ").concat(o,")")),n||"none"}const vo=(e,t)=>e.depth-t.depth;class bo{constructor(){this.children=[],this.isDirty=!1}add(e){ka(this.children,e),this.isDirty=!0}remove(e){Sa(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vo),this.isDirty=!1,this.children.forEach(e)}}const jo=["","X","Y","Z"],wo={visibility:"hidden"};let No=0;const ko={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function So(e){let{attachResizeListener:t,defaultParent:r,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===r||void 0===r?void 0:r();this.id=No++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ko.totalNodes=ko.resolvedTargetDeltas=ko.recalculatedProjection=0,this.nodes.forEach(Po),this.nodes.forEach(Lo),this.nodes.forEach(Io),this.nodes.forEach(To),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(ko)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new bo)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ca),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];t&&t.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var n;this.isSVG=(n=e)instanceof SVGElement&&"svg"!==n.tagName,this.instance=e;const{layoutId:s,layout:a,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(a||s)&&(this.isLayoutDirty=!0),t){let r;const n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=performance.now(),n=s=>{let{timestamp:a}=s;const i=a-r;i>=t&&(rn(n),e(i-t))};return tn.read(n,!0),()=>rn(n)}(n,250),Wi.hasAnimatedSinceResize&&(Wi.hasAnimatedSinceResize=!1,this.nodes.forEach(Mo))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&i&&(s||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:r,hasRelativeTargetChanged:n,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||Vo,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=i.getProps(),c=!this.targetLayout||!fo(this.targetLayout,s)||n,d=!r&&n;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||d||r&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,d);const e=qe(qe({},va(a,"layout")),{},{onPlay:o,onComplete:l});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else r||Mo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Oo),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ao);this.isUpdating||this.nodes.forEach(Do),this.isUpdating=!1,this.nodes.forEach(Ro),this.nodes.forEach(Co),this.nodes.forEach(Eo),this.clearAllSnapshots();const e=performance.now();nn.delta=sr(0,1e3/60,e-nn.timestamp),nn.timestamp=e,nn.isProcessing=!0,sn.update.process(nn),sn.preRender.process(nn),sn.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_o),this.sharedNodes.forEach(Fo)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!po(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,s=n!==this.prevTransformTemplateValue;e&&(t||Si(this.latestValues)||s)&&(a(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),Ho((n=r).x),Ho(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:r}=this.root;return r&&(Ri(t.x,r.offset.x),Ri(t.y,r.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};io(t,e);for(let r=0;r<this.path.length;r++){const n=this.path[r],{scroll:s,options:a}=n;if(n!==this.root&&s&&a.layoutScroll){if(s.isRoot){io(t,e);const{scroll:r}=this.root;r&&(Ri(t.x,-r.offset.x),Ri(t.y,-r.offset.y))}Ri(t.x,s.offset.x),Ri(t.y,s.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={x:{min:0,max:0},y:{min:0,max:0}};io(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Oi(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Si(e.latestValues)&&Oi(r,e.latestValues)}return Si(this.latestValues)&&Oi(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};io(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Si(e.latestValues))continue;ki(e.latestValues)&&e.updateSnapshot();const n=bi();io(n,e.measurePageBox()),ho(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return Si(this.latestValues)&&ho(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=qe(qe(qe({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const r=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=r.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=r.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=r.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==r;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:a}=this.options;if(this.layout&&(s||a)){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},pi(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var i,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,hi(i.x,o.x,l.x),hi(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):io(this.target,this.layout.layoutBox),Ai(this.target,this.targetDelta)):io(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},pi(this.relativeTargetOrigin,this.target,e.target),io(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ko.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ki(this.parent.latestValues)&&!Ci(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),r=Boolean(this.resumingFrom)||this!==t;let n=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(n=!1),n)return;const{layout:s,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!a)return;io(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,o=this.treeScale.y;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=r.length;if(!s)return;let a,i;t.x=t.y=1;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const s=a.instance;s&&s.style&&"contents"===s.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Oi(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Ai(e,i)),n&&Si(a.latestValues)&&Oi(e,a.latestValues))}t.x=Di(t.x),t.y=Di(t.y)}(this.layoutCorrected,this.treeScale,this.path,r),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;ui(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=yo(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===i&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ko.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.snapshot,n=r?r.latestValues:{},s=qe({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(Uo));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;Bo(a.x,e.x,r),Bo(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(pi(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,r,n){zo(e.x,t.x,r.x,n),zo(e.y,t.y,r.y,n)}(this.relativeTarget,this.relativeTargetOrigin,i,r),u&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,u)&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),io(u,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,r,n,s,a){s?(e.opacity=us(0,void 0!==r.opacity?r.opacity:1,ro(n)),e.opacityExit=us(void 0!==t.opacity?t.opacity:1,0,no(n))):a&&(e.opacity=us(void 0!==t.opacity?t.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let i=0;i<Ji;i++){const s="border".concat(Xi[i],"Radius");let a=to(t,s),o=to(r,s);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||eo(a)===eo(o)?(e[s]=Math.max(us(Zi(a),Zi(o),n),0),(fr.test(o)||fr.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||r.rotate)&&(e.rotate=us(t.rotate||0,r.rotate||0,n))}(s,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{Wi.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,r){const n=Xt(e)?e:Ta(e);return n.start(ja("",n,t,r)),n.animation}(0,1e3,qe(qe({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:s}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&qo(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=li(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=li(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}io(t,r),Oi(t,s),ui(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new go);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(t=!0),!t)return;const n={};for(let s=0;s<jo.length;s++){const t="rotate"+jo[s];r[t]&&(n[t]=r[t],e.setStaticValue(t,0))}e.render();for(const s in n)e.setStaticValue(s,n[s]);e.scheduleRender()}getProjectionStyles(e){var t,r;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wo;const n={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=Yr(null===e||void 0===e?void 0:e.pointerEvents)||"",n.transform=s?s(this.latestValues,""):"none",n;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=Yr(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Si(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const i=a.animationValues||a.latestValues;this.applyTransformsToTarget(),n.transform=yo(this.projectionDeltaWithTransform,this.treeScale,i),s&&(n.transform=s(i,n.transform));const{x:o,y:l}=this.projectionDelta;n.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?n.opacity=a===this?null!==(r=null!==(t=i.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:n.opacity=a===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const c in Kt){if(void 0===i[c])continue;const{correct:e,applyTo:t}=Kt[c],r="none"===n.transform?i[c]:e(i[c],a);if(t){const e=t.length;for(let s=0;s<e;s++)n[t[s]]=r}else n[c]=r}return this.options.layoutId&&(n.pointerEvents=a===this?Yr(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Ao),this.root.sharedNodes.clear()}}}function Co(e){e.updateLayout()}function Eo(e){var t;const r=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:s}=e.options,a=r.source!==e.layout.source;"size"===s?ji(e=>{const n=a?r.measuredBox[e]:r.layoutBox[e],s=li(n);n.min=t[e].min,n.max=n.min+s}):qo(s,r.layoutBox,t)&&ji(n=>{const s=a?r.measuredBox[n]:r.layoutBox[n],i=li(t[n]);s.max=s.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ui(i,t,r.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?ui(o,e.applyTransform(n,!0),r.measuredBox):ui(o,t,r.layoutBox);const l=!po(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:s,layout:a}=n;if(s&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};pi(i,r.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};pi(o,t,a.layoutBox),fo(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:r,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Po(e){ko.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function To(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _o(e){e.clearSnapshot()}function Ao(e){e.clearMeasurements()}function Do(e){e.isLayoutDirty=!1}function Ro(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Lo(e){e.resolveTargetDelta()}function Io(e){e.calcProjection()}function Oo(e){e.resetRotation()}function Fo(e){e.removeLeadSnapshot()}function Bo(e,t,r){e.translate=us(t.translate,0,r),e.scale=us(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function zo(e,t,r,n){e.min=us(t.min,r.min,n),e.max=us(t.max,r.max,n)}function Uo(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Vo={duration:.45,ease:[.4,0,.1,1]},Go=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Wo=Go("applewebkit/")&&!Go("chrome/")?Math.round:Jr;function Ho(e){e.min=Wo(e.min),e.max=Wo(e.max)}function qo(e,t,r){return"position"===e||"preserve-aspect"===e&&!ci(xo(t),xo(r),.2)}const Ko=So({attachResizeListener:(e,t)=>ln(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yo={current:void 0},$o=So({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yo.current){const e=new Ko({});e.mount(window),e.setOptions({layoutScroll:!0}),Yo.current=e}return Yo.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Qo={pan:{Feature:class extends vn{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(e){this.session=new ti(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bi(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:Gi(e),onStart:Gi(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&tn.update(()=>n(e,t))}}}mount(){this.removePointerDownListener=un(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends vn{constructor(e){super(e),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new Ui(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:$o,MeasureLayout:$i}};const Xo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Jo(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Mn(r<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[n,s]=function(e){const t=Xo.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return Na(e)?parseFloat(e):e}return rr(s)?Jo(s,t,r+1):s}function Zo(e,t,r){let n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:n,transitionEnd:r};r&&(r=qe({},r)),e.values.forEach(e=>{const t=e.get();if(!rr(t))return;const r=Jo(t,s);r&&e.set(r)});for(const a in n){const e=n[a];if(!rr(e))continue;const t=Jo(e,s);t&&(n[a]=t,r||(r={}),void 0===r[a]&&(r[a]=e))}return{target:n,transitionEnd:r}}const el=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),tl=e=>el.has(e),rl=e=>e===ar||e===xr,nl=(e,t)=>parseFloat(e.split(", ")[t]),sl=(e,t)=>(r,n)=>{let{transform:s}=n;if("none"===s||!s)return 0;const a=s.match(/^matrix3d\((.+)\)$/);if(a)return nl(a[1],t);{const t=s.match(/^matrix\((.+)\)$/);return t?nl(t[1],e):0}},al=new Set(["x","y","z"]),il=Yt.filter(e=>!al.has(e));const ol={width:(e,t)=>{let{x:r}=e,{paddingLeft:n="0",paddingRight:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},height:(e,t)=>{let{y:r}=e,{paddingTop:n="0",paddingBottom:s="0"}=t;return r.max-r.min-parseFloat(n)-parseFloat(s)},top:(e,t)=>{let{top:r}=t;return parseFloat(r)},left:(e,t)=>{let{left:r}=t;return parseFloat(r)},bottom:(e,t)=>{let{y:r}=e,{top:n}=t;return parseFloat(n)+(r.max-r.min)},right:(e,t)=>{let{x:r}=e,{left:n}=t;return parseFloat(n)+(r.max-r.min)},x:sl(4,13),y:sl(5,14)};ol.translateX=ol.x,ol.translateY=ol.y;const ll=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=qe({},t),n=qe({},n);const s=Object.keys(t).filter(tl);let a=[],i=!1;const o=[];if(s.forEach(s=>{const l=e.getValue(s);if(!e.hasValue(s))return;let c=r[s],d=Da(c);const u=t[s];let h;if(qr(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=Da(c);for(let r=t;r<e&&null!==u[r];r++)h?Mn(Da(u[r])===h,"All keyframes must be of the same type"):(h=Da(u[r]),Mn(h===d||rl(d)&&rl(h),"Keyframes must be of the same dimension as the current value"))}else h=Da(u);if(d!==h)if(rl(d)&&rl(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof u?t[s]=parseFloat(u):Array.isArray(u)&&h===xr&&(t[s]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===u)?0===c?l.set(h.transform(c)):t[s]=d.transform(u):(i||(a=function(e){const t=[];return il.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),i=!0),o.push(s),n[s]=void 0!==n[s]?n[s]:t[s],l.jump(u))}),o.length){const r=o.indexOf("height")>=0?window.pageYOffset:null,s=((e,t,r)=>{const n=t.measureViewportBox(),s=t.current,a=getComputedStyle(s),{display:i}=a,o={};"none"===i&&t.setStaticValue("display",e.display||"block"),r.forEach(e=>{o[e]=ol[e](n,a)}),t.render();const l=t.measureViewportBox();return r.forEach(r=>{const n=t.getValue(r);n&&n.jump(o[r]),e[r]=ol[r](l,a)}),e})(t,e,o);return a.length&&a.forEach(t=>{let[r,n]=t;e.getValue(r).set(n)}),e.render(),Nt&&null!==r&&window.scrollTo({top:r}),{target:s,transitionEnd:n}}return{target:t,transitionEnd:n}};function cl(e,t,r,n){return(e=>Object.keys(e).some(tl))(t)?ll(e,t,r,n):{target:t,transitionEnd:n}}const dl={current:null},ul={current:!1};const hl=new WeakMap,ml=["willChange"],pl=["children"],fl=Object.keys(Ft),xl=fl.length,gl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],yl=Dt.length;class vl{constructor(e){let{parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:a}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget=qe({},o),this.initialValues=r.initial?qe({},o):{},this.renderState=l,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=i,this.isControllingVariants=Rt(r),this.isVariantNode=Mt(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(r,{}),{willChange:d}=c,u=Ke(c,ml);for(const h in u){const e=u[h];void 0!==o[h]&&Xt(e)&&(e.set(o[h],!1),wa(d)&&d.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,hl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ul.current||function(){if(ul.current=!0,Nt)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dl.current=e.matches;e.addListener(t),t()}else dl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||dl.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){hl.delete(this.current),this.projection&&this.projection.unmount(),rn(this.notifyUpdate),rn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const r=$t.has(e),n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&tn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{n(),s()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,n){let s,a,{children:i}=e,o=Ke(e,pl);for(let l=0;l<xl;l++){const e=fl[l],{isEnabled:t,Feature:r,ProjectionNode:n,MeasureLayout:i}=Ft[e];n&&(s=n),t(o)&&(!this.features[e]&&r&&(this.features[e]=new r(this)),i&&(a=i))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:r,dragConstraints:a,layoutScroll:i,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(r)||a&&Pt(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:n,layoutScroll:i,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<gl.length;r++){const t=gl[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){const{willChange:n}=t;for(const s in t){const a=t[s],i=r[s];if(Xt(a))e.addValue(s,a),wa(n)&&n.add(s);else if(Xt(i))e.addValue(s,Ta(a,{owner:e})),wa(n)&&n.remove(s);else if(i!==a)if(e.hasValue(s)){const t=e.getValue(s);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(s);e.addValue(s,Ta(void 0!==t?t:a,{owner:e}))}}for(const s in r)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<yl;t++){const r=Dt[t],n=this.props[r];(Tt(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=Ta(t,{owner:this}),this.addValue(e,r)),r}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props,n="string"===typeof r||"object"===typeof r?null===(t=Hr(this.props,r))||void 0===t?void 0:t[e]:void 0;if(r&&void 0!==n)return n;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||Xt(s)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Ca),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.events[e].notify(...r)}}}const bl=["transition","transitionEnd"];class jl extends vl{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:r,style:n}=t;delete r[e],delete n[e]}makeTargetAnimatableFromInstance(e,t,r){let{transition:n,transitionEnd:s}=e,a=Ke(e,bl),{transformValues:i}=t,o=function(e,t,r){const n={};for(const s in e){const e=Fa(s,t);if(void 0!==e)n[s]=e;else{const e=r.getValue(s);e&&(n[s]=e.get())}}return n}(a,n||{},this);if(i&&(s&&(s=i(s)),a&&(a=i(a)),o&&(o=i(o))),r){!function(e,t,r){var n,s;const a=Object.keys(t).filter(t=>!e.hasValue(t)),i=a.length;if(i)for(let o=0;o<i;o++){const i=a[o],l=t[i];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(s=null!==(n=r[i])&&void 0!==n?n:e.readValue(i))&&void 0!==s?s:t[i]),void 0!==c&&null!==c&&("string"===typeof c&&(Na(c)||xa(c))?c=parseFloat(c):!Ma(c)&&Ss.test(l)&&(c=fa(i,l)),e.addValue(i,Ta(c,{owner:e})),void 0===r[i]&&(r[i]=c),null!==c&&e.setBaseTarget(i,c))}}(this,a,o);const e=((e,t,r,n)=>{const s=Zo(e,t,n);return cl(e,t=s.target,r,n=s.transitionEnd)})(this,a,o,s);s=e.transitionEnd,a=e.target}return qe({transition:n,transitionEnd:s},a)}}class wl extends jl{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if($t.has(t)){const e=pa(t);return e&&e.default||0}{const n=(r=e,window.getComputedStyle(r)),s=(tr(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof s?s.trim():s}var r}measureInstanceViewportBox(e,t){let{transformPagePoint:r}=t;return Fi(e,r)}build(e,t,r,n){wr(e,t,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Gr(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,r,n){zr(e,t,r,n)}}class Nl extends jl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($t.has(t)){const e=pa(t);return e&&e.default||0}return t=Ur.has(t)?t:Ct(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Wr(e,t)}build(e,t,r,n){Lr(e,t,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,t,r,n){Vr(e,t,0,n)}mount(e){this.isSVGTag=Or(e.tagName),super.mount(e)}}const kl=(e,t)=>qt(e)?new Nl(t,{enableHardwareAcceleration:!1}):new wl(t,{enableHardwareAcceleration:!0}),Sl={layout:{ProjectionNode:$o,MeasureLayout:$i}},Cl=qe(qe(qe(qe({},Za),_n),Qo),Sl),El=Wt((e,t)=>function(e,t,r,n){let{forwardMotionProps:s=!1}=t;return qe(qe({},qt(e)?an:on),{},{preloadedFeatures:r,useRender:Br(s),createVisualElement:n,Component:e})}(e,t,Cl,kl));const Pl=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Tl=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_l=Qe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Al=Qe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Dl=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Rl=e=>{let{size:t=36,showSubtitle:r=!0}=e;const n="#0D1B2A",s="#00ACC1",a="#00838F",i="#E91E63",o="#FF8A00",l="#FFFFFF",c=t+8;return(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},"aria-label":"YATRIK ERP",children:[(0,Ie.jsxs)("svg",{width:c,height:c,viewBox:"0 0 96 96",role:"img",focusable:"false","aria-hidden":"true",style:{display:"block"},children:[(0,Ie.jsxs)("defs",{children:[(0,Ie.jsxs)("linearGradient",{id:"tealGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:s}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:a})]}),(0,Ie.jsxs)("radialGradient",{id:"headlight",cx:"70%",cy:"58%",r:"30%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:o,stopOpacity:"1"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:o,stopOpacity:"0"})]})]}),(0,Ie.jsx)("circle",{cx:"48",cy:"48",r:"44",fill:"url(#tealGradient)"}),(0,Ie.jsx)("path",{d:"M12 66c18-10 36-12 72-4",stroke:l,strokeOpacity:"0.9",strokeWidth:"3.2",fill:"none",strokeLinecap:"round"}),(0,Ie.jsxs)("g",{transform:"translate(18,26)",children:[(0,Ie.jsx)("rect",{x:"0",y:"14",width:"60",height:"26",rx:"6",fill:l,opacity:"0.96"}),(0,Ie.jsx)("rect",{x:"6",y:"18",width:"36",height:"10",rx:"3",fill:"#CFD8DC"}),(0,Ie.jsx)("rect",{x:"44",y:"18",width:"8",height:"10",rx:"2",fill:"#CFD8DC"}),(0,Ie.jsx)("rect",{x:"4",y:"33",width:"52",height:"3.5",rx:"1.75",fill:i}),(0,Ie.jsx)("circle",{cx:"12",cy:"44",r:"4.8",fill:n}),(0,Ie.jsx)("circle",{cx:"48",cy:"44",r:"4.8",fill:n}),(0,Ie.jsx)("circle",{cx:"12",cy:"44",r:"2",fill:"#B0BEC5"}),(0,Ie.jsx)("circle",{cx:"48",cy:"44",r:"2",fill:"#B0BEC5"}),(0,Ie.jsx)("circle",{cx:"56",cy:"30",r:"10",fill:"url(#headlight)"}),(0,Ie.jsx)("circle",{cx:"56",cy:"30",r:"3",fill:o})]})]}),(0,Ie.jsxs)("div",{style:{display:"flex",alignItems:"baseline",gap:8,lineHeight:1},children:[(0,Ie.jsx)("span",{style:{fontWeight:900,fontSize:t,letterSpacing:"0.5px",color:n},children:"YATRIK"}),r&&(0,Ie.jsx)("span",{style:{display:"inline-block",background:i,color:l,padding:"4px 8px",borderRadius:999,fontWeight:800,fontSize:Math.max(12,Math.round(.45*t)),lineHeight:1,letterSpacing:"0.6px"},children:"ERP"})]})]})},Ml=e=>{let{isMobileMenuOpen:t,setIsMobileMenuOpen:r}=e;const[n,s]=(0,a.useState)(!1),{user:i}=Fe(),o=ne(),l=e=>{o(i?"/pax#".concat(e):"/login?next=/pax#".concat(e))},c=[{name:"Contact Us",slug:"contact"},{name:"Cancellation",slug:"cancellation"},{name:"Feedback",slug:"feedback"},{name:"Manage Booking",slug:"manage"},{name:"Gallery",href:"/gallery"},{name:"Status Check",slug:"status"}];return(0,Ie.jsx)("nav",{className:"bg-white/90 backdrop-blur border-b border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between gap-4 py-4",children:[(0,Ie.jsx)(De,{to:"/",className:"flex items-center hover:opacity-80 transition-opacity duration-200 shrink-0",children:(0,Ie.jsx)(Rl,{size:28})}),(0,Ie.jsx)("div",{className:"hidden md:flex items-center justify-center gap-6 flex-1",children:c.map(e=>e.slug?(0,Ie.jsx)("button",{onClick:()=>l(e.slug),className:"text-gray-800 hover:text-pink-600 transition-colors font-semibold text-base px-2 py-1 rounded-md hover:bg-gray-100",children:e.name},e.name):(0,Ie.jsx)(De,{to:e.href,className:"text-gray-800 hover:text-pink-600 transition-colors font-semibold text-base px-2 py-1 rounded-md hover:bg-gray-100",children:e.name},e.name))}),(0,Ie.jsxs)("div",{className:"hidden md:flex items-center gap-3 shrink-0",children:[(0,Ie.jsxs)(De,{to:"/login",className:"flex items-center space-x-2 border border-pink-500 text-pink-600 hover:bg-pink-50 transition-colors font-semibold text-base px-3 py-2 rounded-md",children:[(0,Ie.jsx)(Pl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Login"})]}),(0,Ie.jsx)(De,{to:"/signup",className:"signup-cta",children:"Sign Up"})]}),(0,Ie.jsx)("button",{onClick:()=>{s(!n)},className:"md:hidden p-2 rounded-md text-gray-700 hover:text-pink-600 hover:bg-gray-100 transition-colors",children:n?(0,Ie.jsx)(pt,{className:"w-6 h-6"}):(0,Ie.jsx)(xt,{className:"w-6 h-6"})})]}),n&&(0,Ie.jsx)("div",{className:"md:hidden py-4 border-t bg-gradient-to-b from-white/80 to-white",children:(0,Ie.jsxs)("div",{className:"flex flex-col space-y-4",children:[c.map(e=>e.slug?(0,Ie.jsx)("button",{onClick:()=>{l(e.slug),s(!1)},className:"text-gray-800 hover:text-pink-600 transition-colors font-medium text-base px-4 py-2 rounded-md hover:bg-gray-100 w-full text-left",children:e.name},e.name):(0,Ie.jsx)(De,{to:e.href,className:"text-gray-800 hover:text-pink-600 transition-colors font-medium text-base px-4 py-2 rounded-md hover:bg-gray-100",onClick:()=>s(!1),children:e.name},e.name)),(0,Ie.jsxs)("div",{className:"pt-4 border-t",children:[(0,Ie.jsxs)(De,{to:"/login",className:"flex items-center space-x-2 border border-pink-500 text-pink-600 hover:bg-pink-50 transition-colors font-semibold text-base px-4 py-2 rounded-md mb-2",onClick:()=>s(!1),children:[(0,Ie.jsx)(Pl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Login"})]}),(0,Ie.jsx)(De,{to:"/signup",className:"bg-pink-600 text-white px-4 py-2 rounded-lg hover:bg-pink-700 transition-colors font-semibold inline-block",onClick:()=>s(!1),children:"Sign Up"})]})]})})]})})},Ll=Qe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Il=Qe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Ol=Qe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Fl=Qe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Bl=()=>(0,Ie.jsx)("div",{className:"support-bar",children:(0,Ie.jsxs)("div",{className:"support-inner",children:[(0,Ie.jsxs)("div",{className:"support-left",children:[(0,Ie.jsxs)("div",{className:"support-item",children:[(0,Ie.jsx)(Dl,{className:"support-icon"}),(0,Ie.jsx)("span",{className:"support-text",children:"1800-123-4567"})]}),(0,Ie.jsxs)("div",{className:"support-item",children:[(0,Ie.jsx)(Tl,{className:"support-icon"}),(0,Ie.jsx)("span",{className:"support-text",children:"24/7 Support"})]})]}),(0,Ie.jsxs)("div",{className:"support-right",children:[(0,Ie.jsx)("a",{href:"#","aria-label":"Facebook",className:"support-link",children:(0,Ie.jsx)(Ll,{className:"support-icon"})}),(0,Ie.jsx)("a",{href:"#","aria-label":"Twitter",className:"support-link",children:(0,Ie.jsx)(Il,{className:"support-icon"})}),(0,Ie.jsx)("a",{href:"#","aria-label":"Instagram",className:"support-link",children:(0,Ie.jsx)(Ol,{className:"support-icon"})}),(0,Ie.jsx)("a",{href:"#","aria-label":"YouTube",className:"support-link",children:(0,Ie.jsx)(Fl,{className:"support-icon"})})]})]})}),zl=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ul=()=>(0,Ie.jsx)("section",{className:"app-banner",children:(0,Ie.jsx)("div",{className:"container",children:(0,Ie.jsxs)("div",{className:"app-banner__grid",children:[(0,Ie.jsxs)("div",{className:"app-banner__content",children:[(0,Ie.jsx)("h2",{className:"app-banner__title",children:"Get the YATRIK ERP App"}),(0,Ie.jsx)("p",{className:"app-banner__subtitle",children:"Book tickets, track buses, and manage your travel on the go with our mobile app."}),(0,Ie.jsxs)("div",{className:"app-banner__rating",children:[(0,Ie.jsx)("div",{className:"app-banner__stars",children:[...Array(5)].map((e,t)=>(0,Ie.jsx)(_l,{className:"star"},t))}),(0,Ie.jsx)("span",{className:"app-banner__rating-text",children:"4.8/5 from 10,000+ users"})]}),(0,Ie.jsxs)("div",{className:"app-banner__buttons",children:[(0,Ie.jsxs)("button",{className:"app-btn",children:[(0,Ie.jsx)(zl,{className:"w-5 h-5"}),(0,Ie.jsx)("span",{children:"App Store"})]}),(0,Ie.jsxs)("button",{className:"app-btn",children:[(0,Ie.jsx)(zl,{className:"w-5 h-5"}),(0,Ie.jsx)("span",{children:"Google Play"})]})]})]}),(0,Ie.jsx)("div",{className:"app-banner__mockup",children:(0,Ie.jsx)("div",{className:"phone-mockup",children:(0,Ie.jsxs)("div",{className:"phone-mockup__screen",children:[(0,Ie.jsx)(mt,{className:"phone-mockup__icon"}),(0,Ie.jsxs)("div",{className:"phone-mockup__content",children:[(0,Ie.jsx)("div",{className:"phone-mockup__logo",style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Ie.jsx)(Rl,{size:20})}),(0,Ie.jsx)("p",{className:"phone-mockup__label",children:"Smart Travel App"})]})]})})})]})})}),Vl=e=>{let{routes:t}=e;return(0,Ie.jsxs)("div",{className:"popular-routes",children:[(0,Ie.jsx)("h3",{className:"popular-routes__title",children:"Popular Routes"}),(0,Ie.jsx)("div",{className:"popular-routes__list",children:t.map((e,t)=>(0,Ie.jsxs)("div",{className:"route-card",children:[(0,Ie.jsxs)("div",{className:"route-card__content",children:[(0,Ie.jsx)("div",{className:"route-card__icon",children:(0,Ie.jsx)(Xe,{className:"w-5 h-5"})}),(0,Ie.jsxs)("div",{className:"route-card__info",children:[(0,Ie.jsxs)("div",{className:"route-card__route",children:[e.from," ",(0,Ie.jsx)(Pl,{className:"inline w-3 h-3 mx-1"})," ",e.to]}),(0,Ie.jsxs)("div",{className:"route-card__details",children:[(0,Ie.jsxs)("span",{className:"route-card__frequency",children:[(0,Ie.jsx)(Tl,{className:"w-3 h-3"}),e.frequency]}),(0,Ie.jsx)("span",{className:"route-card__fare",children:e.fare})]})]})]}),(0,Ie.jsx)("button",{className:"route-card__cta",children:"Book"})]},t))})]})},Gl=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Wl=Qe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Hl=Qe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ql=Qe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Kl=e=>{let{alerts:t}=e;const r=e=>{switch(e){case"info":return(0,Ie.jsx)(Gl,{className:"alert__icon alert__icon--info"});case"warning":return(0,Ie.jsx)(Wl,{className:"alert__icon alert__icon--warning"});case"success":return(0,Ie.jsx)(Hl,{className:"alert__icon alert__icon--success"});default:return(0,Ie.jsx)(ql,{className:"alert__icon alert__icon--default"})}};return(0,Ie.jsxs)("div",{className:"service-alerts",children:[(0,Ie.jsx)("h3",{className:"service-alerts__title",children:"Service Updates"}),(0,Ie.jsx)("div",{className:"service-alerts__list",children:t.map((e,t)=>(0,Ie.jsx)("div",{className:"alert alert--".concat(e.type),children:(0,Ie.jsxs)("div",{className:"alert__content",children:[r(e.type),(0,Ie.jsx)("p",{className:"alert__message",children:e.message})]})},t))})]})},Yl=Qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),$l=()=>{const[e,t]=(0,a.useState)("book"),[r,n]=(0,a.useState)("oneWay"),[s,i]=(0,a.useState)({from:"",to:"",journeyDate:"",returnDate:""});return(0,Ie.jsxs)("div",{className:"searchCard",children:[(0,Ie.jsxs)("div",{className:"tabs",children:[(0,Ie.jsxs)("button",{onClick:()=>t("book"),className:"tab ".concat("book"===e?"tab--active":""),children:[(0,Ie.jsx)(Xe,{className:"tab__icon"}),(0,Ie.jsx)("span",{className:"hide-sm",children:"Book Bus Ticket"}),(0,Ie.jsx)("span",{className:"show-sm",children:"Book"})]}),(0,Ie.jsxs)("button",{onClick:()=>t("link"),className:"tab ".concat("link"===e?"tab--active":""),children:[(0,Ie.jsx)(Yl,{className:"tab__icon"}),(0,Ie.jsx)("span",{className:"hide-sm",children:"Link Ticket"}),(0,Ie.jsx)("span",{className:"show-sm",children:"Link"})]})]}),(0,Ie.jsxs)("div",{className:"toggle",children:[(0,Ie.jsx)("button",{onClick:()=>n("oneWay"),className:"toggle__btn ".concat("oneWay"===r?"is-active":""),children:"One Way"}),(0,Ie.jsx)("button",{onClick:()=>n("roundTrip"),className:"toggle__btn ".concat("roundTrip"===r?"is-active":""),children:"Round Trip"})]}),(0,Ie.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Search submitted:",s)},className:"form",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"label",children:"From"}),(0,Ie.jsxs)("div",{className:"field",children:[(0,Ie.jsx)(Al,{className:"field__icon"}),(0,Ie.jsx)("input",{type:"text",value:s.from,onChange:e=>i(qe(qe({},s),{},{from:e.target.value})),placeholder:"Enter departure location",className:"input",required:!0})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"label",children:"To"}),(0,Ie.jsxs)("div",{className:"field",children:[(0,Ie.jsx)(Al,{className:"field__icon"}),(0,Ie.jsx)("input",{type:"text",value:s.to,onChange:e=>i(qe(qe({},s),{},{to:e.target.value})),placeholder:"Enter destination location",className:"input",required:!0})]})]}),(0,Ie.jsxs)("div",{className:"row-2",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"label",children:"Journey Date"}),(0,Ie.jsxs)("div",{className:"field",children:[(0,Ie.jsx)(nt,{className:"field__icon"}),(0,Ie.jsx)("input",{type:"date",value:s.journeyDate,onChange:e=>i(qe(qe({},s),{},{journeyDate:e.target.value})),min:(new Date).toISOString().split("T")[0],className:"input",required:!0})]})]}),"roundTrip"===r&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"label",children:"Return Date"}),(0,Ie.jsxs)("div",{className:"field",children:[(0,Ie.jsx)(nt,{className:"field__icon"}),(0,Ie.jsx)("input",{type:"date",value:s.returnDate,onChange:e=>i(qe(qe({},s),{},{returnDate:e.target.value})),min:s.journeyDate||(new Date).toISOString().split("T")[0],className:"input",required:!0})]})]})]}),(0,Ie.jsxs)("button",{type:"submit",className:"btnSearch",children:[(0,Ie.jsx)(gt,{className:"btnSearch__icon"}),"Search buses"]})]})]})},Ql=r.p+"static/media/hero-bus.7cb677ed76bcc5c368c8.png",Xl=()=>{const[e,t]=(0,a.useState)(!1),r=ne(),{user:n}=Fe();return(0,Ie.jsxs)("div",{className:"landing-root",children:[(0,Ie.jsx)(Bl,{}),(0,Ie.jsx)(Ml,{isMobileMenuOpen:e,setIsMobileMenuOpen:t}),(0,Ie.jsxs)("section",{className:"hero",children:[(0,Ie.jsx)("img",{src:Ql,alt:"",className:"hero__bus","aria-hidden":"true"}),(0,Ie.jsx)("div",{className:"hero__overlay"}),(0,Ie.jsx)("div",{className:"container hero__container",children:(0,Ie.jsxs)("div",{className:"hero__grid",children:[(0,Ie.jsxs)(El.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:"hero__left",children:[(0,Ie.jsxs)("h1",{className:"hero__title",children:["Travel Smart,",(0,Ie.jsx)("span",{children:"Travel Safe"})]}),(0,Ie.jsx)("p",{className:"hero__subtitle",children:"Book your bus tickets with YATRIK ERP. Experience comfortable, reliable, and affordable bus travel across India."}),(0,Ie.jsxs)("div",{className:"hero__ctas",children:[(0,Ie.jsxs)(El.button,{whileHover:{scale:1.03},whileTap:{scale:.98},onClick:()=>{if(console.log("handleBookNow called:",{user:n,hasUser:!!n}),!n)return console.log("No user, redirecting to login"),void r("/login?next=/pax");const e=(n.role||"passenger").toUpperCase();console.log("User role:",e),"PASSENGER"===e?(console.log("Redirecting to /pax"),r("/pax")):"ADMIN"===e?(console.log("Redirecting to /admin"),r("/admin")):"CONDUCTOR"===e?(console.log("Redirecting to /conductor"),r("/conductor")):"DRIVER"===e?(console.log("Redirecting to /driver"),r("/driver")):"DEPOT_MANAGER"===e?(console.log("Redirecting to /depot"),r("/depot")):(console.log("Redirecting to /dashboard"),r("/dashboard"))},className:"btn btn--accent",children:["Book Now ",(0,Ie.jsx)(Pl,{size:16})]}),(0,Ie.jsxs)(El.button,{whileHover:{scale:1.03},whileTap:{scale:.98},className:"btn btn--secondary",children:[(0,Ie.jsx)(Xe,{size:16})," Track Bus"]})]})]}),(0,Ie.jsx)(El.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},className:"hero__right",children:(0,Ie.jsx)($l,{})})]})})]}),(0,Ie.jsx)("section",{className:"section",children:(0,Ie.jsx)("div",{className:"container",children:(0,Ie.jsxs)("div",{className:"grid-3",children:[(0,Ie.jsx)("div",{className:"lg:col-span-2",children:(0,Ie.jsx)(Vl,{routes:[{from:"Mumbai",to:"Pune",frequency:"Every 30 mins",fare:"\u20b9200"},{from:"Delhi",to:"Agra",frequency:"Every 1 hour",fare:"\u20b9150"},{from:"Bangalore",to:"Mysore",frequency:"Every 45 mins",fare:"\u20b9180"},{from:"Chennai",to:"Pondicherry",frequency:"Every 2 hours",fare:"\u20b9120"},{from:"Hyderabad",to:"Warangal",frequency:"Every 1 hour",fare:"\u20b9100"}]})}),(0,Ie.jsx)("div",{children:(0,Ie.jsx)(Kl,{alerts:[{type:"info",message:"New routes added: Mumbai to Goa, Delhi to Jaipur"},{type:"warning",message:"Traffic delays expected on Mumbai-Pune route due to monsoon"},{type:"success",message:"All buses now equipped with free WiFi and charging ports"}]})})]})})}),(0,Ie.jsx)(Ul,{}),(0,Ie.jsx)("section",{className:"section section--muted",children:(0,Ie.jsxs)("div",{className:"container",children:[(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"section__intro",children:[(0,Ie.jsx)("h2",{className:"section__title",children:"Why Choose YATRIK ERP?"}),(0,Ie.jsx)("p",{className:"section__subtitle",children:"We're committed to providing the best bus travel experience with modern technology and excellent service."})]}),(0,Ie.jsx)("div",{className:"features",children:[{icon:(0,Ie.jsx)(Xe,{className:"feature__icon"}),title:"Wide Network",description:"Connect to 500+ cities across India with our extensive bus network."},{icon:(0,Ie.jsx)(Tl,{className:"feature__icon"}),title:"Real-time Updates",description:"Get live tracking, delays, and status updates for your journey."},{icon:(0,Ie.jsx)(_l,{className:"feature__icon"}),title:"Premium Service",description:"Enjoy comfortable seating, WiFi, and entertainment on premium routes."},{icon:(0,Ie.jsx)(Al,{className:"feature__icon"}),title:"Smart Routes",description:"AI-powered route optimization for faster and efficient travel."}].map((e,t)=>(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1*t},viewport:{once:!0},className:"feature",children:[(0,Ie.jsx)("div",{className:"feature__iconWrap",children:e.icon}),(0,Ie.jsx)("h3",{className:"feature__title",children:e.title}),(0,Ie.jsx)("p",{className:"feature__desc",children:e.description})]},t))})]})}),(0,Ie.jsx)("footer",{className:"footer",children:(0,Ie.jsxs)("div",{className:"container",children:[(0,Ie.jsxs)("div",{className:"footer__grid",children:[(0,Ie.jsxs)("div",{className:"footer__brand",children:[(0,Ie.jsx)("h3",{children:"YATRIK ERP"}),(0,Ie.jsx)("p",{children:"Your trusted partner for safe, comfortable, and affordable bus travel across India. Experience the future of transportation with our smart booking system."}),(0,Ie.jsx)("div",{className:"footer__socials",children:[{icon:"Facebook",href:"#"},{icon:"Twitter",href:"#"},{icon:"Instagram",href:"#"},{icon:"YouTube",href:"#"}].map((e,t)=>(0,Ie.jsx)("a",{href:e.href,className:"social","aria-label":e.icon,children:(0,Ie.jsx)("span",{children:e.icon[0]})},t))})]}),(0,Ie.jsxs)("div",{className:"footer__col",children:[(0,Ie.jsx)("h4",{children:"Quick Links"}),(0,Ie.jsx)("ul",{children:["About Us","Contact","Terms & Conditions","Privacy Policy","FAQ"].map((e,t)=>(0,Ie.jsx)("li",{children:(0,Ie.jsx)("a",{href:"#",children:e})},t))})]}),(0,Ie.jsxs)("div",{className:"footer__col",children:[(0,Ie.jsx)("h4",{children:"Support"}),(0,Ie.jsxs)("ul",{children:[(0,Ie.jsxs)("li",{className:"footer__support",children:[(0,Ie.jsx)(Dl,{size:12}),(0,Ie.jsx)("span",{children:"1800-123-4567"})]}),(0,Ie.jsx)("li",{children:"support@yatrikerp.com"}),(0,Ie.jsx)("li",{children:"24/7 Customer Support"})]})]})]}),(0,Ie.jsx)("div",{className:"footer__bottom",children:"\xa9 2024 YATRIK ERP. All rights reserved."})]})})]})},Jl=()=>{const e=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[n,s]=(0,a.useState)(0),[i,o]=(0,a.useState)(0),[l,c]=(0,a.useState)(0);return(0,a.useEffect)(()=>{const e=setInterval(()=>{r(e=>(e+1)%200),s(e=>(e+4)%360),o(e=>(e+2)%100),c(e=>(e+3)%100)},100);return()=>clearInterval(e)},[]),(0,Ie.jsx)(El.div,{className:"left-panel",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:(0,Ie.jsxs)(El.svg,{ref:e,width:"100%",height:"100%",viewBox:"0 0 1000 700",className:"hero-illustration",shapeRendering:"geometricPrecision",textRendering:"optimizeLegibility",role:"img","aria-label":"Professional ERP transport system with live tracking and modern branding",children:[(0,Ie.jsxs)("defs",{children:[(0,Ie.jsxs)("linearGradient",{id:"erpPinkGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#E91E63"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#C2185B"})]}),(0,Ie.jsxs)("linearGradient",{id:"erpDarkGreyGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#333333"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#212121"})]}),(0,Ie.jsxs)("linearGradient",{id:"skylineGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#F8F9FA"})]}),(0,Ie.jsxs)("linearGradient",{id:"distantSkylineGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#F1F3F4"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#E8EAED"})]}),(0,Ie.jsxs)("linearGradient",{id:"smartRoadGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#424242"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#2D2D2D"})]}),(0,Ie.jsxs)("linearGradient",{id:"busBodyGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#F8F9FA"})]}),(0,Ie.jsxs)("linearGradient",{id:"busAccentGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#E91E63"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#C2185B"})]}),(0,Ie.jsxs)("linearGradient",{id:"premiumGlassGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,Ie.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,Ie.jsx)("stop",{offset:"100%",stopColor:"#E3F2FD"})]}),(0,Ie.jsxs)("filter",{id:"routeGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,Ie.jsx)("feGaussianBlur",{stdDeviation:"3",result:"blur"}),(0,Ie.jsx)("feFlood",{floodColor:"#E91E63",floodOpacity:"0.4"}),(0,Ie.jsx)("feComposite",{in2:"blur",operator:"in"}),(0,Ie.jsxs)("feMerge",{children:[(0,Ie.jsx)("feMergeNode",{in:"blur"}),(0,Ie.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,Ie.jsxs)("filter",{id:"mapIconGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,Ie.jsx)("feGaussianBlur",{stdDeviation:"2",result:"blur"}),(0,Ie.jsx)("feFlood",{floodColor:"#E91E63",floodOpacity:"0.3"}),(0,Ie.jsx)("feComposite",{in2:"blur",operator:"in"}),(0,Ie.jsxs)("feMerge",{children:[(0,Ie.jsx)("feMergeNode",{in:"blur"}),(0,Ie.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,Ie.jsxs)("filter",{id:"premiumShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,Ie.jsx)("feGaussianBlur",{stdDeviation:"4",result:"blur"}),(0,Ie.jsx)("feOffset",{in:"blur",dx:"0",dy:"3"}),(0,Ie.jsx)("feFlood",{floodColor:"#000000",floodOpacity:"0.08"}),(0,Ie.jsx)("feComposite",{in2:"blur",operator:"in"}),(0,Ie.jsxs)("feMerge",{children:[(0,Ie.jsx)("feMergeNode",{}),(0,Ie.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,Ie.jsxs)("filter",{id:"floatingShadow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,Ie.jsx)("feGaussianBlur",{stdDeviation:"6",result:"blur"}),(0,Ie.jsx)("feOffset",{in:"blur",dx:"0",dy:"4"}),(0,Ie.jsx)("feFlood",{floodColor:"#000000",floodOpacity:"0.15"}),(0,Ie.jsx)("feComposite",{in2:"blur",operator:"in"}),(0,Ie.jsxs)("feMerge",{children:[(0,Ie.jsx)("feMergeNode",{}),(0,Ie.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,Ie.jsx)("rect",{width:"100%",height:"100%",fill:"url(#skylineGradient)"}),(0,Ie.jsxs)("g",{className:"distant-skyline",filter:"url(#premiumShadow)",children:[(0,Ie.jsx)("rect",{x:"50",y:"250",width:"60",height:"200",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"150",y:"220",width:"70",height:"230",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"250",y:"240",width:"65",height:"210",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"350",y:"260",width:"75",height:"190",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"500",y:"230",width:"80",height:"220",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"650",y:"250",width:"70",height:"200",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"750",y:"240",width:"75",height:"210",fill:"url(#distantSkylineGradient)",opacity:"0.6"}),(0,Ie.jsx)("rect",{x:"850",y:"260",width:"65",height:"190",fill:"url(#distantSkylineGradient)",opacity:"0.6"})]}),(0,Ie.jsxs)("g",{className:"foreground-skyline",filter:"url(#premiumShadow)",children:[(0,Ie.jsx)("rect",{x:"80",y:"200",width:"70",height:"250",fill:"url(#skylineGradient)"}),(0,Ie.jsx)("rect",{x:"85",y:"205",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"106",y:"205",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"127",y:"205",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"85",y:"226",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"106",y:"226",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"127",y:"226",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"200",y:"180",width:"85",height:"270",fill:"url(#skylineGradient)"}),(0,Ie.jsx)("rect",{x:"210",y:"185",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"233",y:"185",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"256",y:"185",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"279",y:"185",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"210",y:"208",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"233",y:"208",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"256",y:"208",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"279",y:"208",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"340",y:"220",width:"80",height:"230",fill:"url(#skylineGradient)"}),(0,Ie.jsx)("rect",{x:"350",y:"225",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"373",y:"225",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"396",y:"225",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"350",y:"248",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"373",y:"248",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"396",y:"248",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"470",y:"240",width:"75",height:"210",fill:"url(#skylineGradient)"}),(0,Ie.jsx)("rect",{x:"480",y:"245",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"503",y:"245",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"480",y:"268",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"503",y:"268",width:"18",height:"18",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"600",y:"260",width:"70",height:"190",fill:"url(#skylineGradient)"}),(0,Ie.jsx)("rect",{x:"610",y:"265",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"631",y:"265",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"652",y:"265",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"610",y:"286",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"631",y:"286",width:"16",height:"16",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsx)("rect",{x:"652",y:"286",width:"16",height:"16",fill:"url(#premiumGlassGradient)"})]}),(0,Ie.jsxs)("g",{className:"smart-roadway",children:[(0,Ie.jsx)("rect",{x:"200",y:"500",width:"600",height:"100",fill:"url(#smartRoadGradient)"}),(0,Ie.jsx)("path",{d:"M200 530 L800 530",stroke:"url(#erpPinkGradient)",strokeWidth:"4",strokeDasharray:"40,30",opacity:"0.8",filter:"url(#routeGlow)"}),(0,Ie.jsx)("path",{d:"M200 570 L800 570",stroke:"url(#erpPinkGradient)",strokeWidth:"4",strokeDasharray:"40,30",opacity:"0.8",filter:"url(#routeGlow)"}),(0,Ie.jsx)("rect",{x:"200",y:"548",width:"600",height:"4",fill:"url(#erpPinkGradient)",opacity:"0.9"}),(0,Ie.jsx)("path",{d:"M200 510 L800 510",stroke:"#FFFFFF",strokeWidth:"3",opacity:"0.8"}),(0,Ie.jsx)("path",{d:"M200 590 L800 590",stroke:"#FFFFFF",strokeWidth:"3",opacity:"0.8"})]}),(0,Ie.jsxs)("g",{className:"map-routes",filter:"url(#routeGlow)",children:[(0,Ie.jsx)("path",{d:"M150 400 L850 400",stroke:"url(#erpPinkGradient)",strokeWidth:"3",strokeDasharray:"15,10",opacity:"0.7"}),(0,Ie.jsx)("path",{d:"M500 200 L500 450",stroke:"url(#erpPinkGradient)",strokeWidth:"3",strokeDasharray:"15,10",opacity:"0.7"}),(0,Ie.jsx)("path",{d:"M200 300 L800 500",stroke:"url(#erpPinkGradient)",strokeWidth:"2",strokeDasharray:"10,8",opacity:"0.6"}),(0,Ie.jsx)("circle",{cx:150+7*i,cy:"400",r:"4",fill:"url(#erpPinkGradient)",opacity:"0.8"}),(0,Ie.jsx)("circle",{cx:"500",cy:200+2.5*i,r:"4",fill:"url(#erpPinkGradient)",opacity:"0.8"}),(0,Ie.jsx)("circle",{cx:200+6*i,cy:300+2*i,r:"3",fill:"url(#erpPinkGradient)",opacity:"0.7"})]}),(0,Ie.jsxs)("g",{className:"map-icons",filter:"url(#mapIconGlow)",children:[(0,Ie.jsxs)("g",{transform:"translate(150, 400)",children:[(0,Ie.jsx)("rect",{x:"-8",y:"-8",width:"16",height:"16",rx:"3",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"0",y:"2",textAnchor:"middle",fill:"#FFFFFF",fontSize:"10",fontWeight:"600",children:"\ud83c\udd7f"})]}),(0,Ie.jsxs)("g",{transform:"translate(500, 200)",children:[(0,Ie.jsx)("rect",{x:"-8",y:"-8",width:"16",height:"16",rx:"3",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"0",y:"2",textAnchor:"middle",fill:"#FFFFFF",fontSize:"10",fontWeight:"600",children:"\ud83d\ude8c"})]}),(0,Ie.jsxs)("g",{transform:"translate(800, 500)",children:[(0,Ie.jsx)("rect",{x:"-8",y:"-8",width:"16",height:"16",rx:"3",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"0",y:"2",textAnchor:"middle",fill:"#FFFFFF",fontSize:"10",fontWeight:"600",children:"\ud83c\udfaf"})]})]}),(0,Ie.jsxs)("g",{className:"modern-bus",transform:"translate(".concat(480+t,", 0)"),filter:"url(#premiumShadow)",children:[(0,Ie.jsx)("rect",{x:"0",y:"440",width:"120",height:"55",rx:"12",fill:"url(#busBodyGradient)",stroke:"url(#erpDarkGreyGradient)",strokeWidth:"2"}),(0,Ie.jsx)("rect",{x:"2",y:"425",width:"116",height:"8",rx:"4",fill:"url(#busAccentGradient)"}),(0,Ie.jsx)("rect",{x:"2",y:"440",width:"25",height:"35",rx:"6",fill:"url(#premiumGlassGradient)",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5"}),(0,Ie.jsx)("rect",{x:"30",y:"445",width:"18",height:"25",rx:"4",fill:"url(#premiumGlassGradient)",stroke:"url(#erpPinkGradient)",strokeWidth:"1"}),(0,Ie.jsx)("rect",{x:"52",y:"445",width:"18",height:"25",rx:"4",fill:"url(#premiumGlassGradient)",stroke:"url(#erpPinkGradient)",strokeWidth:"1"}),(0,Ie.jsx)("rect",{x:"74",y:"445",width:"18",height:"25",rx:"4",fill:"url(#premiumGlassGradient)",stroke:"url(#erpPinkGradient)",strokeWidth:"1"}),(0,Ie.jsx)("rect",{x:"96",y:"445",width:"18",height:"25",rx:"4",fill:"url(#premiumGlassGradient)",stroke:"url(#erpPinkGradient)",strokeWidth:"1"}),(0,Ie.jsx)("rect",{x:"65",y:"460",width:"16",height:"30",rx:"5",fill:"url(#busAccentGradient)",stroke:"url(#erpDarkGreyGradient)",strokeWidth:"1"}),(0,Ie.jsx)("rect",{x:"68",y:"465",width:"10",height:"20",fill:"url(#premiumGlassGradient)"}),(0,Ie.jsxs)("g",{className:"floating-wheels",filter:"url(#floatingShadow)",children:[(0,Ie.jsxs)("g",{transform:"rotate(".concat(n," 30 495)"),children:[(0,Ie.jsx)("circle",{cx:"30",cy:"495",r:"15",fill:"url(#erpDarkGreyGradient)",stroke:"#424242",strokeWidth:"2"}),(0,Ie.jsx)("circle",{cx:"30",cy:"495",r:"10",fill:"#424242"}),(0,Ie.jsx)("circle",{cx:"30",cy:"495",r:"6",fill:"#9E9E9E"}),(0,Ie.jsx)("line",{x1:"30",y1:"495",x2:"45",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"30",y1:"495",x2:"45",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(90 30 495)",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"30",y1:"495",x2:"45",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(180 30 495)",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"30",y1:"495",x2:"45",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(270 30 495)",opacity:"0.8"})]}),(0,Ie.jsxs)("g",{transform:"rotate(".concat(n," 90 495)"),children:[(0,Ie.jsx)("circle",{cx:"90",cy:"495",r:"15",fill:"url(#erpDarkGreyGradient)",stroke:"#424242",strokeWidth:"2"}),(0,Ie.jsx)("circle",{cx:"90",cy:"495",r:"10",fill:"#424242"}),(0,Ie.jsx)("circle",{cx:"90",cy:"495",r:"6",fill:"#9E9E9E"}),(0,Ie.jsx)("line",{x1:"90",y1:"495",x2:"105",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"90",y1:"495",x2:"105",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(90 90 495)",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"90",y1:"495",x2:"105",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(180 90 495)",opacity:"0.8"}),(0,Ie.jsx)("line",{x1:"90",y1:"495",x2:"105",y2:"495",stroke:"url(#erpPinkGradient)",strokeWidth:"1.5",strokeLinecap:"round",transform:"rotate(270 90 495)",opacity:"0.8"})]})]}),(0,Ie.jsx)("circle",{cx:"15",cy:"450",r:"3",fill:"#FFFFFF"}),(0,Ie.jsx)("circle",{cx:"15",cy:"460",r:"3",fill:"#FFFFFF"}),(0,Ie.jsx)("circle",{cx:"15",cy:"455",r:"2.5",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("rect",{x:"25",y:"470",width:"70",height:"15",rx:"7.5",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"60",y:"480",textAnchor:"middle",fill:"#FFFFFF",fontSize:"9",fontWeight:"700",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",letterSpacing:"0.5",children:"YATRIK"}),(0,Ie.jsx)("rect",{x:"105",y:"475",width:"14",height:"10",rx:"5",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"112",y:"482",textAnchor:"middle",fill:"#FFFFFF",fontSize:"6",fontWeight:"600",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",children:"ERP"})]}),(0,Ie.jsxs)("g",{className:"branding-circle",filter:"url(#premiumShadow)",children:[(0,Ie.jsx)("circle",{cx:"500",cy:"150",r:"80",fill:"rgba(255,255,255,0.1)",stroke:"url(#erpPinkGradient)",strokeWidth:"3",opacity:"0.8"}),(0,Ie.jsxs)("g",{className:"orbital-routes",filter:"url(#routeGlow)",children:[(0,Ie.jsx)("path",{d:"M420 150 A80 80 0 0 1 580 150",stroke:"url(#erpPinkGradient)",strokeWidth:"2",strokeDasharray:"10,8",opacity:"0.6"}),(0,Ie.jsx)("path",{d:"M500 70 A80 80 0 0 1 500 230",stroke:"url(#erpPinkGradient)",strokeWidth:"2",strokeDasharray:"10,8",opacity:"0.6"}),(0,Ie.jsx)("path",{d:"M440 100 A80 80 0 0 1 560 200",stroke:"url(#erpPinkGradient)",strokeWidth:"2",strokeDasharray:"10,8",opacity:"0.5"}),(0,Ie.jsx)("path",{d:"M560 100 A80 80 0 0 1 440 200",stroke:"url(#erpPinkGradient)",strokeWidth:"2",strokeDasharray:"10,8",opacity:"0.5"})]}),(0,Ie.jsx)("text",{x:"500",y:"160",textAnchor:"middle",fill:"url(#erpPinkGradient)",fontSize:"72",fontWeight:"800",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",filter:"url(#mapIconGlow)",children:"Y"})]}),(0,Ie.jsxs)("g",{className:"erp-title",filter:"url(#premiumShadow)",children:[(0,Ie.jsx)("text",{x:"500",y:"280",textAnchor:"middle",fill:"url(#erpDarkGreyGradient)",fontSize:"48",fontWeight:"800",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",letterSpacing:"-0.02em",children:"YATRIK"}),(0,Ie.jsxs)("g",{transform:"translate(500, 300)",children:[(0,Ie.jsx)("rect",{width:"90",height:"36",rx:"18",fill:"url(#erpPinkGradient)"}),(0,Ie.jsx)("text",{x:"45",y:"24",textAnchor:"middle",fill:"#FFFFFF",fontSize:"18",fontWeight:"700",fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",letterSpacing:"0.5",children:"ERP"})]})]}),(0,Ie.jsx)("ellipse",{cx:500+t,cy:"610",rx:"75",ry:"15",fill:"#000000",opacity:"0.08",filter:"url(#floatingShadow)"})]})})},Zl=e=>{let{title:t,subtitle:r,children:n}=e;return(0,Ie.jsxs)("div",{className:"auth-page",children:[(0,Ie.jsx)("div",{className:"auth-col auth-left",children:(0,Ie.jsx)(Jl,{})}),(0,Ie.jsx)("div",{className:"auth-divider","aria-hidden":"true"}),(0,Ie.jsx)("div",{className:"auth-col auth-right",children:(0,Ie.jsxs)("div",{className:"auth-form-wrap",children:[(0,Ie.jsxs)("div",{className:"auth-header",children:[(0,Ie.jsx)(De,{to:"/",className:"auth-brand",children:"YATRIK ERP"}),(0,Ie.jsxs)("div",{className:"auth-title",children:[(0,Ie.jsx)("h1",{children:t}),r&&(0,Ie.jsx)("p",{children:r})]})]}),(0,Ie.jsx)("div",{className:"auth-card",children:n})]})}),(0,Ie.jsx)("style",{children:"\n        /* Full-page layout */\n        .auth-page {\n          min-height: 100vh;\n          display: flex;\n          flex-direction: row;\n          background: linear-gradient(160deg, #eef6ff 0%, #ffffff 100%);\n          overflow: hidden;\n        }\n\n        .auth-col {\n          flex: 1 1 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .auth-left { padding: 2rem 1rem; }\n\n        .auth-right { padding: 2rem 1rem; }\n\n        .auth-divider {\n          width: 1px;\n          background: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,0.06) 15%, rgba(0,0,0,0.08) 50%, rgba(0,0,0,0.06) 85%, rgba(0,0,0,0) 100%);\n          box-shadow: 0 0 24px rgba(0,0,0,0.05);\n        }\n\n        .auth-form-wrap {\n          width: 100%;\n          max-width: 420px;\n        }\n\n        .auth-header { margin-bottom: 1rem; text-align: left; }\n\n        .auth-brand {\n          display: inline-block;\n          font-weight: 800;\n          letter-spacing: 0.5px;\n          color: #ff3366;\n          text-decoration: none;\n          margin-bottom: 0.5rem;\n        }\n\n        .auth-title h1 {\n          margin: 0 0 0.25rem 0;\n          font-size: 1.75rem;\n          line-height: 1.2;\n          color: #0f172a;\n        }\n\n        .auth-title p {\n          margin: 0;\n          color: #475569;\n          font-size: 0.95rem;\n        }\n\n        .auth-card {\n          background: #ffffff;\n          border-radius: 16px;\n          box-shadow: 0 10px 30px rgba(2, 6, 23, 0.06);\n          padding: 1.25rem;\n        }\n\n        /* Responsiveness */\n        @media (max-width: 1024px) {\n          .auth-form-wrap { max-width: 400px; }\n        }\n\n        @media (max-width: 768px) {\n          .auth-page { flex-direction: column; }\n          .auth-divider { height: 1px; width: 100%; }\n          .auth-left { padding-bottom: 0.5rem; }\n          .auth-right { padding-top: 0.5rem; }\n        }\n\n        .login-hero-circle {\n          width: clamp(280px, 60vw, 560px);\n          height: clamp(280px, 60vw, 560px);\n          position: relative;\n        }\n        \n        .login-circle-bg {\n          width: 100%;\n          height: 100%;\n          border-radius: 50%;\n          background: linear-gradient(135deg, rgba(255, 51, 102, 0.1) 0%, rgba(225, 29, 72, 0.05) 100%);\n          backdrop-filter: blur(20px);\n          border: 1px solid rgba(255, 255, 255, 0.14);\n          box-shadow: \n            0 25px 50px -12px rgba(0, 0, 0, 0.25),\n            0 0 0 1px rgba(255, 255, 255, 0.1),\n            inset 0 1px 0 rgba(255, 255, 255, 0.2);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          position: relative;\n          overflow: hidden;\n        }\n        \n        .login-route-svg {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          z-index: 1;\n        }\n        \n        .route-line {\n          stroke: #22C55E;\n          stroke-width: clamp(2px, 0.4vw, 3px);\n          fill: none;\n          stroke-linecap: round;\n          stroke-dasharray: 8 10;\n          animation: routeDash 7s linear infinite;\n        }\n        \n        .route-line--h,\n        .route-line--v {\n          stroke: url(#routeGradient);\n          stroke-width: clamp(3px, 0.6vw, 4px);\n          fill: none;\n          stroke-linecap: round;\n          stroke-dasharray: 12 16;\n          animation: routeDash 7s linear infinite;\n          filter: drop-shadow(0 2px 4px rgba(34, 197, 94, 0.2));\n        }\n        \n        /* Responsive stroke width adjustments */\n        @media (max-width: 1023px) {\n          .route-line--h,\n          .route-line--v {\n            stroke-width: clamp(3px, 0.8vw, 4px);\n          }\n        }\n        \n        @media (max-width: 639px) {\n          .route-line--h,\n          .route-line--v {\n            stroke-width: clamp(3px, 1vw, 4px);\n          }\n        }\n        \n        .route-line--h { stroke-dashoffset: 0; }\n        .route-line--v { stroke-dashoffset: 0; }\n        \n        .route-pin { /* No animation for pins */ }\n        .route-marker { will-change: transform; }\n        \n        /* Responsive pin and marker sizing */\n        @media (max-width: 1023px) {\n          .route-pin circle { r: clamp(6px, 1.2vw, 8px); }\n          .route-pin circle:last-child { r: clamp(3px, 0.6vw, 4px); }\n          .route-marker circle { r: clamp(3px, 0.6vw, 4px); }\n        }\n        @media (max-width: 639px) {\n          .route-pin circle { r: clamp(5px, 1.5vw, 7px); }\n          .route-pin circle:last-child { r: clamp(2.5px, 0.75vw, 3.5px); }\n          .route-marker circle { r: clamp(2.5px, 0.75vw, 3.5px); }\n        }\n        \n        .route-marker--h1 { transform-origin: 120px 300px; }\n        .route-marker--h2 { transform-origin: 480px 300px; }\n        .route-marker--v1 { transform-origin: 300px 120px; }\n        .route-marker--v2 { transform-origin: 300px 480px; }\n        \n        /* Animations */\n        @keyframes routeDash { to { stroke-dashoffset: -18; } }\n        .animated-icon { will-change: transform; animation: iconFloat 4s ease-in-out infinite; filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1)); }\n        .icon-bus-center { animation: busCenterFloat 4s ease-in-out infinite; filter: drop-shadow(0 8px 16px rgba(34, 197, 94, 0.3)); will-change: transform; }\n        .icon-bus-center:hover { filter: drop-shadow(0 12px 24px rgba(34, 197, 94, 0.5)); transform: scale(1.05); transition: all 0.4s ease; }\n        @keyframes busCenterFloat { 0%, 100% { transform: translateY(0px) scale(1); opacity: 0.95; } 50% { transform: translateY(-6px) scale(1.02); opacity: 1; } }\n        \n        /* Motion Preferences */\n        @media (prefers-reduced-motion: reduce) {\n          .route-line, .route-pin, .route-marker, .animated-icon, .icon-bus-center { animation: none !important; transform: none !important; }\n        }\n        \n        /* Header Responsive Styling */\n        @media (max-width: 768px) {\n          header .flex { flex-direction: column; gap: 1rem; text-align: center; }\n          header .space-x-6 { gap: 1rem; }\n        }\n      "})]})};var ec={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tc=a.createContext&&a.createContext(ec),rc=function(){return rc=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},rc.apply(this,arguments)},nc=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};function sc(e){return e&&e.map(function(e,t){return a.createElement(e.tag,rc({key:t},e.attr),sc(e.child))})}function ac(e){return function(t){return a.createElement(ic,rc({attr:rc({},e.attr)},t),sc(e.child))}}function ic(e){var t=function(t){var r,n=e.attr,s=e.size,i=e.title,o=nc(e,["attr","size","title"]),l=s||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",rc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,n,o,{className:r,style:rc(rc({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==tc?a.createElement(tc.Consumer,null,function(e){return t(e)}):t(ec)}function oc(e){return ac({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}const lc=e=>{let{id:t,label:r,type:n="text",value:s,onChange:a,autoComplete:i,icon:o=null,required:l=!0,placeholder:c,className:d=""}=e;return(0,Ie.jsxs)("div",{className:d,children:[r&&(0,Ie.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:r}),(0,Ie.jsxs)("div",{className:"relative",children:[o&&(0,Ie.jsx)("span",{className:"pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400",children:o}),(0,Ie.jsx)("input",{id:t,name:t,type:n,autoComplete:i,required:l,value:s,onChange:a,placeholder:c,className:"appearance-none block w-full ".concat(o?"pl-10":"pl-3"," pr-3 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm transition-colors")})]})]})},cc=e=>{let{id:t="password",label:r="Password",value:n,onChange:s,autoComplete:i="current-password",required:o=!0,placeholder:l,className:c=""}=e;const[d,u]=(0,a.useState)(!1);return(0,Ie.jsxs)("div",{className:c,children:[r&&(0,Ie.jsx)("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-2",children:r}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("input",{id:t,name:t,type:d?"text":"password",autoComplete:i,required:o,value:n,onChange:s,placeholder:l,className:"appearance-none block w-full pl-3 pr-10 py-3 border border-gray-300 rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm transition-colors"}),(0,Ie.jsx)("button",{type:"button",onClick:()=>u(e=>!e),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors","aria-label":d?"Hide password":"Show password",children:d?(0,Ie.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,Ie.jsx)("path",{d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.83-1.83A10.284 10.284 0 0019 10s-3-7-9-7a9.955 9.955 0 00-5.393 1.61L3.707 2.293z"}),(0,Ie.jsx)("path",{d:"M6.576 5.162A8.012 8.012 0 0110 4c4 0 6.882 3.182 7.71 5-.251.477-.642 1.111-1.177 1.79l-2.4-2.4A3 3 0 009.61 6.157l-3.034-2.995z"}),(0,Ie.jsx)("path",{d:"M13.132 14.27l-1.64-1.64a3 3 0 01-4.122-4.122L5.1 5.34A10.28 10.28 0 001 10s3 7 9 7a9.957 9.957 0 004.132-.73z"})]}):(0,Ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Ie.jsx)("path",{d:"M10 3c-6 0-9 7-9 7s3 7 9 7 9-7 9-7-3-7-9-7zm0 12a5 5 0 110-10 5 5 0 010 10z"})})})]})]})},dc=e=>{let{href:t,provider:r="google",icon:n,children:s,ariaLabel:i,onClick:o,className:l="",disabled:c=!1}=e;const[d,u]=(0,a.useState)(!1),h="w-full inline-flex items-center justify-center gap-3 py-3 px-5 rounded-full border border-gray-300 bg-white text-sm font-semibold text-gray-700 hover:bg-gray-50 transition-all duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-300 oauth-button disabled:opacity-50 disabled:cursor-not-allowed",m="google"===r?(0,Ie.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,Ie.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,Ie.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,Ie.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,Ie.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}):n,p=async e=>{if(!c&&!d)if(u(!0),o)try{await o(e)}finally{u(!1)}else t&&setTimeout(()=>{window.location.href=t},100)};return o?(0,Ie.jsxs)("button",{onClick:p,"aria-label":i,className:"".concat(h," ").concat(l),disabled:c||d,children:[d?(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600"}):m,(0,Ie.jsx)("span",{children:d?"Processing...":s})]}):(0,Ie.jsxs)("a",{href:t,"aria-label":i,className:"".concat(h," ").concat(l),onClick:p,children:[d?(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-gray-600"}):m,(0,Ie.jsx)("span",{children:d?"Processing...":s})]})},uc=new Map,hc=3e5;async function mc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=localStorage.getItem("token"),n="".concat(t.method||"GET",":").concat(e,":").concat(JSON.stringify(t.body||{}));if("GET"===t.method||!t.method){const e=uc.get(n);if(e&&Date.now()-e.timestamp<hc)return e.data}const s=new Headers(t.headers||{});s.has("Content-Type")||!t.body||t.body instanceof FormData||s.set("Content-Type","application/json"),r&&s.set("Authorization","Bearer ".concat(r)),s.set("X-Requested-With","XMLHttpRequest");try{const r=new AbortController,a=setTimeout(()=>r.abort(),1e4),i=await fetch("http://localhost:5000"+e,qe(qe({},t),{},{headers:s,signal:r.signal}));clearTimeout(a);let o=null;try{o=await i.json()}catch(cd){}if(!i.ok){const e=o&&(o.message||o.error)||i.statusText;return{ok:!1,status:i.status,message:e,data:o}}const l={ok:!0,status:i.status,data:o};return"GET"!==t.method&&t.method||uc.set(n,{data:l,timestamp:Date.now()}),l}catch(a){return"AbortError"===a.name?{ok:!1,status:408,message:"Request timeout",data:null}:{ok:!1,status:0,message:"Network error",data:null}}}function pc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}setInterval(function(){const e=Date.now();for(const[t,r]of uc.entries())e-r.timestamp>hc&&uc.delete(t)},6e4);let fc={data:""},xc=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||fc,gc=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yc=/\/\*[^]*?\*\/|  +/g,vc=/\n+/g,bc=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+i+";":n+="f"==a[1]?bc(i,a):a+"{"+bc(i,"k"==a[1]?"":t)+"}":"object"==typeof i?n+=bc(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=bc.p?bc.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},jc={},wc=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+wc(e[r]);return t}return e},Nc=(e,t,r,n,s)=>{let a=wc(e),i=jc[a]||(jc[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!jc[i]){let t=a!==e?e:(e=>{let t,r,n=[{}];for(;t=gc.exec(e.replace(yc,""));)t[4]?n.shift():t[3]?(r=t[3].replace(vc," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(vc," ").trim();return n[0]})(e);jc[i]=bc(s?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&jc.g?jc.g:null;return r&&(jc.g=jc[i]),((e,t,r,n)=>{n?t.data=t.data.replace(n,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(jc[i],t,n,o),i};function kc(e){let t=this||{},r=e.call?e(t.p):e;return Nc(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,s)=>{let a=t[s];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":bc(e,""):!1===e?"":e}return e+n+(null==a?"":a)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,xc(t.target),t.g,t.o,t.k)}kc.bind({g:1});let Sc,Cc,Ec,Pc=kc.bind({k:1});function Tc(e,t){let r=this||{};return function(){let n=arguments;function s(a,i){let o=Object.assign({},a),l=o.className||s.className;r.p=Object.assign({theme:Cc&&Cc()},o),r.o=/ *go\d+/.test(l),o.className=kc.apply(r,n)+(l?" "+l:""),t&&(o.ref=i);let c=e;return e[0]&&(c=o.as||e,delete o.as),Ec&&c[0]&&Ec(o),Sc(c,o)}return t?t(s):s}}var _c,Ac,Dc,Rc,Mc,Lc,Ic,Oc,Fc,Bc,zc,Uc,Vc,Gc,Wc,Hc,qc=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Kc=(()=>{let e=0;return()=>(++e).toString()})(),Yc=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),$c=(e,t)=>{switch(t.type){case 0:return qe(qe({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?qe(qe({},e),t.toast):e)});case 2:let{toast:r}=t;return $c(e,{type:e.toasts.find(e=>e.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return qe(qe({},e),{},{toasts:e.toasts.map(e=>e.id===n||void 0===n?qe(qe({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?qe(qe({},e),{},{toasts:[]}):qe(qe({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return qe(qe({},e),{},{pausedAt:t.time});case 6:let s=t.time-(e.pausedAt||0);return qe(qe({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>qe(qe({},e),{},{pauseDuration:e.pauseDuration+s}))})}},Qc=[],Xc={toasts:[],pausedAt:void 0},Jc=e=>{Xc=$c(Xc,e),Qc.forEach(e=>{e(Xc)})},Zc=e=>(t,r)=>{let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",r=arguments.length>2?arguments[2]:void 0;return qe(qe({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},r),{},{id:(null==r?void 0:r.id)||Kc()})}(t,e,r);return Jc({type:2,toast:n}),n.id},ed=(e,t)=>Zc("blank")(e,t);ed.error=Zc("error"),ed.success=Zc("success"),ed.loading=Zc("loading"),ed.custom=Zc("custom"),ed.dismiss=e=>{Jc({type:3,toastId:e})},ed.remove=e=>Jc({type:4,toastId:e}),ed.promise=(e,t,r)=>{let n=ed.loading(t.loading,qe(qe({},r),null==r?void 0:r.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let s=t.success?qc(t.success,e):void 0;return s?ed.success(s,qe(qe({id:n},r),null==r?void 0:r.success)):ed.dismiss(n),e}).catch(e=>{let s=t.error?qc(t.error,e):void 0;s?ed.error(s,qe(qe({id:n},r),null==r?void 0:r.error)):ed.dismiss(n)}),e};new Map;var td=Pc(_c||(_c=pc(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),rd=Pc(Ac||(Ac=pc(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),nd=Pc(Dc||(Dc=pc(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),sd=Tc("div")(Rc||(Rc=pc(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",td,rd,e=>e.secondary||"#fff",nd),ad=Pc(Mc||(Mc=pc(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),id=Tc("div")(Lc||(Lc=pc(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",ad),od=Pc(Ic||(Ic=pc(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),ld=Pc(Oc||(Oc=pc(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),cd=Tc("div")(Fc||(Fc=pc(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",od,ld,e=>e.secondary||"#fff"),dd=Tc("div")(Bc||(Bc=pc(["\n  position: absolute;\n"]))),ud=Tc("div")(zc||(zc=pc(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),hd=Pc(Uc||(Uc=pc(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),md=Tc("div")(Vc||(Vc=pc(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),hd),pd=e=>{let{toast:t}=e,{icon:r,type:n,iconTheme:s}=t;return void 0!==r?"string"==typeof r?a.createElement(md,null,r):r:"blank"===n?null:a.createElement(ud,null,a.createElement(id,qe({},s)),"loading"!==n&&a.createElement(dd,null,"error"===n?a.createElement(sd,qe({},s)):a.createElement(cd,qe({},s))))},fd=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),xd=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),gd=Tc("div")(Gc||(Gc=pc(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),yd=Tc("div")(Wc||(Wc=pc(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"])));a.memo(e=>{let{toast:t,position:r,style:n,children:s}=e,i=t.height?((e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Yc()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[fd(r),xd(r)];return{animation:t?"".concat(Pc(n)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(Pc(s)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||r||"top-center",t.visible):{opacity:0},o=a.createElement(pd,{toast:t}),l=a.createElement(yd,qe({},t.ariaProps),qc(t.message,t));return a.createElement(gd,{className:t.className,style:qe(qe(qe({},i),n),t.style)},"function"==typeof s?s({icon:o,message:l}):a.createElement(a.Fragment,null,o,l))});!function(e,t,r,n){bc.p=t,Sc=e,Cc=r,Ec=n}(a.createElement);kc(Hc||(Hc=pc(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"])));var vd=ed;const bd=e=>{let{initialMode:t="login"}=e;const[r,n]=(0,a.useState)("signup"===t?"signup":"login"),{login:s,user:i}=Fe(),o=ne(),[l]=Le(),c=l.get("next")||"/pax",[d,u]=(0,a.useState)({email:"",password:""}),[h,m]=(0,a.useState)({name:"",email:"",phone:"",password:"",confirmPassword:""}),[p,f]=(0,a.useState)({email:""}),[x,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!1),[w,N]=(0,a.useState)({}),[k,S]=(0,a.useState)({}),[C,E]=(0,a.useState)({}),[P,T]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),D=async(e,t)=>{const r=await mc("/api/auth/me");let n=e;var a;r.ok&&r.data&&(n=(null===(a=r.data.data)||void 0===a?void 0:a.user)||r.data.user||r.data);s(n,t)};(0,a.useEffect)(()=>{if(i){const e=(i.role||"passenger").toUpperCase(),t="ADMIN"===e?"/admin":"CONDUCTOR"===e?"/conductor":"DRIVER"===e?"/driver":"DEPOT_MANAGER"===e?"/depot":c;console.log("[Auth] existing session redirect:",{role:e,dest:t}),o(t,{replace:!0})}},[i,o,c]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{const e="".concat("http://localhost:5000","/api/auth/google?next=").concat(encodeURIComponent(c)),t=document.createElement("link");t.rel="prefetch",t.href=e,document.head.appendChild(t);const r=document.createElement("link");r.rel="prefetch",r.href="/oauth/callback",document.head.appendChild(r)},1e3);return()=>clearTimeout(e)},[c]);const R=(0,a.useCallback)(()=>{const e={};return d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",d.password?d.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",N(e),0===Object.keys(e).length},[d]),M=(0,a.useCallback)(()=>{const e={};return h.name.trim()?h.name.trim().length<2?e.name="Name must be at least 2 characters":/^[a-zA-Z\s]+$/.test(h.name.trim())||(e.name="Name can only contain letters and spaces"):e.name="Full name is required",h.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",h.phone.trim()?/^[\+]?[^\s]{7,16}$/.test(h.phone.trim())||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",h.password?h.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",h.confirmPassword?h.password!==h.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",S(e),0===Object.keys(e).length},[h]),L=(0,a.useCallback)(()=>{const e={};return p.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email.trim())||(e.email="Please enter a valid email address"):e.email="Email is required",E(e),0===Object.keys(e).length},[p]),I=(0,a.useCallback)((e,t)=>{u(r=>qe(qe({},r),{},{[e]:t})),w[e]&&N(t=>qe(qe({},t),{},{[e]:""})),"email"===e&&t.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.trim())&&N(e=>qe(qe({},e),{},{email:"Please enter a valid email address"})),"password"===e&&t&&t.length<6&&N(e=>qe(qe({},e),{},{password:"Password must be at least 6 characters"}))},[w]),O=(0,a.useCallback)((e,t)=>{m(r=>qe(qe({},r),{},{[e]:t})),k[e]&&S(t=>qe(qe({},t),{},{[e]:""}))},[k]),F=(0,a.useCallback)((e,t)=>{f(r=>qe(qe({},r),{},{[e]:t})),C[e]&&E(t=>qe(qe({},t),{},{[e]:""}))},[C]),B="login"===r?(0,Ie.jsxs)("span",{children:["New here? ",(0,Ie.jsx)("button",{type:"button",onClick:()=>n("signup"),className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",disabled:x||y,children:"Create an account"})]}):(0,Ie.jsxs)("span",{children:["Already with us? ",(0,Ie.jsx)("button",{type:"button",onClick:()=>n("login"),className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",disabled:x||y,children:"Sign in"})]});return(0,Ie.jsx)(Zl,{title:"Yatrik Account",subtitle:B,children:(0,Ie.jsxs)("div",{className:"fade-in",children:[(0,Ie.jsxs)("div",{className:"mb-6 grid grid-cols-2 rounded-lg border border-gray-200 overflow-hidden",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>n("login"),className:"py-2.5 text-sm font-medium transition-all duration-200 ".concat("login"===r?"bg-primary-50 text-primary-700":"bg-white text-neutral-600 hover:bg-gray-50"),disabled:x||y,children:"Sign in"}),(0,Ie.jsx)("button",{type:"button",onClick:()=>n("signup"),className:"py-2.5 text-sm font-medium transition-all duration-200 ".concat("signup"===r?"bg-primary-50 text-primary-700":"bg-white text-neutral-600 hover:bg-gray-50"),disabled:x||y,children:"Create account"})]}),"login"===r?(0,Ie.jsx)("div",{children:_?(0,Ie.jsx)("div",{children:P?(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ie.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ie.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Check your email"}),(0,Ie.jsxs)("p",{className:"text-sm text-gray-600 mb-6",children:["We've sent a password reset link to ",(0,Ie.jsx)("strong",{children:p.email})]}),(0,Ie.jsx)("button",{type:"button",onClick:()=>{A(!1),T(!1),f({email:""})},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Back to Sign in"})]}):(0,Ie.jsxs)("form",{className:"space-y-6",onSubmit:async e=>{if(e.preventDefault(),L()){j(!0);try{const e=await mc("/api/auth/forgot-password",{method:"POST",body:JSON.stringify({email:p.email})});e.ok?(T(!0),vd.success("Password reset email sent! Check your inbox.")):vd.error(e.message||"Failed to send reset email")}catch(t){vd.error("Network error. Please try again.")}finally{j(!1)}}},children:[(0,Ie.jsxs)("div",{className:"text-center mb-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Reset your password"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Enter your email address and we'll send you a link to reset your password."})]}),(0,Ie.jsx)(lc,{id:"email",label:"Email address",type:"email",autoComplete:"email",value:p.email,onChange:e=>F("email",e.target.value),error:C.email,disabled:b}),(0,Ie.jsxs)("div",{className:"flex gap-3",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>A(!1),className:"flex-1 py-2 px-4 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Back to Sign in"}),(0,Ie.jsx)("button",{type:"submit",className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",disabled:b,children:b?(0,Ie.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,Ie.jsx)(ze,{size:"sm",color:"white"}),(0,Ie.jsx)("span",{children:"Sending..."})]}):"Send reset link"})]})]})}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsxs)("form",{className:"space-y-6 login-form-compact",onSubmit:async e=>{if(e.preventDefault(),R()){g(!0);try{var t,r;const e=await mc("/api/auth/login",{method:"POST",body:JSON.stringify(d)});if(!e.ok)return void vd.error(e.message||"Login failed");const n=(null===(t=e.data.data)||void 0===t?void 0:t.user)||e.data.user,s=(null===(r=e.data.data)||void 0===r?void 0:r.token)||e.data.token;n&&s?(vd.success("Signing in..."),await D(n,s)):vd.error("Invalid response from server")}catch(n){vd.error("Network error. Please try again.")}finally{g(!1)}}},children:[(0,Ie.jsx)(lc,{id:"email",label:"Email address",type:"email",autoComplete:"email",value:d.email,onChange:e=>I("email",e.target.value),error:w.email,disabled:x}),(0,Ie.jsx)(cc,{id:"password",label:"Password",autoComplete:"current-password",value:d.password,onChange:e=>I("password",e.target.value),error:w.password,disabled:x}),(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("label",{className:"flex items-center gap-2 text-sm text-neutral-600",children:[(0,Ie.jsx)("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"})," Remember me"]}),(0,Ie.jsx)("button",{type:"button",onClick:()=>A(!0),className:"text-sm font-medium text-primary-600 hover:text-primary-500",children:"Forgot password?"})]}),(0,Ie.jsx)("div",{children:(0,Ie.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 btn-transition login-form-compact",disabled:x,children:x?(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(ze,{size:"sm",color:"white"}),(0,Ie.jsx)("span",{children:"Signing in..."})]}):"Sign in"})})]}),(0,Ie.jsxs)("div",{className:"mt-6 login-form-compact",children:[(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Ie.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Ie.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Ie.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),(0,Ie.jsx)("div",{className:"mt-6",children:(0,Ie.jsx)(dc,{href:"".concat("http://localhost:5000","/api/auth/google?next=").concat(encodeURIComponent(c)),ariaLabel:"Sign in with Google",icon:(0,Ie.jsx)(oc,{className:"text-red-500"}),disabled:x||y,className:"transform hover:scale-105 active:scale-95 transition-transform duration-100",children:"Sign in with Google"})})]})]})}):(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,Ie.jsxs)("form",{className:"space-y-2 login-form-compact",onSubmit:async e=>{if(e.preventDefault(),M()){v(!0);try{var t,r;const e={name:h.name,email:h.email,phone:h.phone,password:h.password},n=await mc("/api/auth/register",{method:"POST",body:JSON.stringify(e)});if(!n.ok)return void vd.error(n.message||"Registration failed");const s=(null===(t=n.data.data)||void 0===t?void 0:t.user)||n.data.user,a=(null===(r=n.data.data)||void 0===r?void 0:r.token)||n.data.token;s&&a?(vd.success("Account created successfully!"),await D(s,a)):vd.error("Invalid response from server")}catch(n){vd.error("Network error. Please try again.")}finally{v(!1)}}},children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,Ie.jsx)(lc,{id:"name",label:"Full Name",type:"text",autoComplete:"name",value:h.name,onChange:e=>O("name",e.target.value),error:k.name,disabled:y}),(0,Ie.jsx)(lc,{id:"email",label:"Email address",type:"email",autoComplete:"email",value:h.email,onChange:e=>O("email",e.target.value),error:k.email,disabled:y}),(0,Ie.jsx)(lc,{id:"phone",label:"Phone Number",type:"tel",autoComplete:"tel",value:h.phone,onChange:e=>O("phone",e.target.value),error:k.phone,disabled:y}),(0,Ie.jsx)(cc,{id:"password",label:"Password",autoComplete:"new-password",value:h.password,onChange:e=>O("password",e.target.value),error:k.password,disabled:y})]}),(0,Ie.jsx)(cc,{id:"confirmPassword",label:"Confirm Password",autoComplete:"new-password",value:h.confirmPassword,onChange:e=>O("confirmPassword",e.target.value),error:k.confirmPassword,disabled:y}),(0,Ie.jsx)("div",{children:(0,Ie.jsx)("button",{type:"submit",className:"w-full flex justify-center py-1.5 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 btn-transition login-form-compact",disabled:y,children:y?(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(ze,{size:"sm",color:"white"}),(0,Ie.jsx)("span",{children:"Creating account..."})]}):"Create Account"})})]}),(0,Ie.jsxs)("div",{className:"mt-4",children:[(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Ie.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Ie.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Ie.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),(0,Ie.jsx)("div",{className:"mt-6",children:(0,Ie.jsx)(dc,{href:"".concat("http://localhost:5000","/api/auth/google?next=").concat(encodeURIComponent(c),"&mode=signup"),ariaLabel:"Sign up with Google",icon:(0,Ie.jsx)(oc,{className:"text-red-500"}),className:"py-2 transform hover:scale-105 active:scale-95 transition-transform duration-100",disabled:x||y,children:"Sign up with Google"})})]})]})})]})})},jd=()=>{const e=ne(),[t]=Le(),{login:r}=Fe(),[n,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{const n=e=>{switch(e){case"ADMIN":return"/admin";case"CONDUCTOR":return"/conductor";case"DRIVER":return"/driver";case"DEPOT_MANAGER":return"/depot";default:return"/pax"}};(async()=>{try{if(t.get("error"))return o("Authentication failed. Please try again."),void setTimeout(()=>e("/login"),2e3);const s=t.get("user"),i=t.get("token"),l=t.get("next");if(s&&i)try{const t=JSON.parse(decodeURIComponent(s));r(t,i);const a=(t.role||"passenger").toUpperCase();let o;if(l&&l.startsWith("/")){o=l.startsWith("/pax")&&"PASSENGER"===a||l.startsWith("/admin")&&"ADMIN"===a||l.startsWith("/conductor")&&"CONDUCTOR"===a||l.startsWith("/driver")&&"DRIVER"===a||l.startsWith("/depot")&&"DEPOT_MANAGER"===a?l:n(a)}else o=n(a);return void e(o,{replace:!0})}catch(a){return o("Invalid user data received. Please try again."),void setTimeout(()=>e("/login"),2e3)}o("Authentication incomplete. Please try signing in again."),setTimeout(()=>e("/login"),2e3)}catch(i){o("Authentication failed. Please try again."),setTimeout(()=>e("/login"),2e3)}finally{s(!1)}})()},[t,r,e]),i?(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ie.jsxs)("div",{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-200",children:[(0,Ie.jsxs)("div",{className:"text-red-500 text-xl mb-4",children:["\u274c ",i]}),(0,Ie.jsx)("div",{className:"text-gray-600",children:"Redirecting to login page..."})]})}):(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ie.jsxs)("div",{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-200",children:[(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-900 font-medium",children:"Completing Google sign-in..."}),(0,Ie.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we authenticate you"})]})})},wd=()=>{const e=ne(),[t]=Le(),[r,n]=(0,a.useState)({password:"",confirmPassword:""}),[s,i]=(0,a.useState)({}),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!0),m=t.get("token");(0,a.useEffect)(()=>{if(!m)return vd.error("Invalid reset link. Please request a new password reset."),void e("/login");d(!0),h(!1)},[m,e]);const p=(e,t)=>{n(r=>qe(qe({},r),{},{[e]:t})),s[e]&&i(t=>qe(qe({},t),{},{[e]:""}))};return u?(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ie.jsxs)("div",{className:"text-center p-8 bg-white rounded-2xl shadow-lg border border-gray-200",children:[(0,Ie.jsx)(ze,{size:"lg"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-4",children:"Verifying reset link..."})]})}):c?(0,Ie.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Ie.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reset Password"}),(0,Ie.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below"})]}),(0,Ie.jsxs)("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg",children:[(0,Ie.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),(()=>{const e={};return r.password?r.password.length<8&&(e.password="Password must be at least 8 characters"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",i(e),0===Object.keys(e).length})()){l(!0);try{const t=await mc("/api/auth/reset-password",{method:"POST",body:JSON.stringify({token:m,newPassword:r.password})});t.ok?(vd.success("Password reset successfully! You can now sign in with your new password."),e("/login")):vd.error(t.message||"Failed to reset password. The link may have expired.")}catch(n){vd.error("Network error. Please try again.")}finally{l(!1)}}},children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),(0,Ie.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(s.password?"border-red-300":"border-gray-300"),placeholder:"Enter new password",value:r.password,onChange:e=>p("password",e.target.value),disabled:o}),s.password&&(0,Ie.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),(0,Ie.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ".concat(s.confirmPassword?"border-red-300":"border-gray-300"),placeholder:"Confirm new password",value:r.confirmPassword,onChange:e=>p("confirmPassword",e.target.value),disabled:o}),s.confirmPassword&&(0,Ie.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword})]}),(0,Ie.jsx)("div",{children:(0,Ie.jsx)("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(ze,{size:"sm",color:"white"}),(0,Ie.jsx)("span",{children:"Resetting Password..."})]}):"Reset Password"})})]}),(0,Ie.jsx)("div",{className:"mt-6 text-center",children:(0,Ie.jsx)("button",{onClick:()=>e("/login"),className:"text-sm text-blue-600 hover:text-blue-500 transition-colors",children:"Back to Sign In"})})]})]})}):null},Nd=()=>(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Profile"}),(0,Ie.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ie.jsx)("p",{className:"text-gray-600",children:"Profile management functionality will be implemented here."})})]}),kd=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Sd=Qe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),Cd=Qe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),Ed=Qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Pd=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Td=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),_d=Qe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ad=Qe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Dd=()=>{const{user:e}=Fe(),[t,r]=(0,a.useState)(0),[n,s]=(0,a.useState)(!0),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)("overview");(0,a.useEffect)(()=>{h()},[]);const h=async()=>{if(e){c(!0);try{const e=await mc("/api/wallet/balance");e.ok&&r(e.data.balance||0);const t=await mc("/api/wallet/transactions");t.ok&&o(t.data.transactions||[])}catch(t){console.error("Error fetching wallet data:",t),vd.error("Failed to load wallet data")}finally{c(!1)}}},m=e=>{switch(e){case"transport":return(0,Ie.jsx)(kd,{className:"w-5 h-5 text-blue-600"});case"bonus":return(0,Ie.jsx)(Sd,{className:"w-5 h-5 text-green-600"});case"refund":return(0,Ie.jsx)(Cd,{className:"w-5 h-5 text-purple-600"});default:return(0,Ie.jsx)(Ed,{className:"w-5 h-5 text-gray-600"})}},p=e=>{switch(e){case"completed":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},f=[{icon:(0,Ie.jsx)(Pd,{className:"w-6 h-6"}),label:"Add Money",action:()=>console.log("Add Money")},{icon:(0,Ie.jsx)(Ed,{className:"w-6 h-6"}),label:"Cards",action:()=>console.log("Cards")},{icon:(0,Ie.jsx)(Td,{className:"w-6 h-6"}),label:"History",action:()=>console.log("History")},{icon:(0,Ie.jsx)(Sd,{className:"w-6 h-6"}),label:"Rewards",action:()=>console.log("Rewards")}];return l?(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Loading wallet..."})]})}):(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6 mb-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Wallet"}),(0,Ie.jsxs)("button",{onClick:()=>s(!n),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[n?(0,Ie.jsx)(_d,{className:"w-5 h-5"}):(0,Ie.jsx)(Ad,{className:"w-5 h-5"}),(0,Ie.jsxs)("span",{children:[n?"Hide":"Show"," Balance"]})]})]}),(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("p",{className:"text-gray-600 mb-2",children:"Available Balance"}),(0,Ie.jsx)("div",{className:"text-4xl font-bold text-gray-900 mb-4",children:n?(x=t,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(x)):"****"}),(0,Ie.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,Ie.jsx)("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Money"}),(0,Ie.jsx)("button",{className:"bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Withdraw"})]})]})]}),(0,Ie.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:f.map((e,t)=>(0,Ie.jsxs)("button",{onClick:e.action,className:"bg-white p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow text-center",children:[(0,Ie.jsx)("div",{className:"text-blue-600 mb-2",children:e.icon}),(0,Ie.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.label})]},t))}),(0,Ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[{label:"Total Spent",value:"\u20b98,500",change:"+12%",trend:"up",color:"text-blue-600"},{label:"Savings",value:"\u20b93,200",change:"+8%",trend:"up",color:"text-green-600"},{label:"Rewards",value:"\u20b91,800",change:"+25%",trend:"up",color:"text-purple-600"}].map((e,t)=>(0,Ie.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:e.label}),(0,Ie.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]}),(0,Ie.jsxs)("div",{className:"text-right ".concat(e.color),children:[(0,Ie.jsx)("p",{className:"text-sm font-medium",children:e.change}),(0,Ie.jsx)("p",{className:"text-xs",children:"This month"})]})]})},t))}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Transactions"}),(0,Ie.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]}),0===i.length?(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)(Ed,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"No transactions yet"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"Your transaction history will appear here"})]}):(0,Ie.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,Ie.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:m(e.category)}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.description}),(0,Ie.jsxs)("p",{className:"text-sm text-gray-500",children:[e.date," \u2022 ",e.time]})]})]}),(0,Ie.jsxs)("div",{className:"text-right",children:[(0,Ie.jsxs)("p",{className:"font-medium ".concat("credit"===e.type?"text-green-600":"text-red-600"),children:["credit"===e.type?"+":"-","\u20b9",e.amount]}),(0,Ie.jsx)("span",{className:"inline-block px-2 py-1 text-xs rounded-full ".concat(p(e.status)),children:e.status})]})]},e.id))})]})]})});var x},Rd=()=>(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Trip Planner"}),(0,Ie.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ie.jsx)("p",{className:"text-gray-600",children:"Trip planning functionality will be implemented here."})})]}),Md=()=>(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Book Tickets"}),(0,Ie.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ie.jsx)("p",{className:"text-gray-600",children:"Ticket booking functionality will be implemented here."})})]});var Ld,Id=Object.defineProperty,Od=Object.getOwnPropertySymbols,Fd=Object.prototype.hasOwnProperty,Bd=Object.prototype.propertyIsEnumerable,zd=(e,t,r)=>t in e?Id(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ud=(e,t)=>{for(var r in t||(t={}))Fd.call(t,r)&&zd(e,r,t[r]);if(Od)for(var r of Od(t))Bd.call(t,r)&&zd(e,r,t[r]);return e},Vd=(e,t)=>{var r={};for(var n in e)Fd.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Od)for(var n of Od(e))t.indexOf(n)<0&&Bd.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class{constructor(e,r,n,s){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let i=[];for(let t=0;t<this.size;t++)i.push(!1);for(let t=0;t<this.size;t++)this.modules.push(i.slice()),this.isFunction.push(i.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(n);if(this.drawCodewords(o),-1==s){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(s=t,e=r),this.applyMask(t)}}a(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(r,n){const s=e.QrSegment.makeSegments(r);return t.encodeSegments(s,n)}static encodeBinary(r,n){const s=e.QrSegment.makeBytes(r);return t.encodeSegments([s],n)}static encodeSegments(e,r){let s,i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,u=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||d<-1||d>7)throw new RangeError("Invalid value");for(s=l;;s++){const n=8*t.getNumDataCodewords(s,r),a=o.getTotalBits(e,s);if(a<=n){i=a;break}if(s>=c)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])u&&i<=8*t.getNumDataCodewords(s,n)&&(r=n);let h=[];for(const t of e){n(t.mode.modeBits,4,h),n(t.numChars,t.mode.numCharCountBits(s),h);for(const e of t.getData())h.push(e)}a(h.length==i);const m=8*t.getNumDataCodewords(s,r);a(h.length<=m),n(0,Math.min(4,m-h.length),h),n(0,(8-h.length%8)%8,h),a(h.length%8==0);for(let t=236;h.length<m;t^=253)n(t,8,h);let p=[];for(;8*p.length<h.length;)p.push(0);return h.forEach((e,t)=>p[t>>>3]|=e<<7-(7&t)),new t(s,r,p,d)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let s=0;s<10;s++)r=r<<1^1335*(r>>>9);const n=21522^(t<<10|r);a(n>>>15==0);for(let a=0;a<=5;a++)this.setFunctionModule(8,a,s(n,a));this.setFunctionModule(8,7,s(n,6)),this.setFunctionModule(8,8,s(n,7)),this.setFunctionModule(7,8,s(n,8));for(let a=9;a<15;a++)this.setFunctionModule(14-a,8,s(n,a));for(let a=0;a<8;a++)this.setFunctionModule(this.size-1-a,8,s(n,a));for(let a=8;a<15;a++)this.setFunctionModule(8,this.size-15+a,s(n,a));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let r=0;r<12;r++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;a(t>>>18==0);for(let r=0;r<18;r++){const e=s(t,r),n=this.size-11+r%3,a=Math.floor(r/3);this.setFunctionModule(n,a,e),this.setFunctionModule(a,n,e)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const s=Math.max(Math.abs(n),Math.abs(r)),a=e+n,i=t+r;0<=a&&a<this.size&&0<=i&&i<this.size&&this.setFunctionModule(a,i,2!=s&&4!=s)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const s=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],i=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],o=Math.floor(t.getNumRawDataModules(r)/8),l=s-o%s,c=Math.floor(o/s);let d=[];const u=t.reedSolomonComputeDivisor(i);for(let a=0,m=0;a<s;a++){let r=e.slice(m,m+c-i+(a<l?0:1));m+=r.length;const n=t.reedSolomonComputeRemainder(r,u);a<l&&r.push(0),d.push(r.concat(n))}let h=[];for(let t=0;t<d[0].length;t++)d.forEach((e,r)=>{(t!=c-i||r>=l)&&h.push(e[t])});return a(h.length==o),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let n=0;n<this.size;n++)for(let a=0;a<2;a++){const i=t-a,o=0==(t+1&2)?this.size-1-n:n;!this.isFunction[o][i]&&r<8*e.length&&(this.modules[o][i]=s(e[r>>>3],7-(7&r)),r++)}}a(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let a=0;a<this.size;a++){let r=!1,n=0,s=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[a][i]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,s),r||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),r=this.modules[a][i],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,s)*t.PENALTY_N3}for(let a=0;a<this.size;a++){let r=!1,n=0,s=[0,0,0,0,0,0,0];for(let i=0;i<this.size;i++)this.modules[i][a]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,s),r||(e+=this.finderPenaltyCountPatterns(s)*t.PENALTY_N3),r=this.modules[i][a],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,s)*t.PENALTY_N3}for(let a=0;a<this.size-1;a++)for(let r=0;r<this.size-1;r++){const n=this.modules[a][r];n==this.modules[a][r+1]&&n==this.modules[a+1][r]&&n==this.modules[a+1][r+1]&&(e+=t.PENALTY_N2)}let r=0;for(const t of this.modules)r=t.reduce((e,t)=>e+(t?1:0),r);const n=this.size*this.size,s=Math.ceil(Math.abs(20*r-10*n)/n)-1;return a(0<=s&&s<=9),e+=s*t.PENALTY_N4,a(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return a(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let s=0;s<e;s++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map(e=>0);for(const s of e){const e=s^n.shift();n.push(0),r.forEach((r,s)=>n[s]^=t.reedSolomonMultiply(r,e))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return a(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];a(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let r=t;function n(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function s(e,t){return 0!=(e>>>t&1)}function a(e){if(!e)throw new Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;const i=class{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(e){let t=[];for(const r of e)n(r,8,t);return new i(i.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!i.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let r=0;r<e.length;){const s=Math.min(e.length-r,3);n(parseInt(e.substr(r,s),10),3*s+1,t),r+=s}return new i(i.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!i.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,r=[];for(t=0;t+2<=e.length;t+=2){let s=45*i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));s+=i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(s,11,r)}return t<e.length&&n(i.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new i(i.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return""==e?[]:i.isNumeric(e)?[i.makeNumeric(e)]:i.isAlphanumeric(e)?[i.makeAlphanumeric(e)]:[i.makeBytes(i.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,t),n(e,21,t)}return new i(i.Mode.ECI,0,t)}static isNumeric(e){return i.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return i.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t}};let o=i;o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=o})(Ld||(Ld={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(t=e.QrCode||(e.QrCode={}))})(Ld||(Ld={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(t=e.QrSegment||(e.QrSegment={}))})(Ld||(Ld={}));var Gd=Ld,Wd={L:Gd.QrCode.Ecc.LOW,M:Gd.QrCode.Ecc.MEDIUM,Q:Gd.QrCode.Ecc.QUARTILE,H:Gd.QrCode.Ecc.HIGH},Hd=128,qd="L",Kd="#FFFFFF",Yd="#000000",$d=!1;function Qd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=[];return e.forEach(function(e,n){let s=null;e.forEach(function(a,i){if(!a&&null!==s)return r.push("M".concat(s+t," ").concat(n+t,"h").concat(i-s,"v1H").concat(s+t,"z")),void(s=null);if(i!==e.length-1)a&&null===s&&(s=i);else{if(!a)return;null===s?r.push("M".concat(i+t,",").concat(n+t," h1v1H").concat(i+t,"z")):r.push("M".concat(s+t,",").concat(n+t," h").concat(i+1-s,"v1H").concat(s+t,"z"))}})}),r.join("")}function Xd(e,t){return e.slice().map((e,r)=>r<t.y||r>=t.y+t.h?e:e.map((e,r)=>(r<t.x||r>=t.x+t.w)&&e))}function Jd(e,t,r,n){if(null==n)return null;const s=r?4:0,a=e.length+2*s,i=Math.floor(.1*t),o=a/t,l=(n.width||i)*o,c=(n.height||i)*o,d=null==n.x?e.length/2-l/2:n.x*o,u=null==n.y?e.length/2-c/2:n.y*o;let h=null;if(n.excavate){let e=Math.floor(d),t=Math.floor(u);h={x:e,y:t,w:Math.ceil(l+d-e),h:Math.ceil(c+u-t)}}return{x:d,y:u,h:c,w:l,excavation:h}}var Zd=function(){try{(new Path2D).addPath(new Path2D)}catch(fc){return!1}return!0}();function eu(e){const t=e,{value:r,size:n=Hd,level:s=qd,bgColor:i=Kd,fgColor:o=Yd,includeMargin:l=$d,style:c,imageSettings:d}=t,u=Vd(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),h=null==d?void 0:d.src,m=a.useRef(null),p=a.useRef(null),[f,x]=a.useState(!1);a.useEffect(()=>{if(null!=m.current){const e=m.current,t=e.getContext("2d");if(!t)return;let a=Gd.QrCode.encodeText(r,Wd[s]).getModules();const c=l?4:0,u=a.length+2*c,h=Jd(a,n,l,d),f=p.current,x=null!=h&&null!==f&&f.complete&&0!==f.naturalHeight&&0!==f.naturalWidth;x&&null!=h.excavation&&(a=Xd(a,h.excavation));const g=window.devicePixelRatio||1;e.height=e.width=n*g;const y=n/u*g;t.scale(y,y),t.fillStyle=i,t.fillRect(0,0,u,u),t.fillStyle=o,Zd?t.fill(new Path2D(Qd(a,c))):a.forEach(function(e,r){e.forEach(function(e,n){e&&t.fillRect(n+c,r+c,1,1)})}),x&&t.drawImage(f,h.x+c,h.y+c,h.w,h.h)}}),a.useEffect(()=>{x(!1)},[h]);const g=Ud({height:n,width:n},c);let y=null;return null!=h&&(y=a.createElement("img",{src:h,key:h,style:{display:"none"},onLoad:()=>{x(!0)},ref:p})),a.createElement(a.Fragment,null,a.createElement("canvas",Ud({style:g,height:n,width:n,ref:m},u)),y)}function tu(e){const t=e,{value:r,size:n=Hd,level:s=qd,bgColor:i=Kd,fgColor:o=Yd,includeMargin:l=$d,imageSettings:c}=t,d=Vd(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let u=Gd.QrCode.encodeText(r,Wd[s]).getModules();const h=l?4:0,m=u.length+2*h,p=Jd(u,n,l,c);let f=null;null!=c&&null!=p&&(null!=p.excavation&&(u=Xd(u,p.excavation)),f=a.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+h,y:p.y+h,preserveAspectRatio:"none"}));const x=Qd(u,h);return a.createElement("svg",Ud({height:n,width:n,viewBox:"0 0 ".concat(m," ").concat(m)},d),a.createElement("path",{fill:i,d:"M0,0 h".concat(m,"v").concat(m,"H0z"),shapeRendering:"crispEdges"}),a.createElement("path",{fill:o,d:x,shapeRendering:"crispEdges"}),f)}var ru=e=>{const t=e,{renderAs:r}=t,n=Vd(t,["renderAs"]);return"svg"===r?a.createElement(tu,Ud({},n)):a.createElement(eu,Ud({},n))};const nu=Object.create(null);nu.open="0",nu.close="1",nu.ping="2",nu.pong="3",nu.message="4",nu.upgrade="5",nu.noop="6";const su=Object.create(null);Object.keys(nu).forEach(e=>{su[nu[e]]=e});const au={type:"error",data:"parser error"},iu="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ou="function"===typeof ArrayBuffer,lu=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,cu=(e,t,r)=>{let{type:n,data:s}=e;return iu&&s instanceof Blob?t?r(s):du(s,r):ou&&(s instanceof ArrayBuffer||lu(s))?t?r(s):du(new Blob([s]),r):r(nu[n]+(s||""))},du=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function uu(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let hu;const mu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pu="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let Om=0;Om<64;Om++)pu[mu.charCodeAt(Om)]=Om;const fu="function"===typeof ArrayBuffer,xu=(e,t)=>{if("string"!==typeof e)return{type:"message",data:yu(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:gu(e.substring(1),t)};return su[r]?e.length>1?{type:su[r],data:e.substring(1)}:{type:su[r]}:au},gu=(e,t)=>{if(fu){const r=(e=>{let t,r,n,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=pu[e.charCodeAt(t)],n=pu[e.charCodeAt(t+1)],s=pu[e.charCodeAt(t+2)],a=pu[e.charCodeAt(t+3)],d[l++]=r<<2|n>>4,d[l++]=(15&n)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c})(e);return yu(r,t)}return{base64:!0,data:e}},yu=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,vu=String.fromCharCode(30);function bu(){return new TransformStream({transform(e,t){!function(e,t){iu&&e.data instanceof Blob?e.data.arrayBuffer().then(uu).then(t):ou&&(e.data instanceof ArrayBuffer||lu(e.data))?t(uu(e.data)):cu(e,!1,e=>{hu||(hu=new TextEncoder),t(hu.encode(e))})}(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!==typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let ju;function wu(e){return e.reduce((e,t)=>e+t.length,0)}function Nu(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function ku(e){if(e)return function(e){for(var t in ku.prototype)e[t]=ku.prototype[t];return e}(e)}ku.prototype.on=ku.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},ku.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},ku.prototype.off=ku.prototype.removeListener=ku.prototype.removeAllListeners=ku.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<n.length;s++)if((r=n[s])===t||r.fn===t){n.splice(s,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},ku.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var s=(r=r.slice(0)).length;n<s;++n)r[n].apply(this,t)}return this},ku.prototype.emitReserved=ku.prototype.emit,ku.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},ku.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Su="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Cu="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Eu(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const Pu=Cu.setTimeout,Tu=Cu.clearTimeout;function _u(e,t){t.useNativeTimers?(e.setTimeoutFn=Pu.bind(Cu),e.clearTimeoutFn=Tu.bind(Cu)):(e.setTimeoutFn=Cu.setTimeout.bind(Cu),e.clearTimeoutFn=Cu.clearTimeout.bind(Cu))}function Au(e){return"string"===typeof e?function(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}function Du(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ru extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Mu extends ku{constructor(e){super(),this.writable=!1,_u(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new Ru(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=xu(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class Lu extends Mu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(vu),n=[];for(let s=0;s<r.length;s++){const e=xu(r[s],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((e,a)=>{cu(e,!1,e=>{n[a]=e,++s===r&&t(n.join(vu))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Du()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Iu=!1;try{Iu="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(Im){}const Ou=Iu;function Fu(){}class Bu extends Lu{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class zu extends ku{constructor(e,t,r){super(),this.createRequest=e,_u(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=Eu(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(fc){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(fc){}try{r.setRequestHeader("Accept","*/*")}catch(fc){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof r.status?r.status:0)},0))},r.send(this._data)}catch(fc){return void this.setTimeoutFn(()=>{this._onError(fc)},0)}"undefined"!==typeof document&&(this._index=zu.requestsCount++,zu.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Fu,e)try{this._xhr.abort()}catch(fc){}"undefined"!==typeof document&&delete zu.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(zu.requestsCount=0,zu.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Uu);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Cu?"pagehide":"unload",Uu,!1)}function Uu(){for(let e in zu.requests)zu.requests.hasOwnProperty(e)&&zu.requests[e].abort()}const Vu=function(){const e=Gu({xdomain:!1});return e&&null!==e.responseType}();function Gu(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Ou))return new XMLHttpRequest}catch(fc){}if(!t)try{return new(Cu[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(fc){}}const Wu="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Hu extends Mu{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=Wu?{}:Eu(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(Im){return this.emitReserved("error",Im)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;cu(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(fc){}n&&Su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Du()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const qu=Cu.WebSocket||Cu.MozWebSocket;const Ku={websocket:class extends Hu{createSocket(e,t,r){return Wu?new qu(e,t,r):t?new qu(e,t):new qu(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Mu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(Im){return this.emitReserved("error",Im)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){ju||(ju=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===n){if(wu(r)<1)break;const e=Nu(r,1);a=128===(128&e[0]),s=127&e[0],n=s<126?3:126===s?1:2}else if(1===n){if(wu(r)<2)break;const e=Nu(r,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(wu(r)<8)break;const e=Nu(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){o.enqueue(au);break}s=a*Math.pow(2,32)+t.getUint32(4),n=3}else{if(wu(r)<s)break;const e=Nu(r,s);o.enqueue(xu(a?e:ju.decode(e),t)),n=0}if(0===s||s>e){o.enqueue(au);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=bu();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const s=()=>{r.read().then(e=>{let{done:t,value:r}=e;t||(this.onPacket(r),s())}).catch(e=>{})};s();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then(()=>{n&&Su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Bu{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Vu&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new zu(Gu,this.uri(),e)}}},Yu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,$u=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qu(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=Yu.exec(e||""),a={},i=14;for(;i--;)a[$u[i]]=s[i]||"";return-1!=r&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,a.query),a}const Xu="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ju=[];Xu&&addEventListener("offline",()=>{Ju.forEach(e=>e())},!1);class Zu extends ku{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const r=Qu(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Qu(t.host).host);_u(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Xu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ju.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Zu.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Zu.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=Au(r)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Su(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"===typeof t&&(n=t,t=void 0),"function"===typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Zu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Xu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Ju.indexOf(this._offlineEventListener);-1!==e&&Ju.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Zu.protocol=4;class eh extends Zu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Zu.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Zu.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function s(){r||(r=!0,c(),t.close(),t=null)}const a=e=>{const r=new Error("probe error: "+e);r.transport=t.name,s(),this.emitReserved("upgradeError",r)};function i(){a("transport closed")}function o(){a("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",n),t.once("error",a),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}class th extends eh{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>Ku[e]).filter(e=>!!e)),super(e,t)}}const rh="function"===typeof ArrayBuffer,nh=Object.prototype.toString,sh="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===nh.call(Blob),ah="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===nh.call(File);function ih(e){return rh&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||sh&&e instanceof Blob||ah&&e instanceof File}function oh(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(oh(e[t]))return!0;return!1}if(ih(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return oh(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&oh(e[r]))return!0;return!1}function lh(e){const t=[],r=e.data,n=e;return n.data=ch(r,t),n.attachments=t.length,{packet:n,buffers:t}}function ch(e,t){if(!e)return e;if(ih(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=ch(e[n],t);return r}if("object"===typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=ch(e[n],t));return r}return e}function dh(e,t){return e.data=uh(e.data,t),delete e.attachments,e}function uh(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=uh(e[r],t);else if("object"===typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=uh(e[r],t));return e}const hh=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mh=5;var ph;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ph||(ph={}));class fh{constructor(e){this.replacer=e}encode(e){return e.type!==ph.EVENT&&e.type!==ph.ACK||!oh(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ph.EVENT?ph.BINARY_EVENT:ph.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ph.BINARY_EVENT&&e.type!==ph.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=lh(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}function xh(e){return"[object Object]"===Object.prototype.toString.call(e)}class gh extends ku{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===ph.BINARY_EVENT;r||t.type===ph.BINARY_ACK?(t.type=r?ph.EVENT:ph.ACK,this.reconstructor=new yh(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ih(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===ph[r.type])throw new Error("unknown packet type "+r.type);if(r.type===ph.BINARY_EVENT||r.type===ph.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(n,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!gh.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(fc){return!1}}static isPayloadValid(e,t){switch(e){case ph.CONNECT:return xh(t);case ph.DISCONNECT:return void 0===t;case ph.CONNECT_ERROR:return"string"===typeof t||xh(t);case ph.EVENT:case ph.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===hh.indexOf(t[0]));case ph.ACK:case ph.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yh{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=dh(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vh(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const bh=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jh extends ku{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vh(e,"open",this.onopen.bind(this)),vh(e,"packet",this.onpacket.bind(this)),vh(e,"error",this.onerror.bind(this)),vh(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,r,n;if(bh.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const o={type:ph.EVENT,data:a,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(r=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===r?void 0:r.writable,c=this.connected&&!(null===(n=this.io.engine)||void 0===n?void 0:n._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var r,n=this;const s=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===s)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},s),i=function(){n.io.clearTimeoutFn(a);for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];t.apply(n,r)};i.withError=!0,this.acks[e]=i}emitWithAck(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return new Promise((t,n)=>{const s=(e,r)=>e?n(e):t(r);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){var t=this;let r;"function"===typeof e[e.length-1]&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(n!==t._queue[0])return;if(null!==e)n.tryCount>t._opts.retries&&(t._queue.shift(),r&&r(e));else if(t._queue.shift(),r){for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];r(null,...a)}return n.pending=!1,t._drainQueue()}),this._queue.push(n),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ph.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ph.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ph.EVENT:case ph.BINARY_EVENT:this.onevent(e);break;case ph.ACK:case ph.BINARY_ACK:this.onack(e);break;case ph.DISCONNECT:this.ondisconnect();break;case ph.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(){if(!r){r=!0;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];t.packet({type:ph.ACK,id:e,data:s})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ph.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function wh(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wh.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},wh.prototype.reset=function(){this.attempts=0},wh.prototype.setMin=function(e){this.ms=e},wh.prototype.setMax=function(e){this.max=e},wh.prototype.setJitter=function(e){this.jitter=e};class Nh extends ku{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,_u(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new wh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const s=t.parser||n;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new th(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=vh(t,"open",function(){r.onopen(),e&&e()}),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=vh(t,"error",s);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vh(e,"ping",this.onping.bind(this)),vh(e,"data",this.ondata.bind(this)),vh(e,"error",this.onerror.bind(this)),vh(e,"close",this.onclose.bind(this)),vh(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(fc){this.onclose("parse error",fc)}}ondecoded(e){Su(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new jh(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const kh={};function Sh(e,t){"object"===typeof e&&(t=e,e=void 0);const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=e;r=r||"undefined"!==typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof r?r.protocol+"//"+e:"https://"+e),n=Qu(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,s=r.id,a=r.path,i=kh[s]&&a in kh[s].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new Nh(n,t):(kh[s]||(kh[s]=new Nh(n,t)),o=kh[s]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(Sh,{Manager:Nh,Socket:jh,io:Sh,connect:Sh});let Ch=null;const Eh=()=>{const{pnr:e}=se(),[t]=Le(),r=e||t.get("pnr"),[n,s]=(0,a.useState)(null),[i,o]=(0,a.useState)(null),l=(null===n||void 0===n?void 0:n.tripId)||null,c=(e=>{const[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!Ch||!e)return;const t="trip:".concat(e);return Ch.emit("join",t),Ch.on("position_update",e=>{r(t=>[...t,e])}),s(Ch.connected),Ch.on("connect",()=>s(!0)),Ch.on("disconnect",()=>s(!1)),()=>{Ch.emit("leave",t),Ch.off("position_update"),Ch.off("connect"),Ch.off("disconnect")}},[e]),{positions:t,status:n}})(l);(0,a.useEffect)(()=>{let e=!0;return async function(){}(),()=>{e=!1}},[r]),(0,a.useEffect)(()=>{let e;async function t(){if(!l||null===n||void 0===n||!n.stopId)return;const e=await mc("/api/eta?tripId=".concat(l,"&stopId=").concat(n.stopId));e.ok&&o(e.data)}return t(),e=setInterval(t,2e4),()=>clearInterval(e)},[l,null===n||void 0===n?void 0:n.stopId]);const d=(0,a.useMemo)(()=>(0,Ie.jsx)("span",{className:"inline-flex items-center",children:(0,Ie.jsx)("span",{className:"h-2 w-2 rounded-full ".concat(c?"bg-green-500 animate-pulse":"bg-gray-300")})}),[c]);return(0,Ie.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ticket"}),(0,Ie.jsx)("div",{className:"bg-white rounded-lg shadow p-5",children:r?(0,Ie.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"PNR"}),(0,Ie.jsx)("p",{className:"text-xl font-semibold",children:r}),(0,Ie.jsxs)("div",{className:"mt-2 text-sm text-gray-600 flex items-center gap-2",children:["Live position ",d]}),i&&(0,Ie.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["ETA: ",i.etaMinutes," min"]})]}),(0,Ie.jsx)("div",{className:"shrink-0",children:(0,Ie.jsx)(ru,{value:"GoBus|PNR:".concat(r),size:140,includeMargin:!1})})]}):(0,Ie.jsx)("p",{className:"text-gray-600",children:"No PNR provided."})})]})},Ph=()=>(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,Ie.jsx)("h1",{className:"text-xl font-bold",children:"Conductor \u2013 Duties"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Phase-0 placeholder. Use ETM module when implemented."})]}),Th=()=>(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl shadow p-6",children:[(0,Ie.jsx)("h1",{className:"text-xl font-bold",children:"Driver \u2013 Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Phase-0 placeholder. Driver run flow will appear here."})]}),_h=e=>"\u20b9".concat(Number(e||0).toLocaleString("en-IN")),Ah=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Dh=e=>new Date(e).toLocaleDateString(),Rh=e=>{let{points:t=[],width:r=840,height:n=360}=e;const s=(0,a.useMemo)(()=>{const e=Array.isArray(t)?t:[];return e.map(e=>({x:(e.lng-74)/3*r,y:n-(e.lat-8)/13*n,status:e.status||"running",label:e.label,speed:e.speed||0}))},[t,r,n]);return(0,Ie.jsxs)("svg",{viewBox:"0 0 ".concat(r," ").concat(n),className:"depot-map",children:[(0,Ie.jsx)("path",{d:"M 10 ".concat(n-30," C ").concat(r/4," ").concat(n-90,", ").concat(3*r/4," ").concat(n-90,", ").concat(r-10," ").concat(n-30),fill:"none",stroke:"#bcd9ff",strokeWidth:"8",strokeLinecap:"round"}),(0,Ie.jsx)("path",{d:"M 10 30 C ".concat(r/3," 90, ").concat(2*r/3," 90, ").concat(r-10," 30"),fill:"none",stroke:"#cce8ff",strokeWidth:"8",strokeLinecap:"round"}),s.map((e,t)=>(0,Ie.jsxs)("g",{className:"depot-map-pin",children:[(0,Ie.jsx)("circle",{cx:e.x,cy:e.y,r:8,fill:"running"===e.status?"#26C281":"in_use"===e.status?"#FF9800":"#E53935"}),(0,Ie.jsxs)("text",{x:e.x+12,y:e.y+4,fontSize:"11",fill:"#0f172a",children:[e.label," \u2022 ",Math.round(e.speed),"km/h"]})]},t))]})},Mh=()=>{const{logout:e}=Fe(),[t,r]=(0,a.useState)(!0),[n,s]=(0,a.useState)(null),[i,o]=(0,a.useState)([]),[l,c]=(0,a.useState)({drivers:[],conductors:[]}),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)(()=>(new Date).toISOString().slice(0,10)),[x,g]=(0,a.useState)([]),[y,v]=(0,a.useState)([]),[b,j]=(0,a.useState)({cash:0,online:0,refunds:0,yesterday:0,today:0}),[w,N]=(0,a.useState)({stock:0,usageToday:0,nextRefuel:"",costPerLitre:0}),[k,S]=(0,a.useState)({route:"",status:""}),[C,E]=(0,a.useState)(!1),[P,T]=(0,a.useState)(!1),[_,A]=(0,a.useState)(!1),[D,R]=(0,a.useState)({routeFrom:"",routeTo:"",busId:"",depart:"",arrive:"",fare:""}),[M,L]=(0,a.useState)({tripId:"",driverId:"",conductorId:""}),[I,O]=(0,a.useState)({tripId:"",type:"delay",description:""}),F=async(e,t)=>{try{const t=await fetch(e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(!t.ok)throw new Error("bad");return await t.json()}catch(fc){return t}},B=async()=>{r(!0);const e=await F("/api/depot/overview",{depot:{name:"Kochi Depot",address:"Kaloor, Kochi, Kerala",phone:"+91 98xxx 12xxx",manager:"Anita Varma"},kpis:{revenueToday:125e3,activeTrips:5,idleBuses:2,delays:1,loadFactor:.76,onTime:.8}}),t=await F("/api/depot/buses",[{_id:"101",number:"KL-07-AB-101",type:"AC Seater 2+2",capacity:40,status:"active"},{_id:"102",number:"KL-07-AB-102",type:"Non-AC Seater 2+3",capacity:50,status:"in_use"},{_id:"103",number:"KL-07-AB-103",type:"Sleeper 2+1",capacity:30,status:"maintenance"}]),n=await F("/api/depot/staff",{drivers:[{_id:"d1",name:"Driver A",status:"available"},{_id:"d2",name:"Driver B",status:"on_trip"}],conductors:[{_id:"c1",name:"Conductor A",status:"available"},{_id:"c2",name:"Conductor B",status:"on_trip"}]}),a=await F("/api/depot/trips?date=".concat(p),[{_id:"t1",bus:"101",route:"Kochi \u2192 Kottayam",depart:(new Date).setHours(7,0,0,0),arrive:(new Date).setHours(9,0,0,0),status:"scheduled",fare:220},{_id:"t2",bus:"102",route:"Kochi \u2192 Thrissur",depart:(new Date).setHours(8,0,0,0),arrive:(new Date).setHours(10,0,0,0),status:"running",fare:180}]),i=await F("/api/depot/tracking/live",[{label:"Bus 102",lat:10.02,lng:76.31,speed:46,status:"running"},{label:"Bus 104",lat:9.98,lng:76.35,speed:0,status:"in_use"}]),l=await F("/api/depot/alerts",[{id:"a1",type:"delay",message:"Bus 102 delayed by 12 mins",severity:"warning",at:new Date},{id:"a2",type:"breakdown",message:"Bus 103 reported breakdown",severity:"danger",at:new Date}]),d=await F("/api/depot/bookings?date=".concat(p),[{id:"b1",route:"Kochi \u2192 Kottayam",pax:2,status:"confirmed",time:"08:15",amount:440},{id:"b2",route:"Kochi \u2192 Thrissur",pax:1,status:"refunded",time:"09:10",amount:180}]),h=await F("/api/depot/sales?date=".concat(p),{cash:42e3,online:83e3,refunds:5e3,yesterday:1e5,today:12e4}),f=await F("/api/depot/fuel",{stock:1800,usageToday:220,nextRefuel:"Tomorrow 07:30",costPerLitre:98}),x=null!==e&&void 0!==e&&e.data?e.data:e,y=null!==t&&void 0!==t&&t.data?t.data:t,b=null!==n&&void 0!==n&&n.data?n.data:n,w=null!==a&&void 0!==a&&a.data?a.data:a,k=null!==i&&void 0!==i&&i.data?i.data:i,S=null!==l&&void 0!==l&&l.data?l.data:l,C=null!==d&&void 0!==d&&d.data?d.data:d,E=null!==h&&void 0!==h&&h.data?h.data:h,P=null!==f&&void 0!==f&&f.data?f.data:f;s(x),o(y),c(b),u(w),m(Array.isArray(k)?k:[]),g(S),v(C),j(E),N(P),r(!1)};(0,a.useEffect)(()=>{B();const e=setInterval(async()=>{const e=await F("/api/depot/tracking/live",h);m(e)},15e3);return()=>clearInterval(e)},[p]);if(t||!n||!n.depot||!n.kpis)return(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("div",{className:"depot-skeleton heading"}),(0,Ie.jsx)("div",{className:"depot-skeleton"})]});const z=n.depot||{name:"",address:"",phone:"",manager:""},U=n.kpis||{revenueToday:0,activeTrips:0,idleBuses:0,delays:0,loadFactor:0,onTime:0};return(0,Ie.jsxs)("div",{className:"depot-root",children:[(0,Ie.jsxs)("div",{className:"depot-card depot-header",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"depot-title",children:z.name}),(0,Ie.jsxs)("p",{className:"depot-subtitle",children:[z.address," \u2022 ",z.phone]}),(0,Ie.jsxs)("p",{className:"depot-subtitle",children:["Manager: ",(0,Ie.jsx)("span",{className:"depot-strong",children:z.manager||"\u2014"})]})]}),(0,Ie.jsxs)("div",{className:"depot-actions",children:[(0,Ie.jsx)("button",{onClick:()=>E(!0),className:"btn btn-primary",children:"Schedule Trip"}),(0,Ie.jsx)("button",{onClick:()=>T(!0),className:"btn btn-secondary",children:"Assign Staff"}),(0,Ie.jsx)("button",{onClick:()=>A(!0),className:"btn btn-danger",children:"Log Incident"}),(0,Ie.jsx)("button",{onClick:e,className:"btn btn-outline",children:"Logout"})]})]}),(0,Ie.jsxs)("div",{className:"depot-kpis",children:[(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"Revenue (Today)"}),(0,Ie.jsx)("div",{className:"kpi-value",children:_h(U.revenueToday)})]}),(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"Active Trips"}),(0,Ie.jsx)("div",{className:"kpi-value",children:U.activeTrips})]}),(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"Idle Buses"}),(0,Ie.jsx)("div",{className:"kpi-value",children:U.idleBuses})]}),(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"Delays"}),(0,Ie.jsx)("div",{className:"kpi-value",children:U.delays})]}),(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"Load Factor"}),(0,Ie.jsxs)("div",{className:"kpi-value",children:[Math.round(100*U.loadFactor),"%"]})]}),(0,Ie.jsxs)("div",{className:"kpi-card",children:[(0,Ie.jsx)("div",{className:"kpi-label",children:"On\u2011Time"}),(0,Ie.jsxs)("div",{className:"kpi-value",children:[Math.round(100*U.onTime),"%"]})]})]}),(0,Ie.jsxs)("div",{className:"depot-main",children:[(0,Ie.jsxs)("div",{className:"depot-center",children:[(0,Ie.jsxs)("div",{className:"depot-card depot-calendar",children:[(0,Ie.jsx)("label",{className:"field-label",children:"Select Date"}),(0,Ie.jsx)("input",{type:"date",value:p,onChange:e=>f(e.target.value),className:"field-input"}),(0,Ie.jsx)("div",{className:"spacer"}),(0,Ie.jsx)("button",{className:"btn btn-outline",onClick:()=>{const e=[["Route","Pax","Status","Time","Amount"],...y.map(e=>[e.route,e.pax,e.status,e.time,e.amount])],t=e.map(e=>e.join(",")).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download="report-".concat(p,".csv"),s.click(),URL.revokeObjectURL(n)},children:"Download CSV"})]}),(0,Ie.jsx)("div",{className:"depot-card depot-map-wrap",children:(0,Ie.jsx)(Rh,{points:h})}),(0,Ie.jsxs)("div",{className:"depot-card depot-history",children:[(0,Ie.jsxs)("h3",{className:"section-title",children:["Trips on ",Dh(p)]}),(0,Ie.jsx)("div",{className:"history-list",children:d.map(e=>(0,Ie.jsxs)("div",{className:"history-item",children:[(0,Ie.jsx)("div",{className:"history-route",children:e.route}),(0,Ie.jsxs)("div",{className:"history-meta",children:[Ah(e.depart)," \u2013 ",Ah(e.arrive)," \u2022 ",e.status]})]},e._id))})]})]}),(0,Ie.jsxs)("div",{className:"depot-right",children:[(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Alerts"}),(0,Ie.jsx)("div",{className:"alerts",children:x.map(e=>(0,Ie.jsxs)("div",{className:"alert ".concat(e.severity),children:[(0,Ie.jsx)("div",{className:"alert-msg",children:e.message}),(0,Ie.jsx)("div",{className:"alert-time",children:Ah(e.at)})]},e.id))})]}),(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Bus Status"}),(0,Ie.jsx)("div",{className:"bus-list",children:i.map(e=>(0,Ie.jsxs)("div",{className:"bus-item",children:[(0,Ie.jsx)("div",{className:"bus-id",children:e.number}),(0,Ie.jsx)("div",{className:"bus-badge ".concat(e.status),children:e.status})]},e._id))})]}),(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Staff Roster"}),(0,Ie.jsx)("div",{className:"roster",children:[...l.drivers.map(e=>qe(qe({},e),{},{role:"Driver"})),...l.conductors.map(e=>qe(qe({},e),{},{role:"Conductor"}))].map(e=>(0,Ie.jsxs)("div",{className:"roster-item",children:[(0,Ie.jsx)("div",{className:"avatar",children:(e.name||"?").split(" ").map(e=>e[0]).slice(0,2).join("")}),(0,Ie.jsxs)("div",{className:"roster-info",children:[(0,Ie.jsx)("div",{className:"roster-name",children:e.name}),(0,Ie.jsxs)("div",{className:"roster-meta",children:[e.role," \u2022 ",e.status]})]})]},e._id))})]})]})]}),(0,Ie.jsxs)("div",{className:"depot-bottom",children:[(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsxs)("div",{className:"card-header",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Bookings"}),(0,Ie.jsxs)("div",{className:"filters",children:[(0,Ie.jsx)("input",{placeholder:"Filter by route",className:"field-input",value:k.route,onChange:e=>S(t=>qe(qe({},t),{},{route:e.target.value}))}),(0,Ie.jsxs)("select",{className:"field-input",value:k.status,onChange:e=>S(t=>qe(qe({},t),{},{status:e.target.value})),children:[(0,Ie.jsx)("option",{value:"",children:"All"}),(0,Ie.jsx)("option",{value:"confirmed",children:"Confirmed"}),(0,Ie.jsx)("option",{value:"refunded",children:"Refunded"})]})]})]}),(0,Ie.jsxs)("div",{className:"table",children:[(0,Ie.jsxs)("div",{className:"thead",children:[(0,Ie.jsx)("div",{children:"Route"}),(0,Ie.jsx)("div",{children:"Pax"}),(0,Ie.jsx)("div",{children:"Status"}),(0,Ie.jsx)("div",{children:"Time"}),(0,Ie.jsx)("div",{children:"Amount"})]}),(0,Ie.jsx)("div",{className:"tbody",children:y.filter(e=>(!k.route||e.route.toLowerCase().includes(k.route.toLowerCase()))&&(!k.status||e.status===k.status)).map(e=>(0,Ie.jsxs)("div",{className:"trow",children:[(0,Ie.jsx)("div",{children:e.route}),(0,Ie.jsx)("div",{children:e.pax}),(0,Ie.jsx)("div",{className:"pill ".concat(e.status),children:e.status}),(0,Ie.jsx)("div",{children:e.time}),(0,Ie.jsx)("div",{children:_h(e.amount)})]},e.id))})]})]}),(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Sales & Refunds"}),(0,Ie.jsxs)("div",{className:"sales",children:[(0,Ie.jsxs)("div",{className:"sales-row",children:[(0,Ie.jsx)("div",{children:"Cash"}),(0,Ie.jsx)("div",{className:"sales-value",children:_h(b.cash)})]}),(0,Ie.jsxs)("div",{className:"sales-row",children:[(0,Ie.jsx)("div",{children:"Online"}),(0,Ie.jsx)("div",{className:"sales-value",children:_h(b.online)})]}),(0,Ie.jsxs)("div",{className:"sales-row",children:[(0,Ie.jsx)("div",{children:"Refunds"}),(0,Ie.jsx)("div",{className:"sales-value refund",children:_h(b.refunds)})]}),(0,Ie.jsxs)("div",{className:"barchart",children:[(0,Ie.jsx)("div",{className:"bar y",style:{height:Math.max(20,Math.min(180,b.yesterday/Math.max(1,Math.max(b.yesterday,b.today))*180))},title:"Yesterday: ".concat(_h(b.yesterday))}),(0,Ie.jsx)("div",{className:"bar t",style:{height:Math.max(20,Math.min(180,b.today/Math.max(1,Math.max(b.yesterday,b.today))*180))},title:"Today: ".concat(_h(b.today))}),(0,Ie.jsxs)("div",{className:"legend",children:[(0,Ie.jsx)("span",{className:"dot y"}),"Yesterday ",(0,Ie.jsx)("span",{className:"dot t"}),"Today"]})]})]})]}),(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Fuel Management"}),(0,Ie.jsxs)("div",{className:"fuel",children:[(0,Ie.jsx)("div",{children:"Stock"}),(0,Ie.jsxs)("div",{className:"fuel-value",children:[w.stock," L"]}),(0,Ie.jsx)("div",{children:"Usage Today"}),(0,Ie.jsxs)("div",{className:"fuel-value",children:[w.usageToday," L"]}),(0,Ie.jsx)("div",{children:"Next Refuel"}),(0,Ie.jsx)("div",{className:"fuel-value",children:w.nextRefuel}),(0,Ie.jsx)("div",{children:"Cost/Litre"}),(0,Ie.jsxs)("div",{className:"fuel-value",children:["\u20b9",w.costPerLitre]})]})]}),(0,Ie.jsxs)("div",{className:"depot-card",children:[(0,Ie.jsx)("h3",{className:"section-title",children:"Setup & Configuration"}),(0,Ie.jsxs)("div",{className:"setup",children:[(0,Ie.jsx)("button",{className:"btn btn-outline",children:"Depot Setup"}),(0,Ie.jsx)("button",{className:"btn btn-outline",children:"Vehicle Assignment"}),(0,Ie.jsx)("button",{className:"btn btn-outline",children:"Staff Assignment"}),(0,Ie.jsx)("button",{className:"btn btn-outline",children:"Maintenance Scheduling"})]})]})]})]})},Lh=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ih=Qe("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),Oh=()=>{const[e,t]=(0,a.useState)({totalUsers:0,activeUsers:0,totalTrips:0,runningTrips:0,totalRevenue:0,todayRevenue:0,totalBookings:0,pendingBookings:0}),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)({database:"healthy",api:"healthy",frontend:"healthy",lastCheck:new Date}),[o,l]=(0,a.useState)(!0);(0,a.useEffect)(()=>{c();const e=setInterval(c,3e4);return()=>clearInterval(e)},[]);const c=async()=>{try{l(!0);const h=await fetch("/api/admin/dashboard",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(h.ok){var e,r,s,a,i,o,c,d,u;const l=await h.json();t({totalUsers:(null===(e=l.kpis)||void 0===e?void 0:e.users)||0,activeUsers:(null===(r=l.kpis)||void 0===r?void 0:r.users)||0,totalTrips:(null===(s=l.kpis)||void 0===s?void 0:s.tripsToday)||0,runningTrips:(null===(a=l.kpis)||void 0===a?void 0:a.runningTrips)||0,totalRevenue:(null===(i=l.kpis)||void 0===i?void 0:i.totalRevenue)||0,todayRevenue:(null===(o=l.kpis)||void 0===o?void 0:o.todayRevenue)||0,totalBookings:(null===(c=l.kpis)||void 0===c?void 0:c.totalBookings)||0,pendingBookings:(null===(d=l.kpis)||void 0===d?void 0:d.pendingBookings)||0}),n((null===(u=l.top5Recent)||void 0===u?void 0:u.bookings)||[])}}catch(h){console.error("Error fetching dashboard data:",h)}finally{l(!1)}},d=e=>{let{title:t,value:r,icon:n,color:s,change:a,subtitle:i}=e;return(0,Ie.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,Ie.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:r}),i&&(0,Ie.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:i}),a&&(0,Ie.jsxs)("div",{className:"flex items-center mt-2 text-sm ".concat(a>0?"text-green-600":"text-red-600"),children:[a>0?(0,Ie.jsx)(kd,{className:"w-4 h-4 mr-1"}):(0,Ie.jsx)(kd,{className:"w-4 h-4 mr-1 rotate-180"}),Math.abs(a),"% from last month"]})]}),(0,Ie.jsx)("div",{className:"p-3 rounded-lg ".concat(s),children:(0,Ie.jsx)(n,{className:"w-6 h-6 text-white"})})]})})},u=e=>{let{title:t,description:r,icon:n,action:s,color:a}=e;return(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-all hover:scale-105 cursor-pointer",children:[(0,Ie.jsx)("div",{className:"p-3 rounded-lg ".concat(a," w-fit mb-4"),children:(0,Ie.jsx)(n,{className:"w-6 h-6 text-white"})}),(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),(0,Ie.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:r}),(0,Ie.jsxs)("button",{onClick:s,className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center",children:[t," ",(0,Ie.jsx)(Pd,{className:"w-4 h-4 ml-1"})]})]})};return o?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50",children:(0,Ie.jsx)(Rl,{size:20})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yatrik Admin Dashboard"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your system today."})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["Last updated: ",(new Date).toLocaleTimeString()]})]})]}),(0,Ie.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-200",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsx)(Je,{className:"w-6 h-6 text-blue-600"}),(0,Ie.jsx)("h2",{className:"text-xl font-semibold text-blue-900",children:"System Health"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.database?"bg-green-500":"bg-red-500")}),(0,Ie.jsx)("span",{className:"text-sm text-gray-700",children:"Database"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.api?"bg-green-500":"bg-red-500")}),(0,Ie.jsx)("span",{className:"text-sm text-gray-700",children:"API"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("healthy"===s.frontend?"bg-green-500":"bg-red-500")}),(0,Ie.jsx)("span",{className:"text-sm text-gray-700",children:"Frontend"})]})]})]})}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ie.jsx)(d,{title:"Total Users",value:e.totalUsers.toLocaleString(),icon:tt,color:"bg-blue-500",change:12,subtitle:"Active accounts"}),(0,Ie.jsx)(d,{title:"Running Trips",value:e.runningTrips,icon:Xe,color:"bg-green-500",change:8,subtitle:"Currently active"}),(0,Ie.jsx)(d,{title:"Today's Revenue",value:"\u20b9".concat(e.todayRevenue.toLocaleString()),icon:ot,color:"bg-yellow-500",change:15,subtitle:"Daily earnings"}),(0,Ie.jsx)(d,{title:"Pending Bookings",value:e.pendingBookings,icon:Wl,color:"bg-red-500",change:-5,subtitle:"Awaiting confirmation"})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Overview"}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(et,{className:"w-5 h-5 text-gray-400"}),(0,Ie.jsx)("span",{className:"text-sm text-gray-500",children:"Last 7 days"})]})]}),(0,Ie.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)(et,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"Revenue chart will be displayed here"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"Integration with chart library required"})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"User Activity"}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(Ih,{className:"w-5 h-5 text-gray-400"}),(0,Ie.jsx)("span",{className:"text-sm text-gray-500",children:"Real-time"})]})]}),(0,Ie.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)(Ih,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"User activity chart will be displayed here"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"Integration with chart library required"})]})})]})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Quick Actions"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ie.jsx)(u,{title:"Add User",description:"Create new user accounts with specific roles and permissions",icon:tt,color:"bg-blue-500",action:()=>window.location.href="/admin/users"}),(0,Ie.jsx)(u,{title:"Manage Routes",description:"Add, edit, or remove bus routes and schedules",icon:rt,color:"bg-green-500",action:()=>window.location.href="/admin/routes"}),(0,Ie.jsx)(u,{title:"Schedule Trip",description:"Create new trips with specific buses and conductors",icon:nt,color:"bg-purple-500",action:()=>window.location.href="/admin/trips"}),(0,Ie.jsx)(u,{title:"View Reports",description:"Access detailed analytics and performance reports",icon:et,color:"bg-orange-500",action:()=>window.location.href="/admin/reports"})]})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activities"}),(0,Ie.jsx)("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"})]}),(0,Ie.jsx)("div",{className:"space-y-4",children:r.length>0?r.map((e,t)=>{var r,n;return(0,Ie.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,Ie.jsx)(tt,{className:"w-5 h-5 text-blue-600"})}),(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:["New booking created by ",(null===(r=e.user)||void 0===r?void 0:r.name)||"Unknown User"]}),(0,Ie.jsxs)("p",{className:"text-sm text-gray-500",children:["Trip: ",(null===(n=e.trip)||void 0===n?void 0:n.routeId)||"Unknown Route"," - ",new Date(e.createdAt).toLocaleString()]})]}),(0,Ie.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleTimeString()})]},t)}):(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)(Tl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"No recent activities"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"Activities will appear here as they happen"})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"System Alerts"}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(Wl,{className:"w-5 h-5 text-yellow-500"}),(0,Ie.jsx)("span",{className:"text-sm text-yellow-600 font-medium",children:"2 Active Alerts"})]})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,Ie.jsx)(Wl,{className:"w-5 h-5 text-yellow-600"}),(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsx)("p",{className:"text-sm font-medium text-yellow-800",children:"High CPU Usage"}),(0,Ie.jsx)("p",{className:"text-sm text-yellow-700",children:"Server CPU usage is at 85% - consider scaling"})]}),(0,Ie.jsx)("span",{className:"text-sm text-yellow-600",children:"2 min ago"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-red-50 rounded-lg border border-red-200",children:[(0,Ie.jsx)(Wl,{className:"w-5 h-5 text-red-600"}),(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsx)("p",{className:"text-sm font-medium text-red-800",children:"Database Connection Issues"}),(0,Ie.jsx)("p",{className:"text-sm text-red-700",children:"Multiple failed connection attempts detected"})]}),(0,Ie.jsx)("span",{className:"text-sm text-red-600",children:"15 min ago"})]})]})]})]})},Fh=Qe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Bh=Qe("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),zh=()=>{var e,t,r,n,s,i,o;const[l,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{y()},[]);const y=async()=>{try{u(!0);const e=await mc("/api/admin/config");c(e),g(JSON.parse(JSON.stringify(e)))}catch(e){console.error("Failed to fetch config:",e)}finally{u(!1)}},v=()=>!(!x||!l)&&JSON.stringify(x)!==JSON.stringify(l),b=(e,t)=>{const r=e.split(".");c(e=>{const n=qe({},e);let s=n;for(let t=0;t<r.length-1;t++)s=s[r[t]];return s[r[r.length-1]]=t,n})};return d?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-accent"})}):(0,Ie.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,Ie.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,Ie.jsx)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Configuration"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage global system settings and features"})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[v()&&(0,Ie.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-xl hover:bg-yellow-200 transition-colors",children:[(0,Ie.jsx)(Wl,{className:"w-4 h-4"}),"View Changes"]}),(0,Ie.jsxs)("button",{onClick:()=>{c(JSON.parse(JSON.stringify(x))),f(!1)},disabled:!v(),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),"Reset"]}),(0,Ie.jsxs)("button",{onClick:async()=>{try{m(!0),await mc("/api/admin/config",{method:"PUT",body:JSON.stringify(l)}),g(JSON.parse(JSON.stringify(l))),f(!1),alert("Configuration saved successfully!")}catch(e){console.error("Failed to save config:",e),alert("Failed to save configuration")}finally{m(!1)}},disabled:!v()||h,className:"flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-xl hover:bg-accent-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h?(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):(0,Ie.jsx)(Fh,{className:"w-4 h-4"}),h?"Saving...":"Save Changes"]})]})]})}),(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Ie.jsx)(it,{className:"w-5 h-5 text-accent"}),"Authentication Settings"]}),(0,Ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"JWT Expiry (minutes)"}),(0,Ie.jsx)("input",{type:"number",min:"5",max:"1440",value:(null===l||void 0===l?void 0:l.jwtExpiryMinutes)||30,onChange:e=>b("jwtExpiryMinutes",parseInt(e.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-accent focus:border-transparent"}),(0,Ie.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Token validity period in minutes (5-1440)"})]})})]}),(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Ie.jsx)(Bh,{className:"w-5 h-5 text-accent"}),"CORS Origins"]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Origins (one per line)"}),(0,Ie.jsx)("textarea",{value:(null===l||void 0===l||null===(e=l.corsOrigins)||void 0===e?void 0:e.join("\n"))||"",onChange:e=>b("corsOrigins",e.target.value.split("\n").filter(e=>e.trim())),rows:4,placeholder:"http://localhost:3000\nhttps://yourdomain.com",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-accent focus:border-transparent"}),(0,Ie.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"One origin per line. Leave empty to allow all origins."})]})]}),(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Ie.jsx)(ct,{className:"w-5 h-5 text-accent"}),"Feature Toggles"]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)(at,{className:"w-5 h-5 text-blue-600"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Passenger Module"})]}),(0,Ie.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:(null===l||void 0===l||null===(t=l.features)||void 0===t?void 0:t.pax)||!1,onChange:e=>b("features.pax",e.target.checked),className:"sr-only peer"}),(0,Ie.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)(Xe,{className:"w-5 h-5 text-green-600"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Driver Module"})]}),(0,Ie.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:(null===l||void 0===l||null===(r=l.features)||void 0===r?void 0:r.driver)||!1,onChange:e=>b("features.driver",e.target.checked),className:"sr-only peer"}),(0,Ie.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"})]})]})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)(at,{className:"w-5 h-5 text-purple-600"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Conductor Module"})]}),(0,Ie.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:(null===l||void 0===l||null===(n=l.features)||void 0===n?void 0:n.occ)||!1,onChange:e=>b("features.occ",e.target.checked),className:"sr-only peer"}),(0,Ie.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)(st,{className:"w-5 h-5 text-orange-600"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"ETM Module"})]}),(0,Ie.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:(null===l||void 0===l||null===(s=l.features)||void 0===s?void 0:s.etm)||!1,onChange:e=>b("features.etm",e.target.checked),className:"sr-only peer"}),(0,Ie.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"})]})]})]})]})]}),(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[(0,Ie.jsx)(Wl,{className:"w-5 h-5 text-accent"}),"Maintenance Mode"]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Enable Maintenance Mode"}),(0,Ie.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,Ie.jsx)("input",{type:"checkbox",checked:(null===l||void 0===l||null===(i=l.maintenance)||void 0===i?void 0:i.enabled)||!1,onChange:e=>b("maintenance.enabled",e.target.checked),className:"sr-only peer"}),(0,Ie.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-accent rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-accent"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maintenance Message"}),(0,Ie.jsx)("textarea",{value:(null===l||void 0===l||null===(o=l.maintenance)||void 0===o?void 0:o.message)||"",onChange:e=>b("maintenance.message",e.target.value),rows:3,placeholder:"System is under maintenance. Please try again later.",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-accent focus:border-transparent"}),(0,Ie.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Message displayed to users when maintenance mode is enabled"})]})]})]})]})]}),p&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,Ie.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Configuration Changes"}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ie.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"Before:"}),(0,Ie.jsx)("pre",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:JSON.stringify(x,null,2)})]}),(0,Ie.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ie.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:"After:"}),(0,Ie.jsx)("pre",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:JSON.stringify(l,null,2)})]})]}),(0,Ie.jsx)("div",{className:"flex justify-end gap-3 mt-6",children:(0,Ie.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors",children:"Close"})})]})})]})},Uh=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(rt,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Fare Policy Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage fare policies and pricing rules for all routes"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Fare policy management interface will be implemented here. This will include route-based pricing, seasonal rates, and discount rules."]})})]})})}),Vh=Qe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Gh=Qe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Wh=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Hh=Qe("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),qh=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Kh=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)([]),[f,x]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)({name:"",email:"",phone:"",role:"passenger",status:"active",password:"",address:"",emergencyContact:"",dateOfBirth:"",gender:""});(0,a.useEffect)(()=>{E()},[]),(0,a.useEffect)(()=>{P()},[e,o,c,u]);const E=async()=>{try{i(!0);const e=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok){const r=await e.json();t(r.users||[])}else console.error("Failed to fetch users")}catch(e){console.error("Error fetching users:",e)}finally{i(!1)}},P=()=>{if(!Array.isArray(e))return void n([]);let t=[...e];o&&(t=t.filter(e=>{var t,r,n;return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.phone)||void 0===n?void 0:n.includes(o))})),"all"!==c&&(t=t.filter(e=>e.role===c)),"all"!==u&&(t=t.filter(e=>e.status===u)),n(t)},T=()=>{C({name:"",email:"",phone:"",role:"passenger",status:"active",password:"",address:"",emergencyContact:"",dateOfBirth:"",gender:""})},_=e=>{const t={admin:{color:"bg-red-100 text-red-800 border-red-200",label:"Admin",icon:it},passenger:{color:"bg-blue-100 text-blue-800 border-blue-200",label:"Passenger",icon:tt},driver:{color:"bg-green-100 text-green-800 border-green-200",label:"Driver",icon:Xe},conductor:{color:"bg-purple-100 text-purple-800 border-purple-200",label:"Conductor",icon:rt},depot_manager:{color:"bg-orange-100 text-orange-800 border-orange-200",label:"Depot Manager",icon:st}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:e,icon:tt},r=t.icon;return(0,Ie.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(t.color," flex items-center gap-1"),children:[(0,Ie.jsx)(r,{className:"w-3 h-3"}),t.label]})},A=e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",label:"Active",icon:Hl},inactive:{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Inactive",icon:Vh},suspended:{color:"bg-red-100 text-red-800 border-red-200",label:"Suspended",icon:Gh},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",label:"Pending",icon:Tl}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:e,icon:Wl},r=t.icon;return(0,Ie.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(t.color," flex items-center gap-1"),children:[(0,Ie.jsx)(r,{className:"w-3 h-3"}),t.label]})};return s?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50",children:(0,Ie.jsx)(Rl,{size:20})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yatrik User Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage all users and their roles in the system"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("button",{onClick:()=>{const e=[["Name","Email","Phone","Role","Status","Address","Created Date"].join(","),...r.map(e=>[e.name,e.email,e.phone,e.role,e.status,e.address,new Date(e.createdAt).toLocaleDateString()].join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="users_".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(n),alert("Users exported successfully")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(zl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Export"})]}),(0,Ie.jsxs)("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Add User"})]})]})]}),(0,Ie.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ie.jsx)("div",{className:"flex-1",children:(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search users by name, email, phone, or address...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Ie.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Roles"}),(0,Ie.jsx)("option",{value:"admin",children:"Admin"}),(0,Ie.jsx)("option",{value:"passenger",children:"Passenger"}),(0,Ie.jsx)("option",{value:"driver",children:"Driver"}),(0,Ie.jsx)("option",{value:"conductor",children:"Conductor"}),(0,Ie.jsx)("option",{value:"depot_manager",children:"Depot Manager"})]}),(0,Ie.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Ie.jsx)("option",{value:"pending",children:"Pending"})]}),(0,Ie.jsxs)("button",{onClick:E,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Ie.jsx)("div",{className:"overflow-x-auto",children:(0,Ie.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ie.jsx)("thead",{className:"bg-gray-50",children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,Ie.jsx)("input",{type:"checkbox",checked:Array.isArray(r)&&m.length===r.length&&r.length>0,onChange:e=>{e.target.checked&&Array.isArray(r)?p(r.map(e=>e._id)):p([])},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ie.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(r)&&r.map(e=>{var t,r;return(0,Ie.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsx)("input",{type:"checkbox",checked:m.includes(e._id),onChange:t=>{t.target.checked?p([...m,e._id]):p(m.filter(t=>t!==e._id))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-lg",children:(null===(t=e.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U"})}),(0,Ie.jsxs)("div",{className:"ml-4",children:[(0,Ie.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-8)]}),e.address&&(0,Ie.jsxs)("div",{className:"text-xs text-gray-400 flex items-center mt-1",children:[(0,Ie.jsx)(Al,{className:"w-3 h-3 mr-1"}),e.address]})]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:_(e.role)}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:A(e.status)}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"space-y-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Ie.jsx)(Wh,{className:"w-4 h-4 mr-2 text-gray-400"}),e.email]}),(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Ie.jsx)(Dl,{className:"w-4 h-4 mr-2 text-gray-400"}),e.phone]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)(nt,{className:"w-4 h-4 mr-2 text-gray-400"}),new Date(e.createdAt).toLocaleDateString()]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{b(e)})(e),className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{y(e),C({name:e.name||"",email:e.email||"",phone:e.phone||"",role:e.role||"passenger",status:e.status||"active",password:"",address:e.address||"",emergencyContact:e.emergencyContact||"",dateOfBirth:e.dateOfBirth||"",gender:e.gender||""})})(e),className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"Edit User",children:(0,Ie.jsx)(Hh,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{k(e),w(!0)})(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete User",children:(0,Ie.jsx)(qh,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),(!Array.isArray(r)||0===r.length)&&(0,Ie.jsxs)("div",{className:"text-center py-12",children:[(0,Ie.jsx)(tt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:Array.isArray(r)?"No users found":"Loading users..."}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-6",children:Array.isArray(r)?o||"all"!==c||"all"!==u?"Try adjusting your filters or search terms.":"Get started by creating your first user.":"Please wait while we fetch user data..."}),Array.isArray(r)&&0===r.length&&(0,Ie.jsxs)("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4 inline mr-2"}),"Add First User"]})]})]}),(f||g)&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Ie.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:g?"Edit User":"Create New User"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-2",children:g?"Update user information and permissions":"Add a new user to the system"})]}),(0,Ie.jsxs)("form",{onSubmit:g?async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users/".concat(g._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(S)});if(e.ok)alert("User updated successfully"),y(null),T(),E();else{const t=await e.json();alert(t.error||"Failed to update user")}}catch(t){console.error("Error updating user:",t),alert("Error updating user")}}:async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(S)});if(e.ok)alert("User created successfully"),x(!1),T(),l(""),d("all"),h("all"),E();else{const t=await e.json();alert(t.error||"Failed to create user")}}catch(t){console.error("Error creating user:",t),alert("Error creating user")}},className:"p-6 space-y-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:S.name,onChange:e=>C(t=>qe(qe({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Ie.jsx)("input",{type:"email",required:!0,value:S.email,onChange:e=>C(t=>qe(qe({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),(0,Ie.jsx)("input",{type:"tel",required:!0,value:S.phone,onChange:e=>C(t=>qe(qe({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),(0,Ie.jsxs)("select",{required:!0,value:S.role,onChange:e=>C(t=>qe(qe({},t),{},{role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"passenger",children:"Passenger"}),(0,Ie.jsx)("option",{value:"driver",children:"Driver"}),(0,Ie.jsx)("option",{value:"conductor",children:"Conductor"}),(0,Ie.jsx)("option",{value:"depot_manager",children:"Depot Manager"}),(0,Ie.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Ie.jsxs)("select",{value:S.status,onChange:e=>C(t=>qe(qe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Ie.jsx)("option",{value:"pending",children:"Pending"})]})]}),!g&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,Ie.jsx)("input",{type:"password",required:!0,value:S.password,onChange:e=>C(t=>qe(qe({},t),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{x(!1),y(null),T()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:g?"Update User":"Create User"})]})]})]})}),j&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ie.jsx)(Wl,{className:"w-6 h-6 text-red-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"This action cannot be undone."})]})]}),(0,Ie.jsxs)("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",(0,Ie.jsx)("strong",{children:null===N||void 0===N?void 0:N.name}),"? This will permanently remove their account and all associated data."]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Ie.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(N)try{const e=await fetch("/api/admin/users/".concat(N._id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok)alert("User deleted successfully"),w(!1),k(null),E();else{const t=await e.json();alert(t.error||"Failed to delete user")}}catch(e){console.error("Error deleting user:",e),alert("Error deleting user")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete User"})]})]})})})]})},Yh=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toString().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},$h=(e,t)=>{const r=Yh(e)||Yh(t)||"depot";return"depot-".concat(r,"@yatrik.com")},Qh=()=>{var e,t,r,n,s,i,o,l;const[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[m,p]=(0,a.useState)(!0),[f,x]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)(null),[S,C]=(0,a.useState)(!1),[E,P]=(0,a.useState)(null),[T,_]=(0,a.useState)(!1),[A,D]=(0,a.useState)(""),[R,M]=(0,a.useState)("all"),[L,I]=(0,a.useState)({code:"",name:"",address:{street:"",city:"",state:"",pincode:""},contact:{phone:"",email:""},manager:"",capacity:{buses:0,staff:0},status:"active",createLogin:!1,login:{email:"",password:""}});(0,a.useEffect)(()=>{if(!L.createLogin)return;const e=$h(L.code,L.name);I(t=>qe(qe({},t),{},{login:qe(qe({},t.login),{},{email:e})}))},[L.createLogin,L.name,L.code]),(0,a.useEffect)(()=>{O()},[T]);const O=async()=>{try{p(!0);const e=localStorage.getItem("token");if(!e)return console.error("\u274c No authentication token found"),void alert("Authentication token missing. Please login again.");const[t,r]=await Promise.all([fetch("/api/admin/depots?showAll=".concat(T),{headers:{Authorization:"Bearer ".concat(e)}}),fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(e)}})]);if(t.ok){const e=await t.json();d(e.depots||[])}if(r.ok){const e=await r.json();h(e.users||[])}}catch(e){console.error("\u274c Error fetching data:",e),alert("Network error while fetching data. Please check your connection.")}finally{p(!1)}},F=e=>{x(e),I({code:e.code||"",name:e.name||"",address:e.address||{street:"",city:"",state:"",pincode:""},contact:e.contact||{phone:"",email:""},manager:e.manager||"",capacity:e.capacity||{buses:0,staff:0},status:e.status||"active",createLogin:!1,login:{email:"",password:""}})},B=()=>{I({code:"",name:"",address:{street:"",city:"",state:"",pincode:""},contact:{phone:"",email:""},manager:"",capacity:{buses:0,staff:0},status:"active",createLogin:!1,login:{email:"",password:""}})},z=e=>u.filter(t=>t.depotId===e&&["conductor","driver","depot_manager"].includes(t.role)),U=e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",icon:Hl},inactive:{color:"bg-red-100 text-red-800 border-red-200",icon:Gh}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Wl},r=t.icon;return(0,Ie.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(t.color," flex items-center gap-1"),children:[(0,Ie.jsx)(r,{className:"w-3 h-3"}),e]})},V=e=>{const t={conductor:{color:"bg-purple-100 text-purple-800 border-purple-200",label:"Conductor"},driver:{color:"bg-green-100 text-green-800 border-green-200",label:"Driver"},depot_manager:{color:"bg-orange-100 text-orange-800 border-orange-200",label:"Depot Manager"}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:e};return(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(t.color),children:t.label})};return m?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Depot Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage bus depots and provision depot manager login"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("button",{onClick:O,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",title:"Refresh data",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]}),(0,Ie.jsxs)("button",{onClick:()=>{const e=[["Depot Code","Depot Name","Address","Phone","Email","Manager","Capacity","Status","Conductors","Drivers","Depot Managers"].join(","),...c.map(e=>{var t,r,n,s;const a=z(e._id),i=a.filter(e=>"conductor"===e.role).length,o=a.filter(e=>"driver"===e.role).length,l=a.filter(e=>"depot_manager"===e.role).length,c=null!==(t=e.address)&&void 0!==t&&t.street?"".concat(e.address.street,", ").concat(e.address.city,", ").concat(e.address.state," - ").concat(e.address.pincode):"Address not available";return[e.code,e.name,c,(null===(r=e.contact)||void 0===r?void 0:r.phone)||"N/A",(null===(n=e.contact)||void 0===n?void 0:n.email)||"N/A",e.manager||"N/A",null!==(s=e.capacity)&&void 0!==s&&s.buses?"".concat(e.capacity.buses," buses"):"N/A",e.status,i,o,l].join(",")})].join("\n"),t=new Blob([e],{type:"text/csv"}),r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="depots_".concat((new Date).toISOString().split("T")[0],".csv"),n.click(),window.URL.revokeObjectURL(r),alert("Depot data exported successfully")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",title:"Export depot data",children:[(0,Ie.jsx)(zl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Export"})]}),(0,Ie.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Add Depot"})]})]})]}),(0,Ie.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ie.jsx)("div",{className:"flex-1",children:(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search depots by name, code, or address...",value:A,onChange:e=>D(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Ie.jsxs)("select",{value:R,onChange:e=>M(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Roles"}),(0,Ie.jsx)("option",{value:"conductor",children:"Conductors"}),(0,Ie.jsx)("option",{value:"driver",children:"Drivers"}),(0,Ie.jsx)("option",{value:"depot_manager",children:"Depot Managers"})]}),(0,Ie.jsxs)("select",{value:L.status,onChange:e=>I(t=>qe(qe({},t),{},{status:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,Ie.jsxs)("button",{onClick:()=>_(!T),className:"px-4 py-2 border rounded-lg transition-colors flex items-center space-x-2 ".concat(T?"bg-gray-800 text-white border-gray-800 hover:bg-gray-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),title:T?"Hide inactive depots":"Show inactive depots",children:[(0,Ie.jsx)(Ad,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:T?"Hide Inactive":"Show Inactive"})]}),(0,Ie.jsxs)("button",{onClick:O,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]})]})}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,Ie.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Ie.jsx)("div",{className:"text-blue-600 mt-0.5",children:(0,Ie.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ie.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Ie.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Ie.jsx)("p",{className:"font-medium",children:"How deletion works:"}),(0,Ie.jsxs)("p",{children:["\u2022 ",(0,Ie.jsx)("strong",{children:"Delete"})," = Depot becomes inactive (soft delete)"]}),(0,Ie.jsxs)("p",{children:["\u2022 ",(0,Ie.jsx)("strong",{children:"Refresh"})," = Only active depots are shown by default"]}),(0,Ie.jsxs)("p",{children:["\u2022 ",(0,Ie.jsx)("strong",{children:"Show Inactive"})," = Toggle to see deleted depots"]}),(0,Ie.jsxs)("p",{children:["\u2022 ",(0,Ie.jsx)("strong",{children:"Restore"})," = Reactivate deleted depots"]})]})]})}),(0,Ie.jsx)("div",{className:"space-y-4",children:c.filter(e=>{var t,r,n,s,a,i,o,l;return!A||e.name.toLowerCase().includes(A.toLowerCase())||e.code.toLowerCase().includes(A.toLowerCase())||(null===(t=e.address)||void 0===t||null===(r=t.street)||void 0===r?void 0:r.toLowerCase().includes(A.toLowerCase()))||(null===(n=e.address)||void 0===n||null===(s=n.city)||void 0===s?void 0:s.toLowerCase().includes(A.toLowerCase()))||(null===(a=e.address)||void 0===a||null===(i=a.state)||void 0===i?void 0:i.toLowerCase().includes(A.toLowerCase()))||(null===(o=e.address)||void 0===o||null===(l=o.pincode)||void 0===l?void 0:l.toLowerCase().includes(A.toLowerCase()))}).map(e=>{var t,r,n;const s=z(e._id),a="all"===R?s:s.filter(e=>e.role===R);return(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Ie.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:(0,Ie.jsx)(st,{className:"w-6 h-6 text-white"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Ie.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.name}),U(e.status)]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Ie.jsxs)("span",{className:"font-medium",children:["Code: ",e.code]}),(0,Ie.jsxs)("span",{className:"flex items-center",children:[(0,Ie.jsx)(Al,{className:"w-4 h-4 mr-1"}),null!==(t=e.address)&&void 0!==t&&t.street?"".concat(e.address.street,", ").concat(e.address.city,", ").concat(e.address.state," - ").concat(e.address.pincode):"Address not available"]}),(null===(r=e.contact)||void 0===r?void 0:r.phone)&&(0,Ie.jsxs)("span",{className:"flex items-center",children:[(0,Ie.jsx)(Dl,{className:"w-4 h-4 mr-1"}),e.contact.phone]})]})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("div",{className:"text-right",children:[(0,Ie.jsx)("div",{className:"text-sm text-gray-500",children:"Capacity"}),(0,Ie.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:null!==(n=e.capacity)&&void 0!==n&&n.buses?"".concat(e.capacity.buses," buses"):"N/A"})]}),(0,Ie.jsxs)("div",{className:"text-right",children:[(0,Ie.jsx)("div",{className:"text-sm text-gray-500",children:"Staff"}),(0,Ie.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:s.length})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("button",{onClick:()=>F(e),className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"Edit Depot",children:(0,Ie.jsx)(Hh,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{k(e),w(!0)})(e),className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View Depot",children:(0,Ie.jsx)(Ad,{className:"w-4 h-4"})}),"active"===e.status?(0,Ie.jsx)("button",{onClick:()=>(e=>{P(e),C(!0)})(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Depot",children:(0,Ie.jsx)(qh,{className:"w-4 h-4"})}):(0,Ie.jsx)("button",{onClick:()=>(async e=>{try{const t=await fetch("/api/admin/depots/".concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(qe(qe({},e),{},{status:"active"}))});if(t.ok)d(t=>t.map(t=>t._id===e._id?qe(qe({},t),{},{status:"active"}):t)),alert("Depot restored successfully");else{const e=await t.json();alert(e.error||"Failed to restore depot")}}catch(t){console.error("Error restoring depot:",t),alert("Error restoring depot")}})(e),className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"Restore Depot",children:(0,Ie.jsx)(Hl,{className:"w-4 h-4"})})]})]})]})}),a.length>0?(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Assigned Staff"}),(0,Ie.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>{var t,r;return(0,Ie.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,Ie.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-sm",children:(null===(t=e.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"U"})}),(0,Ie.jsx)("div",{children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,Ie.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.email,")"]})]})})]})}),(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[V(e.role),U(e.status)]}),(0,Ie.jsx)("div",{className:"mt-3 text-xs text-gray-500",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)(Dl,{className:"w-3 h-3 mr-1"}),e.phone]})})]},e._id)})})]}):(0,Ie.jsxs)("div",{className:"p-6 text-center",children:[(0,Ie.jsx)(tt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"all"===R?"No staff assigned to this depot":"No ".concat(R,"s assigned to this depot")}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Assign staff members to get started"})]})]},e._id)})}),0===c.length&&(0,Ie.jsxs)("div",{className:"text-center py-12",children:[(0,Ie.jsx)(st,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No depots found"}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-6",children:"Get started by creating your first depot"}),(0,Ie.jsxs)("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4 inline mr-2"}),"Add First Depot"]})]}),(g||f)&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Ie.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Edit Depot":"Create New Depot"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-2",children:f?"Update depot information":"Add a new depot to the system"})]}),(0,Ie.jsxs)("form",{onSubmit:f?async e=>{if(e.preventDefault(),L.code&&L.name&&L.contact.phone)try{const e={code:L.code,name:L.name,address:{street:L.address.street||"Main Street",city:L.address.city||"City",state:L.address.state||"State",pincode:L.address.pincode||"000000"},contact:{phone:L.contact.phone,email:L.contact.email||""},manager:L.manager||"",capacity:{buses:parseInt(L.capacity.buses)||0,staff:parseInt(L.capacity.staff)||0},status:L.status},t=await fetch("/api/admin/depots/".concat(f._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(t.ok){const e=await t.json();d(t=>t.map(t=>t._id===f._id?e.depot:t)),alert("Depot updated successfully"),x(null),B()}else{const e=await t.json();alert(e.error||"Failed to update depot")}}catch(t){console.error("Error updating depot:",t),alert("Error updating depot")}else alert("Please fill in all required fields (Code, Name, and Phone)")}:async e=>{if(e.preventDefault(),L.code&&L.name&&L.contact.phone)try{const e={code:L.code,name:L.name,address:{street:L.address.street||"Main Street",city:L.address.city||"City",state:L.address.state||"State",pincode:L.address.pincode||"000000"},contact:{phone:L.contact.phone,email:L.contact.email||""},manager:L.manager||"",capacity:{buses:parseInt(L.capacity.buses)||0,staff:parseInt(L.capacity.staff)||0},status:L.status},s=await fetch("/api/admin/depots",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)});if(s.ok){var t;const e=await s.json(),n=(null===e||void 0===e?void 0:e.depot)||(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.depot)||(null===e||void 0===e?void 0:e.data)||e,a=(null===n||void 0===n?void 0:n._id)||(null===n||void 0===n?void 0:n.id);if(d(e=>[n,...e]),L.createLogin){const t=L.login.email||$h(L.code,L.name),n=L.login.password;if(!n||n.length<8)alert("Please set a temporary password (min 8 chars) for the depot login.");else if(a)try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:L.manager||"".concat(L.name," Manager"),email:t,password:n,role:"depot_manager",depotId:a,status:"active"})});if(e.ok)alert("Depot created and login provisioned: ".concat(t));else{let t={};try{t=await e.json()}catch(r){}console.error("Failed to create depot login:",t),alert(t.error||t.message||"Depot created, but failed to create login. Check email uniqueness and password policy.")}}catch(Im){console.error("Network error creating depot login:",Im),alert("Depot created, but network error while creating login.")}else console.error("Could not resolve depotId from create response:",e),alert("Depot created, but could not create login because depotId was missing in the response.")}else alert("Depot created successfully");y(!1),B()}else{let e={};try{e=await s.json()}catch(n){}console.error("Error response creating depot:",e),alert(e.error||e.message||"Failed to create depot")}}catch(s){console.error("Error creating depot:",s),alert("Error creating depot")}else alert("Please fill in all required fields (Code, Name, and Phone)")},className:"p-6 space-y-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Depot Code *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:L.code,onChange:e=>I(t=>qe(qe({},t),{},{code:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., TVM, BLR"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Depot Name *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:L.name,onChange:e=>I(t=>qe(qe({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Trivandrum Depot"})]}),(0,Ie.jsxs)("div",{className:"md:col-span-2",children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),(0,Ie.jsx)("textarea",{required:!0,value:L.address.street,onChange:e=>I(t=>qe(qe({},t),{},{address:qe(qe({},t.address),{},{street:e.target.value})})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter street address"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:L.address.city,onChange:e=>I(t=>qe(qe({},t),{},{address:qe(qe({},t.address),{},{city:e.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter city name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:L.address.state,onChange:e=>I(t=>qe(qe({},t),{},{address:qe(qe({},t.address),{},{state:e.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter state name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pincode *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:L.address.pincode,onChange:e=>I(t=>qe(qe({},t),{},{address:qe(qe({},t.address),{},{pincode:e.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter pincode",pattern:"[1-9][0-9]{5}",title:"Please enter a valid 6-digit pincode"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),(0,Ie.jsx)("input",{type:"tel",required:!0,value:L.contact.phone,onChange:e=>I(t=>qe(qe({},t),{},{contact:qe(qe({},t.contact),{},{phone:e.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number",pattern:"[6-9][0-9]{9}",title:"Please enter a valid 10-digit phone number starting with 6-9"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,Ie.jsx)("input",{type:"email",value:L.login.email,onChange:e=>I(t=>qe(qe({},t),{},{login:qe(qe({},t.login),{},{email:e.target.value})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address",readOnly:!0})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manager"}),(0,Ie.jsx)("input",{type:"text",value:L.manager,onChange:e=>I(t=>qe(qe({},t),{},{manager:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter manager name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bus Capacity"}),(0,Ie.jsx)("input",{type:"number",min:"0",value:L.capacity.buses,onChange:e=>I(t=>qe(qe({},t),{},{capacity:qe(qe({},t.capacity),{},{buses:parseInt(e.target.value)||0})})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter bus capacity"})]})]}),(0,Ie.jsxs)("div",{className:"rounded-lg border border-gray-200 p-4 bg-gray-50",children:[(0,Ie.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm font-medium text-gray-700",children:[(0,Ie.jsx)("input",{type:"checkbox",className:"rounded",checked:L.createLogin,onChange:e=>I(t=>qe(qe({},t),{},{createLogin:e.target.checked}))}),"Create Depot Manager login now"]}),L.createLogin&&(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Depot Login Email *"}),(0,Ie.jsx)("input",{type:"email",required:!0,value:L.login.email,onChange:e=>I(t=>qe(qe({},t),{},{login:qe(qe({},t.login),{},{email:e.target.value})})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"manager@depot.com"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Temporary Password *"}),(0,Ie.jsx)("input",{type:"password",required:!0,value:L.login.password,onChange:e=>I(t=>qe(qe({},t),{},{login:qe(qe({},t.login),{},{password:e.target.value})})),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Set temp password"}),(0,Ie.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Share these credentials with the depot. On first login, they\u2019ll be redirected to the Depot Dashboard."})]})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{y(!1),x(null),B()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f?"Update Depot":"Create Depot"})]})]})]})}),j&&N&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Depot Details"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-2",children:"View complete depot information"})]}),(0,Ie.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Ie.jsx)(Gh,{className:"w-6 h-6"})})]})}),(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Basic Information"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Depot Code"}),(0,Ie.jsx)("p",{className:"text-lg text-gray-900 font-mono bg-gray-50 px-3 py-2 rounded-lg",children:N.code})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Depot Name"}),(0,Ie.jsx)("p",{className:"text-lg text-gray-900",children:N.name})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,Ie.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===N.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:N.status})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Manager"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:N.manager||"Not assigned"})]})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Address"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Street"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(e=N.address)||void 0===e?void 0:e.street)||"Not specified"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(t=N.address)||void 0===t?void 0:t.city)||"Not specified"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(r=N.address)||void 0===r?void 0:r.state)||"Not specified"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pincode"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(n=N.address)||void 0===n?void 0:n.pincode)||"Not specified"})]})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Contact"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(s=N.contact)||void 0===s?void 0:s.phone)||"Not specified"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Ie.jsx)("p",{className:"text-gray-900",children:(null===(i=N.contact)||void 0===i?void 0:i.email)||"Not specified"})]})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 border-b border-gray-200 pb-2",children:"Capacity"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Bus Capacity"}),(0,Ie.jsxs)("p",{className:"text-gray-900",children:[(null===(o=N.capacity)||void 0===o?void 0:o.buses)||0," buses"]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Staff Capacity"}),(0,Ie.jsxs)("p",{className:"text-gray-900",children:[(null===(l=N.capacity)||void 0===l?void 0:l.staff)||0," staff"]})]})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ie.jsx)("button",{onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),(0,Ie.jsx)("button",{onClick:()=>{w(!1),F(N)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Edit Depot"})]})]})]})}),S&&E&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsx)("h3",{className:"text-xl font-bold text-red-900 mb-4",children:"Confirm Deletion"}),(0,Ie.jsxs)("p",{className:"text-gray-700 mb-6",children:['Are you sure you want to delete depot "',E.name,'"? This action cannot be undone.']}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Ie.jsx)("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(!E)return;const e=E._id;d(t=>t.filter(t=>t._id!==e)),C(!1),P(null);try{const t=await fetch("/api/admin/depots/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(t.ok)console.log("Depot deleted successfully from backend");else{const e=await t.json();console.error("Failed to delete depot:",e.error),d(e=>[...e,E]),alert("Failed to delete depot: ".concat(e.error||"Unknown error"))}}catch(t){console.error("Error deleting depot:",t),d(e=>[...e,E]),alert("Network error while deleting depot. Please try again.")}},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Depot"})]})]})})})]})},Xh=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(rt,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Route Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage bus routes, stops, and route configurations"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Route management interface will be implemented here. This will include route CRUD operations, stop management, and distance calculations."]})})]})})}),Jh=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(Al,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Stop Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage bus stops, locations, and stop configurations"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Stop management interface will be implemented here. This will include stop CRUD operations, location coordinates, and stop facilities."]})})]})})}),Zh=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(Xe,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Trip Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage bus trips, schedules, and crew assignments"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Trip management interface will be implemented here. This will include trip CRUD operations, crew assignments, and schedule management."]})})]})})}),em=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(Tl,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Duty Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage conductor duties, validations, and duty assignments"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Duty management interface will be implemented here. This will include duty monitoring, validation tracking, and force close operations."]})})]})})}),tm=Qe("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),rm=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)(!1),[f,x]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)({name:"",email:"",phone:"",depotId:"",employeeId:"",joiningDate:"",salary:"",licenseNumber:"",licenseExpiry:"",status:"active",password:""});(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{i(!0);const[e,r]=await Promise.all([fetch("/api/admin/users?role=driver",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),fetch("/api/admin/depots",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]);if(e.ok){const r=await e.json();t(r.users||[])}if(r.ok){const e=await r.json();n(e.depots||[])}}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}},C=()=>{k({name:"",email:"",phone:"",depotId:"",employeeId:"",joiningDate:"",salary:"",licenseNumber:"",licenseExpiry:"",status:"active",password:""})},E=e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",icon:Hl},inactive:{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Vh},suspended:{color:"bg-red-100 text-red-800 border-red-200",icon:Gh}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Wl},r=t.icon;return(0,Ie.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(t.color," flex items-center gap-1"),children:[(0,Ie.jsx)(r,{className:"w-3 h-3"}),e]})},P=e=>{const t=r.find(t=>t._id===e);return t?t.name:"Unassigned"},T=e=>{const t=r.find(t=>t._id===e);return t?t.code:"N/A"},_=e.filter(e=>{var t,r;const n=!o||e.name.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.phone.includes(o)||(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)&&e.staffDetails.employeeId.toLowerCase().includes(o.toLowerCase())||(null===(r=e.staffDetails)||void 0===r?void 0:r.licenseNumber)&&e.staffDetails.licenseNumber.toLowerCase().includes(o.toLowerCase()),s="all"===c||e.depotId===c,a="all"===u||e.status===u;return n&&s&&a});return s?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50",children:(0,Ie.jsx)(Rl,{size:20})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yatrik Driver Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage drivers and their depot assignments"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("button",{onClick:()=>{const t=[["Name","Email","Phone","Employee ID","Depot","License Number","License Expiry","Joining Date","Salary","Status"].join(","),...e.map(e=>{var t,r,n,s,a;return[e.name,e.email,e.phone,(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)||"N/A",P(e.depotId),(null===(r=e.staffDetails)||void 0===r?void 0:r.licenseNumber)||"N/A",null!==(n=e.staffDetails)&&void 0!==n&&n.licenseExpiry?new Date(e.staffDetails.licenseExpiry).toLocaleDateString():"N/A",null!==(s=e.staffDetails)&&void 0!==s&&s.joiningDate?new Date(e.staffDetails.joiningDate).toLocaleDateString():"N/A",(null===(a=e.staffDetails)||void 0===a?void 0:a.salary)||"N/A",e.status].join(",")})].join("\n"),r=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download="drivers_".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(n),alert("Drivers exported successfully")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(zl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Export"})]}),(0,Ie.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Add Driver"})]})]})]}),(0,Ie.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ie.jsx)("div",{className:"flex-1",children:(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search drivers by name, email, phone, employee ID, or license number...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Ie.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Depots"}),r.map(e=>(0,Ie.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,Ie.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,Ie.jsxs)("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Ie.jsx)("div",{className:"overflow-x-auto",children:(0,Ie.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ie.jsx)("thead",{className:"bg-gray-50",children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depot Assignment"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"License"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ie.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(e=>{var t,r,n,s,a,i,o;const l=(e=>{if(!e)return{status:"unknown",color:"text-gray-500",icon:Wl};const t=new Date,r=new Date(e),n=Math.ceil((r-t)/864e5);return n<0?{status:"expired",color:"text-red-500",icon:Gh}:n<=30?{status:"expiring_soon",color:"text-yellow-500",icon:Wl}:{status:"valid",color:"text-green-500",icon:Hl}})(null===(t=e.staffDetails)||void 0===t?void 0:t.licenseExpiry),c=l.icon;return(0,Ie.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-lg",children:(null===(r=e.name)||void 0===r||null===(n=r.charAt(0))||void 0===n?void 0:n.toUpperCase())||"D"})}),(0,Ie.jsxs)("div",{className:"ml-4",children:[(0,Ie.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-8)]})]})]})}),(0,Ie.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ie.jsx)("div",{className:"text-sm text-gray-900",children:(null===(s=e.staffDetails)||void 0===s?void 0:s.employeeId)||"N/A"}),(null===(a=e.staffDetails)||void 0===a?void 0:a.joiningDate)&&(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["Joined: ",new Date(e.staffDetails.joiningDate).toLocaleDateString()]})]}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(st,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"text-sm font-medium text-gray-900",children:P(e.depotId)}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["Code: ",T(e.depotId)]})]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"space-y-1",children:[(0,Ie.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(i=e.staffDetails)||void 0===i?void 0:i.licenseNumber)||"N/A"}),(null===(o=e.staffDetails)||void 0===o?void 0:o.licenseExpiry)&&(0,Ie.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Ie.jsx)(c,{className:"w-4 h-4 ".concat(l.color)}),(0,Ie.jsx)("span",{className:"text-sm ".concat(l.color),children:new Date(e.staffDetails.licenseExpiry).toLocaleDateString()})]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"space-y-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Ie.jsx)(Wh,{className:"w-4 h-4 mr-2 text-gray-400"}),e.email]}),(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Ie.jsx)(Dl,{className:"w-4 h-4 mr-2 text-gray-400"}),e.phone]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:E(e.status)}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{y(e)})(e),className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{var t,r,n,s,a;x(e),k({name:e.name||"",email:e.email||"",phone:e.phone||"",depotId:e.depotId||"",employeeId:(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)||"",joiningDate:null!==(r=e.staffDetails)&&void 0!==r&&r.joiningDate?new Date(e.staffDetails.joiningDate).toISOString().split("T")[0]:"",salary:(null===(n=e.staffDetails)||void 0===n?void 0:n.salary)||"",licenseNumber:(null===(s=e.staffDetails)||void 0===s?void 0:s.licenseNumber)||"",licenseExpiry:null!==(a=e.staffDetails)&&void 0!==a&&a.licenseExpiry?new Date(e.staffDetails.licenseExpiry).toISOString().split("T")[0]:"",status:e.status||"active",password:""})})(e),className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"Edit Driver",children:(0,Ie.jsx)(Hh,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{w(e),b(!0)})(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Driver",children:(0,Ie.jsx)(qh,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),0===_.length&&(0,Ie.jsxs)("div",{className:"text-center py-12",children:[(0,Ie.jsx)(tm,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No drivers found":"No drivers match your filters"}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-6",children:0===e.length?"Get started by adding your first driver":"Try adjusting your search terms or filters"}),0===e.length&&(0,Ie.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4 inline mr-2"}),"Add First Driver"]})]})]}),(m||f)&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Ie.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Edit Driver":"Create New Driver"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-2",children:f?"Update driver information":"Add a new driver to the system"})]}),(0,Ie.jsxs)("form",{onSubmit:f?async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users/".concat(f._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(qe(qe({},N),{},{role:"driver"}))});if(e.ok)alert("Driver updated successfully"),x(null),C(),S();else{const t=await e.json();alert(t.error||"Failed to update driver")}}catch(t){console.error("Error updating driver:",t),alert("Error updating driver")}}:async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(qe(qe({},N),{},{role:"driver"}))});if(e.ok)alert("Driver created successfully"),p(!1),C(),S();else{const t=await e.json();alert(t.error||"Failed to create driver")}}catch(t){console.error("Error creating driver:",t),alert("Error creating driver")}},className:"p-6 space-y-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:N.name,onChange:e=>k(t=>qe(qe({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Ie.jsx)("input",{type:"email",required:!0,value:N.email,onChange:e=>k(t=>qe(qe({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),(0,Ie.jsx)("input",{type:"tel",required:!0,value:N.phone,onChange:e=>k(t=>qe(qe({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID"}),(0,Ie.jsx)("input",{type:"text",value:N.employeeId,onChange:e=>k(t=>qe(qe({},t),{},{employeeId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter employee ID"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Depot Assignment *"}),(0,Ie.jsxs)("select",{required:!0,value:N.depotId,onChange:e=>k(t=>qe(qe({},t),{},{depotId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"",children:"Select Depot"}),r.map(e=>(0,Ie.jsxs)("option",{value:e._id,children:[e.name," (",e.code,")"]},e._id))]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Ie.jsxs)("select",{value:N.status,onChange:e=>k(t=>qe(qe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Number *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:N.licenseNumber,onChange:e=>k(t=>qe(qe({},t),{},{licenseNumber:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter license number"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"License Expiry *"}),(0,Ie.jsx)("input",{type:"date",required:!0,value:N.licenseExpiry,onChange:e=>k(t=>qe(qe({},t),{},{licenseExpiry:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Joining Date"}),(0,Ie.jsx)("input",{type:"date",value:N.joiningDate,onChange:e=>k(t=>qe(qe({},t),{},{joiningDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary"}),(0,Ie.jsx)("input",{type:"number",value:N.salary,onChange:e=>k(t=>qe(qe({},t),{},{salary:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter salary"})]}),!f&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,Ie.jsx)("input",{type:"password",required:!0,value:N.password,onChange:e=>k(t=>qe(qe({},t),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{p(!1),x(null),C()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f?"Update Driver":"Create Driver"})]})]})]})}),v&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ie.jsx)(Wl,{className:"w-6 h-6 text-red-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Driver"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"This action cannot be undone."})]})]}),(0,Ie.jsxs)("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",(0,Ie.jsx)("strong",{children:null===j||void 0===j?void 0:j.name}),"? This will permanently remove their account and all associated data."]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Ie.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(j)try{const e=await fetch("/api/admin/users/".concat(j._id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok)alert("Driver deleted successfully"),b(!1),w(null),S();else{const t=await e.json();alert(t.error||"Failed to delete driver")}}catch(e){console.error("Error deleting driver:",e),alert("Error deleting driver")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Driver"})]})]})})})]})},nm=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(tt,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Passenger Management"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Manage passengers, bookings, and ticket operations"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," Passenger management interface will be implemented here. This will include passenger profiles, booking history, and ticket management."]})})]})})}),sm=()=>(0,Ie.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,Ie.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ie.jsxs)(El.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)(Je,{className:"w-8 h-8 text-accent"}),(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Status"})]}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-6",children:"Monitor system health, performance, and operational status"}),(0,Ie.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,Ie.jsxs)("p",{className:"text-blue-800 text-sm",children:[(0,Ie.jsx)("strong",{children:"Coming Soon:"})," System status interface will be implemented here. This will include real-time monitoring of API, database, and WebSocket connections."]})})]})})}),am=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Bus Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage all buses in the fleet"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Bus management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"Add/Edit/Delete buses"}),(0,Ie.jsx)("li",{children:"Assign buses to routes"}),(0,Ie.jsx)("li",{children:"Track bus maintenance"}),(0,Ie.jsx)("li",{children:"Monitor bus capacity and status"})]})]})]}),im=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("all"),[m,p]=(0,a.useState)(!1),[f,x]=(0,a.useState)(null),[g,y]=(0,a.useState)(null),[v,b]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),[N,k]=(0,a.useState)({name:"",email:"",phone:"",depotId:"",employeeId:"",joiningDate:"",salary:"",status:"active",password:""});(0,a.useEffect)(()=>{S()},[]);const S=async()=>{try{i(!0);const[e,r]=await Promise.all([fetch("/api/admin/users?role=conductor",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}),fetch("/api/admin/depots",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})]);if(e.ok){const r=await e.json();t(r.users||[])}if(r.ok){const e=await r.json();n(e.depots||[])}}catch(e){console.error("Error fetching data:",e)}finally{i(!1)}},C=()=>{k({name:"",email:"",phone:"",depotId:"",employeeId:"",joiningDate:"",salary:"",status:"active",password:""})},E=e=>{const t={active:{color:"bg-green-100 text-green-800 border-green-200",icon:Hl},inactive:{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Vh},suspended:{color:"bg-red-100 text-red-800 border-red-200",icon:Gh}}[e]||{color:"bg-gray-100 text-gray-800 border-gray-200",icon:Wl},r=t.icon;return(0,Ie.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium border ".concat(t.color," flex items-center gap-1"),children:[(0,Ie.jsx)(r,{className:"w-3 h-3"}),e]})},P=e=>{const t=r.find(t=>t._id===e);return t?t.name:"Unassigned"},T=e=>{const t=r.find(t=>t._id===e);return t?t.code:"N/A"},_=e.filter(e=>{var t;const r=!o||e.name.toLowerCase().includes(o.toLowerCase())||e.email.toLowerCase().includes(o.toLowerCase())||e.phone.includes(o)||(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)&&e.staffDetails.employeeId.toLowerCase().includes(o.toLowerCase()),n="all"===c||e.depotId===c,s="all"===u||e.status===u;return r&&n&&s});return s?(0,Ie.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Ie.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-xl bg-gray-50",children:(0,Ie.jsx)(Rl,{size:20})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Yatrik Conductor Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage conductors and their depot assignments"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Ie.jsxs)("button",{onClick:()=>{const t=[["Name","Email","Phone","Employee ID","Depot","Joining Date","Salary","Status"].join(","),...e.map(e=>{var t,r,n;return[e.name,e.email,e.phone,(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)||"N/A",P(e.depotId),null!==(r=e.staffDetails)&&void 0!==r&&r.joiningDate?new Date(e.staffDetails.joiningDate).toLocaleDateString():"N/A",(null===(n=e.staffDetails)||void 0===n?void 0:n.salary)||"N/A",e.status].join(",")})].join("\n"),r=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download="conductors_".concat((new Date).toISOString().split("T")[0],".csv"),s.click(),window.URL.revokeObjectURL(n),alert("Conductors exported successfully")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(zl,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Export"})]}),(0,Ie.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Add Conductor"})]})]})]}),(0,Ie.jsx)("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:(0,Ie.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,Ie.jsx)("div",{className:"flex-1",children:(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search conductors by name, email, phone, or employee ID...",value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),(0,Ie.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Depots"}),r.map(e=>(0,Ie.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,Ie.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,Ie.jsxs)("button",{onClick:S,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Refresh"})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,Ie.jsx)("div",{className:"overflow-x-auto",children:(0,Ie.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ie.jsx)("thead",{className:"bg-gray-50",children:(0,Ie.jsxs)("tr",{children:[(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Conductor"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee ID"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Depot Assignment"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Ie.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Ie.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(e=>{var t,r,n,s;return(0,Ie.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-semibold text-lg",children:(null===(t=e.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"C"})}),(0,Ie.jsxs)("div",{className:"ml-4",children:[(0,Ie.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:e.name}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e._id.slice(-8)]})]})]})}),(0,Ie.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ie.jsx)("div",{className:"text-sm text-gray-900",children:(null===(n=e.staffDetails)||void 0===n?void 0:n.employeeId)||"N/A"}),(null===(s=e.staffDetails)||void 0===s?void 0:s.joiningDate)&&(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["Joined: ",new Date(e.staffDetails.joiningDate).toLocaleDateString()]})]}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)(st,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"text-sm font-medium text-gray-900",children:P(e.depotId)}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-500",children:["Code: ",T(e.depotId)]})]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ie.jsxs)("div",{className:"space-y-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-900",children:[(0,Ie.jsx)(Wh,{className:"w-4 h-4 mr-2 text-gray-400"}),e.email]}),(0,Ie.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Ie.jsx)(Dl,{className:"w-4 h-4 mr-2 text-gray-400"}),e.phone]})]})}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:E(e.status)}),(0,Ie.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,Ie.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{y(e)})(e),className:"text-blue-600 hover:text-blue-900 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{var t,r,n;x(e),k({name:e.name||"",email:e.email||"",phone:e.phone||"",depotId:e.depotId||"",employeeId:(null===(t=e.staffDetails)||void 0===t?void 0:t.employeeId)||"",joiningDate:null!==(r=e.staffDetails)&&void 0!==r&&r.joiningDate?new Date(e.staffDetails.joiningDate).toISOString().split("T")[0]:"",salary:(null===(n=e.staffDetails)||void 0===n?void 0:n.salary)||"",status:e.status||"active",password:""})})(e),className:"text-green-600 hover:text-green-900 p-2 rounded-lg hover:bg-green-50 transition-colors",title:"Edit Conductor",children:(0,Ie.jsx)(Hh,{className:"w-4 h-4"})}),(0,Ie.jsx)("button",{onClick:()=>(e=>{w(e),b(!0)})(e),className:"text-red-600 hover:text-red-900 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"Delete Conductor",children:(0,Ie.jsx)(qh,{className:"w-4 h-4"})})]})})]},e._id)})})]})}),0===_.length&&(0,Ie.jsxs)("div",{className:"text-center py-12",children:[(0,Ie.jsx)(tt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No conductors found":"No conductors match your filters"}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-6",children:0===e.length?"Get started by adding your first conductor":"Try adjusting your search terms or filters"}),0===e.length&&(0,Ie.jsxs)("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Ie.jsx)(Pd,{className:"w-4 h-4 inline mr-2"}),"Add First Conductor"]})]})]}),(m||f)&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Ie.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:f?"Edit Conductor":"Create New Conductor"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-2",children:f?"Update conductor information":"Add a new conductor to the system"})]}),(0,Ie.jsxs)("form",{onSubmit:f?async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users/".concat(f._id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(qe(qe({},N),{},{role:"conductor"}))});if(e.ok)alert("Conductor updated successfully"),x(null),C(),S();else{const t=await e.json();alert(t.error||"Failed to update conductor")}}catch(t){console.error("Error updating conductor:",t),alert("Error updating conductor")}}:async e=>{e.preventDefault();try{const e=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(qe(qe({},N),{},{role:"conductor"}))});if(e.ok)alert("Conductor created successfully"),p(!1),C(),S();else{const t=await e.json();alert(t.error||"Failed to create conductor")}}catch(t){console.error("Error creating conductor:",t),alert("Error creating conductor")}},className:"p-6 space-y-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,Ie.jsx)("input",{type:"text",required:!0,value:N.name,onChange:e=>k(t=>qe(qe({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Ie.jsx)("input",{type:"email",required:!0,value:N.email,onChange:e=>k(t=>qe(qe({},t),{},{email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone *"}),(0,Ie.jsx)("input",{type:"tel",required:!0,value:N.phone,onChange:e=>k(t=>qe(qe({},t),{},{phone:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter phone number"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Employee ID"}),(0,Ie.jsx)("input",{type:"text",value:N.employeeId,onChange:e=>k(t=>qe(qe({},t),{},{employeeId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter employee ID"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Depot Assignment *"}),(0,Ie.jsxs)("select",{required:!0,value:N.depotId,onChange:e=>k(t=>qe(qe({},t),{},{depotId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"",children:"Select Depot"}),r.map(e=>(0,Ie.jsxs)("option",{value:e._id,children:[e.name," (",e.code,")"]},e._id))]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,Ie.jsxs)("select",{value:N.status,onChange:e=>k(t=>qe(qe({},t),{},{status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Ie.jsx)("option",{value:"active",children:"Active"}),(0,Ie.jsx)("option",{value:"inactive",children:"Inactive"}),(0,Ie.jsx)("option",{value:"suspended",children:"Suspended"})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Joining Date"}),(0,Ie.jsx)("input",{type:"date",value:N.joiningDate,onChange:e=>k(t=>qe(qe({},t),{},{joiningDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary"}),(0,Ie.jsx)("input",{type:"number",value:N.salary,onChange:e=>k(t=>qe(qe({},t),{},{salary:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter salary"})]}),!f&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,Ie.jsx)("input",{type:"password",required:!0,value:N.password,onChange:e=>k(t=>qe(qe({},t),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-200",children:[(0,Ie.jsx)("button",{type:"button",onClick:()=>{p(!1),x(null),C()},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:f?"Update Conductor":"Create Conductor"})]})]})]})}),v&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Ie.jsx)("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full",children:(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ie.jsx)(Wl,{className:"w-6 h-6 text-red-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Conductor"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"This action cannot be undone."})]})]}),(0,Ie.jsxs)("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete ",(0,Ie.jsx)("strong",{children:null===j||void 0===j?void 0:j.name}),"? This will permanently remove their account and all associated data."]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end space-x-3",children:[(0,Ie.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Ie.jsx)("button",{onClick:async()=>{if(j)try{const e=await fetch("/api/admin/users/".concat(j._id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(e.ok)alert("Conductor deleted successfully"),b(!1),w(null),S();else{const t=await e.json();alert(t.error||"Failed to delete conductor")}}catch(e){console.error("Error deleting conductor:",e),alert("Error deleting conductor")}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Conductor"})]})]})})})]})},om=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Depot Manager Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage all depot managers in the system"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Depot manager management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"Add/Edit/Delete depot managers"}),(0,Ie.jsx)("li",{children:"Assign depot managers to depots"}),(0,Ie.jsx)("li",{children:"Track depot operations"}),(0,Ie.jsx)("li",{children:"Manage depot resources"})]})]})]}),lm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Time Table Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage bus schedules and timetables"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Time table management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"Create and manage bus schedules"}),(0,Ie.jsx)("li",{children:"Set departure and arrival times"}),(0,Ie.jsx)("li",{children:"Handle route timing"}),(0,Ie.jsx)("li",{children:"Manage seasonal schedules"})]})]})]}),cm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reservation Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Manage all bus reservations and bookings"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Reservation management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"View all reservations"}),(0,Ie.jsx)("li",{children:"Handle booking confirmations"}),(0,Ie.jsx)("li",{children:"Manage cancellations"}),(0,Ie.jsx)("li",{children:"Track reservation status"})]})]})]}),dm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Complaint Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Handle customer complaints and feedback"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Complaint management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"View customer complaints"}),(0,Ie.jsx)("li",{children:"Assign complaints to staff"}),(0,Ie.jsx)("li",{children:"Track resolution status"}),(0,Ie.jsx)("li",{children:"Generate complaint reports"})]})]})]}),um=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Driver Conflict Management"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Resolve driver scheduling conflicts"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Driver conflict management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"Identify scheduling conflicts"}),(0,Ie.jsx)("li",{children:"Resolve overlapping duties"}),(0,Ie.jsx)("li",{children:"Manage driver availability"}),(0,Ie.jsx)("li",{children:"Optimize driver assignments"})]})]})]}),hm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Upcoming Payments"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Track and manage upcoming payment obligations"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Upcoming payments management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"View pending payments"}),(0,Ie.jsx)("li",{children:"Track payment due dates"}),(0,Ie.jsx)("li",{children:"Manage payment reminders"}),(0,Ie.jsx)("li",{children:"Generate payment reports"})]})]})]}),mm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment History"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"View and analyze completed payment transactions"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Payment history management functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"View completed payments"}),(0,Ie.jsx)("li",{children:"Search payment records"}),(0,Ie.jsx)("li",{children:"Generate payment reports"}),(0,Ie.jsx)("li",{children:"Track payment trends"})]})]})]}),pm=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Revenue Reports"}),(0,Ie.jsx)("p",{className:"text-gray-600",children:"Analyze revenue and financial performance"})]}),(0,Ie.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,Ie.jsx)("p",{className:"text-gray-500",children:"Revenue reporting functionality will be implemented here."}),(0,Ie.jsx)("p",{className:"text-gray-500 mt-2",children:"This will include:"}),(0,Ie.jsxs)("ul",{className:"list-disc list-inside text-gray-500 mt-2 ml-4",children:[(0,Ie.jsx)("li",{children:"Revenue analytics dashboard"}),(0,Ie.jsx)("li",{children:"Profit and loss statements"}),(0,Ie.jsx)("li",{children:"Revenue trend analysis"}),(0,Ie.jsx)("li",{children:"Financial performance metrics"})]})]})]});function fm(){const e=ne();return(0,a.useEffect)(()=>{const t=localStorage.getItem("token"),r=localStorage.getItem("user");if(!t||!r)return void e("/login",{replace:!0});let n="PASSENGER";try{var s;n=((null===(s=JSON.parse(r))||void 0===s?void 0:s.role)||"passenger").toUpperCase()}catch(a){}e("ADMIN"===n?"/admin":"CONDUCTOR"===n?"/conductor":"DRIVER"===n?"/driver":"DEPOT_MANAGER"===n?"/depot":"/pax",{replace:!0})},[e]),null}const xm=Qe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),gm=Qe("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ym=Qe("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),vm=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),bm=e=>{let{trips:t=[]}=e;const[r,n]=(0,a.useState)(null),s=e=>{switch(e){case"Not Started":return"text-blue-600 bg-blue-50 border-blue-200";case"In Progress":return"text-green-600 bg-green-50 border-green-200";case"Completed":default:return"text-gray-600 bg-gray-50 border-gray-200";case"Cancelled":return"text-red-600 bg-red-50 border-red-200";case"Delayed":return"text-orange-600 bg-orange-50 border-orange-200"}},i=e=>{switch(e){case"Not Started":default:return(0,Ie.jsx)(Tl,{className:"w-4 h-4"});case"In Progress":return(0,Ie.jsx)(xm,{className:"w-4 h-4"});case"Completed":return(0,Ie.jsx)(Hl,{className:"w-4 h-4"});case"Cancelled":return(0,Ie.jsx)(Gh,{className:"w-4 h-4"});case"Delayed":return(0,Ie.jsx)(ql,{className:"w-4 h-4"})}},o=e=>{console.log("Cancelling trip:",e)},l=e=>{console.log("Downloading ticket for trip:",e)};return 0===t.length?(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"My Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your upcoming and past journeys"})]}),(0,Ie.jsxs)("div",{className:"p-8 text-center",children:[(0,Ie.jsx)(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-4",children:"No trips found"}),(0,Ie.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Book Your First Trip"})]})]}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"My Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your upcoming and past journeys"})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Your scheduled journeys"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all",children:(0,Ie.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.route}),(0,Ie.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(s(e.status)),children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[i(e.status),e.status]})})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Xe,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.busNumber})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(nt,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(e.departure).toLocaleDateString()})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Tl,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Departure"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(e.departure).toLocaleTimeString()})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Al,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Seat"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.seatNo})]})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Arrival:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:new Date(e.arrival).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Bus Type:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.busType})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Fare:"}),(0,Ie.jsxs)("span",{className:"ml-2 font-medium text-gray-900",children:["\u20b9",e.fare]})]})]})]}),(0,Ie.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{n(e)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-5 h-5"})}),(0,Ie.jsx)("button",{onClick:()=>l(e.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download Ticket",children:(0,Ie.jsx)(zl,{className:"w-5 h-5"})}),"Not Started"===e.status&&(0,Ie.jsx)("button",{onClick:()=>o(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Cancel Trip",children:(0,Ie.jsx)(Gh,{className:"w-5 h-5"})})]})]})},e.id))})})]}),r&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ie.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Trip Details"}),(0,Ie.jsx)("button",{onClick:()=>n(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ie.jsx)(Gh,{className:"w-6 h-6"})})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Route"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:r.route})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:r.status})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:r.busNumber})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Seat Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:r.seatNo})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Departure"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(r.departure).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Arrival"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(r.arrival).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Type"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:r.busType})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Fare"}),(0,Ie.jsxs)("p",{className:"font-medium text-gray-900",children:["\u20b9",r.fare]})]})]}),(0,Ie.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,Ie.jsx)("button",{onClick:()=>l(r.id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Download Ticket"}),"Not Started"===r.status&&(0,Ie.jsx)("button",{onClick:()=>o(r.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Trip"})]})]})]})})]})},jm=Qe("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),wm=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t([{id:1,route:"Kochi \u2192 Chennai",busNumber:"KL-07-EF-9012",departure:"2025-08-19T06:00:00",arrival:"2025-08-19T18:00:00",seatNo:"C08",status:"In Progress",currentLocation:"Salem",eta:"2 hours",progress:65,driver:"Rajesh Kumar",conductor:"Suresh Menon",nextStop:"Vellore",speed:"65 km/h",coordinates:{lat:11.6643,lng:78.146}},{id:2,route:"Bangalore \u2192 Kochi",busNumber:"KA-01-GH-3456",departure:"2025-08-19T08:00:00",arrival:"2025-08-19T20:00:00",seatNo:"A15",status:"In Progress",currentLocation:"Mysore",eta:"4 hours",progress:45,driver:"Mohan Das",conductor:"Krishna Iyer",nextStop:"Palakkad",speed:"58 km/h",coordinates:{lat:12.2958,lng:76.6394}}])},[]);const o=e=>{switch(e){case"In Progress":return"text-green-600 bg-green-50 border-green-200";case"Delayed":return"text-orange-600 bg-orange-50 border-orange-200";case"Completed":return"text-gray-600 bg-gray-50 border-gray-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},l=e=>{switch(e){case"In Progress":return(0,Ie.jsx)(xm,{className:"w-4 h-4"});case"Delayed":return(0,Ie.jsx)(ql,{className:"w-4 h-4"});case"Completed":return(0,Ie.jsx)(Hl,{className:"w-4 h-4"});default:return(0,Ie.jsx)(Tl,{className:"w-4 h-4"})}},c=()=>{i(!1),n(null)},d=()=>{console.log("Refreshing location...")};return 0===e.length?(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Live Tracking"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your buses in real-time"})]}),(0,Ie.jsxs)("div",{className:"p-8 text-center",children:[(0,Ie.jsx)(gm,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500 mb-4",children:"No active trips to track"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"Your trips will appear here when they are in progress"})]})]}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Live Tracking"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your buses in real-time"})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Trips currently in progress"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsx)("div",{className:"space-y-4",children:e.map(t=>(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all",children:(0,Ie.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:t.route}),(0,Ie.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(o(t.status)),children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[l(t.status),t.status]})})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Al,{className:"w-4 h-4 text-green-500"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Current Location"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:t.currentLocation})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Tl,{className:"w-4 h-4 text-blue-500"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"ETA"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:t.eta})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(gm,{className:"w-4 h-4 text-purple-500"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Next Stop"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:t.nextStop})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Xe,{className:"w-4 h-4 text-orange-500"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Speed"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:t.speed})]})]})]}),(0,Ie.jsxs)("div",{className:"mb-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,Ie.jsx)("span",{children:"Journey Progress"}),(0,Ie.jsxs)("span",{children:[t.progress,"%"]})]}),(0,Ie.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,Ie.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(t.progress,"%")}})})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Driver:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:t.driver})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Conductor:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:t.conductor})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Seat:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:t.seatNo})]})]})]}),(0,Ie.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[s&&(null===r||void 0===r?void 0:r.id)===t.id?(0,Ie.jsxs)("button",{onClick:c,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[(0,Ie.jsx)(jm,{className:"w-4 h-4"}),"Stop Tracking"]}):(0,Ie.jsxs)("button",{onClick:()=>{return r=t.id,i(!0),void n(e.find(e=>e.id===r));var r},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[(0,Ie.jsx)(xm,{className:"w-4 h-4"}),"Track Live"]}),(0,Ie.jsxs)("button",{onClick:d,className:"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[(0,Ie.jsx)(Lh,{className:"w-4 h-4"}),"Refresh"]})]})]})},t.id))})})]}),s&&r&&(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Live Map View"}),(0,Ie.jsxs)("p",{className:"text-gray-600 mt-1",children:["Real-time location of ",r.busNumber]})]}),(0,Ie.jsxs)("div",{className:"p-6",children:[(0,Ie.jsxs)("div",{className:"bg-gray-100 rounded-xl h-96 flex items-center justify-center relative overflow-hidden",children:[(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)(gm,{className:"w-16 h-16 text-blue-600 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Live Map View"}),(0,Ie.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Bus ",r.busNumber," is currently at ",r.currentLocation]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-4",children:[(0,Ie.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,Ie.jsx)("div",{className:"w-16 h-1 bg-gray-300"}),(0,Ie.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Ie.jsx)("div",{className:"w-16 h-1 bg-gray-300"}),(0,Ie.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full"})]}),(0,Ie.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,Ie.jsxs)("p",{children:["Start \u2192 ",r.currentLocation," \u2192 Destination"]}),(0,Ie.jsxs)("p",{className:"mt-1",children:["Progress: ",r.progress,"%"]})]})]}),(0,Ie.jsx)("div",{className:"absolute top-4 right-4",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[(0,Ie.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"LIVE"]})})]}),(0,Ie.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ie.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ie.jsx)(Al,{className:"w-5 h-5 text-blue-600"}),(0,Ie.jsx)("span",{className:"font-medium text-blue-900",children:"Current Location"})]}),(0,Ie.jsx)("p",{className:"text-blue-800",children:r.currentLocation})]}),(0,Ie.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ie.jsx)(Tl,{className:"w-5 h-5 text-green-600"}),(0,Ie.jsx)("span",{className:"font-medium text-green-900",children:"ETA"})]}),(0,Ie.jsx)("p",{className:"text-green-800",children:r.eta})]}),(0,Ie.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Ie.jsx)(gm,{className:"w-5 h-5 text-purple-600"}),(0,Ie.jsx)("span",{className:"font-medium text-purple-900",children:"Next Stop"})]}),(0,Ie.jsx)("p",{className:"text-purple-800",children:r.nextStop})]})]})]})]})]})},Nm=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),km=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("upcoming");(0,a.useEffect)(()=>{const e=[{id:1,route:"Kochi \u2192 Trivandrum",busNumber:"KL-07-AB-1234",departure:"2025-08-20T08:00:00",arrival:"2025-08-20T14:00:00",seatNo:"A12",status:"Not Started",fare:450,busType:"AC Sleeper",driver:"Ramesh Kumar",conductor:"Suresh Menon",bookingDate:"2025-08-15T10:00:00",bookingId:"BK001234",paymentStatus:"Paid",refundStatus:null},{id:2,route:"Kochi \u2192 Bangalore",busNumber:"KL-07-CD-5678",departure:"2025-08-22T20:00:00",arrival:"2025-08-23T08:00:00",seatNo:"B15",status:"Not Started",fare:1200,busType:"AC Multi-Axle",driver:"Mohan Das",conductor:"Krishna Iyer",bookingDate:"2025-08-16T14:00:00",bookingId:"BK001235",paymentStatus:"Paid",refundStatus:null},{id:3,route:"Kochi \u2192 Chennai",busNumber:"KL-07-EF-9012",departure:"2025-08-19T06:00:00",arrival:"2025-08-19T18:00:00",seatNo:"C08",status:"Completed",fare:800,busType:"AC Sleeper",driver:"Rajesh Kumar",conductor:"Suresh Menon",bookingDate:"2025-08-10T09:00:00",bookingId:"BK001230",paymentStatus:"Paid",refundStatus:null},{id:4,route:"Bangalore \u2192 Kochi",busNumber:"KA-01-GH-3456",departure:"2025-08-18T08:00:00",arrival:"2025-08-18T20:00:00",seatNo:"A15",status:"Cancelled",fare:1200,busType:"AC Multi-Axle",driver:"Mohan Das",conductor:"Krishna Iyer",bookingDate:"2025-08-12T11:00:00",bookingId:"BK001231",paymentStatus:"Refunded",refundStatus:"Processed"}];t(e),n(e)},[]),(0,a.useEffect)(()=>{let t=e;"all"!==o&&(t=t.filter(e=>e.status===o)),s&&(t=t.filter(e=>e.route.toLowerCase().includes(s.toLowerCase())||e.busNumber.toLowerCase().includes(s.toLowerCase())||e.bookingId.toLowerCase().includes(s.toLowerCase()))),n(t)},[e,o,s]);const m=e=>{switch(e){case"Not Started":return"text-blue-600 bg-blue-50 border-blue-200";case"In Progress":return"text-green-600 bg-green-50 border-green-200";case"Completed":default:return"text-gray-600 bg-gray-50 border-gray-200";case"Cancelled":return"text-red-600 bg-red-50 border-red-200";case"Delayed":return"text-orange-600 bg-orange-50 border-orange-200"}},p=e=>{switch(e){case"Not Started":default:return(0,Ie.jsx)(Tl,{className:"w-4 h-4"});case"In Progress":return(0,Ie.jsx)(xm,{className:"w-4 h-4"});case"Completed":return(0,Ie.jsx)(Hl,{className:"w-4 h-4"});case"Cancelled":return(0,Ie.jsx)(Gh,{className:"w-4 h-4"});case"Delayed":return(0,Ie.jsx)(ql,{className:"w-4 h-4"})}},f=e=>{switch(e){case"Paid":return"text-green-600 bg-green-50";case"Pending":return"text-orange-600 bg-orange-50";case"Failed":return"text-red-600 bg-red-50";case"Refunded":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}},x=e=>{console.log("Cancelling booking:",e)},g=e=>{console.log("Downloading ticket for booking:",e)},y=e=>{console.log("Opening feedback form for booking:",e)},v=[{id:"upcoming",label:"Upcoming",count:e.filter(e=>["Not Started","In Progress"].includes(e.status)).length},{id:"completed",label:"Completed",count:e.filter(e=>"Completed"===e.status).length},{id:"cancelled",label:"Cancelled",count:e.filter(e=>"Cancelled"===e.status).length}],b=()=>{switch(u){case"upcoming":return r.filter(e=>["Not Started","In Progress"].includes(e.status));case"completed":return r.filter(e=>"Completed"===e.status);case"cancelled":return r.filter(e=>"Cancelled"===e.status);default:return r}};return(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"My Bookings"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage all your bus bookings"})]})}),(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search & Filters"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search bookings...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(Nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ie.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"Not Started",children:"Not Started"}),(0,Ie.jsx)("option",{value:"In Progress",children:"In Progress"}),(0,Ie.jsx)("option",{value:"Completed",children:"Completed"}),(0,Ie.jsx)("option",{value:"Cancelled",children:"Cancelled"}),(0,Ie.jsx)("option",{value:"Delayed",children:"Delayed"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end text-sm text-gray-600",children:[r.length," booking",1!==r.length?"s":""," found"]})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsx)("div",{className:"flex border-b border-gray-100",children:v.map(e=>(0,Ie.jsx)("button",{onClick:()=>h(e.id),className:"flex-1 px-6 py-4 text-sm font-medium transition-all ".concat(u===e.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:(0,Ie.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Ie.jsx)("span",{children:e.label}),(0,Ie.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full text-xs",children:e.count})]})},e.id))}),(0,Ie.jsx)("div",{className:"p-6",children:b().length>0?(0,Ie.jsx)("div",{className:"space-y-4",children:b().map(e=>(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all",children:(0,Ie.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.route}),(0,Ie.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(m(e.status)),children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[p(e.status),e.status]})}),(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(f(e.paymentStatus)),children:e.paymentStatus})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Xe,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.busNumber})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(nt,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Date"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(e.departure).toLocaleDateString()})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Tl,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Departure"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(e.departure).toLocaleTimeString()})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Al,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Seat"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.seatNo})]})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Booking ID:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.bookingId})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Fare:"}),(0,Ie.jsxs)("span",{className:"ml-2 font-medium text-gray-900",children:["\u20b9",e.fare]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Bus Type:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.busType})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Driver:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.driver})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Conductor:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.conductor})]})]}),"Cancelled"===e.status&&e.refundStatus&&(0,Ie.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Refund Status:"}),(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Processed"===e.refundStatus?"bg-green-100 text-green-800":"Pending"===e.refundStatus?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"),children:e.refundStatus})]})})]}),(0,Ie.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{d(e)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-5 h-5"})}),(0,Ie.jsx)("button",{onClick:()=>g(e.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download Ticket",children:(0,Ie.jsx)(zl,{className:"w-5 h-5"})}),"Not Started"===e.status&&(0,Ie.jsx)("button",{onClick:()=>x(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Cancel Booking",children:(0,Ie.jsx)(Gh,{className:"w-5 h-5"})}),"Completed"===e.status&&(0,Ie.jsx)("button",{onClick:()=>y(e.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Give Feedback",children:(0,Ie.jsx)(_l,{className:"w-5 h-5"})})]})]})},e.id))}):(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)(nt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsxs)("p",{className:"text-gray-500 mb-2",children:["No ",u," bookings found"]}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"upcoming"===u?"Book your next trip to see it here":"completed"===u?"Your completed trips will appear here":"Your cancelled trips will appear here"})]})})]}),c&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ie.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Booking Details"}),(0,Ie.jsx)("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ie.jsx)(Gh,{className:"w-6 h-6"})})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Route"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.route})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.status})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Booking ID"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.bookingId})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Status"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.paymentStatus})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.busNumber})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Seat Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.seatNo})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Departure"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(c.departure).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Arrival"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(c.arrival).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Type"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.busType})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Fare"}),(0,Ie.jsxs)("p",{className:"font-medium text-gray-900",children:["\u20b9",c.fare]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Driver"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.driver})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Conductor"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.conductor})]})]}),(0,Ie.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,Ie.jsx)("button",{onClick:()=>g(c.id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Download Ticket"}),"Not Started"===c.status&&(0,Ie.jsx)("button",{onClick:()=>x(c.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Booking"}),"Completed"===c.status&&(0,Ie.jsx)("button",{onClick:()=>y(c.id),className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Give Feedback"})]})]})]})})]})},Sm=Qe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Cm=Qe("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Em=Qe("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Pm=()=>{const[e,t]=(0,a.useState)("support"),[r,n]=(0,a.useState)({subject:"",message:"",priority:"medium",category:"general"}),[s,i]=(0,a.useState)({tripId:"",rating:5,busRating:5,driverRating:5,conductorRating:5,cleanlinessRating:5,punctualityRating:5,comment:""}),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),u=[{value:"general",label:"General Inquiry"},{value:"booking",label:"Booking Issue"},{value:"payment",label:"Payment Problem"},{value:"cancellation",label:"Cancellation/Refund"},{value:"technical",label:"Technical Issue"},{value:"complaint",label:"Complaint"}],h=[{value:"low",label:"Low",color:"text-green-600 bg-green-50"},{value:"medium",label:"Medium",color:"text-orange-600 bg-orange-50"},{value:"high",label:"High",color:"text-red-600 bg-red-50"}],m=[{question:"How do I cancel my booking?",answer:"You can cancel your booking up to 2 hours before departure through the My Bookings section. Cancellations made within 2 hours of departure may incur charges."},{question:"What is the refund policy?",answer:"Refunds are processed within 5-7 business days. The amount depends on when you cancel and our cancellation policy. Check the cancellation policy for details."},{question:"How can I track my bus in real-time?",answer:"Use the Live Tracking feature in your dashboard to see real-time bus location, ETA, and journey progress."},{question:"What documents do I need for travel?",answer:"You need a valid ID proof (Aadhaar, PAN, Driving License) and your e-ticket. The ticket will be sent to your email after booking."},{question:"Can I change my seat after booking?",answer:"Seat changes are subject to availability and can be made up to 2 hours before departure through the My Bookings section."}],p=async e=>{e.preventDefault(),l(!0),setTimeout(()=>{l(!1),d(!0),n({subject:"",message:"",priority:"medium",category:"general"})},2e3)},f=async e=>{e.preventDefault(),l(!0),setTimeout(()=>{l(!1),d(!0),i({tripId:"",rating:5,busRating:5,driverRating:5,conductorRating:5,cleanlinessRating:5,punctualityRating:5,comment:""})},2e3)};return(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Support & Feedback"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Get help and share your experience"})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"flex border-b border-gray-100",children:[(0,Ie.jsx)("button",{onClick:()=>t("support"),className:"flex-1 px-6 py-4 text-sm font-medium transition-all ".concat("support"===e?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:(0,Ie.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Ie.jsx)(ym,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Customer Support"})]})}),(0,Ie.jsx)("button",{onClick:()=>t("feedback"),className:"flex-1 px-6 py-4 text-sm font-medium transition-all ".concat("feedback"===e?"text-purple-600 border-b-2 border-purple-600 bg-purple-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:(0,Ie.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Ie.jsx)(_l,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{children:"Trip Feedback"})]})})]}),(0,Ie.jsx)("div",{className:"p-6",children:"support"===e?(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact Information"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Get in touch with our support team"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ie.jsx)(Dl,{className:"w-6 h-6 text-blue-600"})}),(0,Ie.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Phone Support"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"24/7 Customer Care"}),(0,Ie.jsx)("p",{className:"text-lg font-semibold text-blue-600",children:"1800-123-4567"})]}),(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ie.jsx)(Wh,{className:"w-6 h-6 text-green-600"})}),(0,Ie.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Email Support"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Response within 24 hours"}),(0,Ie.jsx)("p",{className:"text-lg font-semibold text-green-600",children:"support@yatrik.com"})]}),(0,Ie.jsxs)("div",{className:"text-center",children:[(0,Ie.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Ie.jsx)(Tl,{className:"w-6 h-6 text-purple-600"})}),(0,Ie.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Business Hours"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Monday - Sunday"}),(0,Ie.jsx)("p",{className:"text-lg font-semibold text-purple-600",children:"6:00 AM - 11:00 PM"})]})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Submit Support Ticket"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"We'll get back to you as soon as possible"})]}),(0,Ie.jsx)("div",{className:"p-6",children:c?(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ie.jsx)(Hl,{className:"w-8 h-8 text-green-600"})}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ticket Submitted Successfully!"}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-4",children:"We've received your support ticket and will get back to you within 24 hours."}),(0,Ie.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Submit Another Ticket"})]}):(0,Ie.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Ie.jsx)("select",{value:r.category,onChange:e=>n(t=>qe(qe({},t),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:u.map(e=>(0,Ie.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),(0,Ie.jsx)("select",{value:r.priority,onChange:e=>n(t=>qe(qe({},t),{},{priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:h.map(e=>(0,Ie.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject"}),(0,Ie.jsx)("input",{type:"text",value:r.subject,onChange:e=>n(t=>qe(qe({},t),{},{subject:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of your issue",required:!0})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),(0,Ie.jsx)("textarea",{value:r.message,onChange:e=>n(t=>qe(qe({},t),{},{message:e.target.value})),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Please provide detailed information about your issue...",required:!0})]}),(0,Ie.jsx)("div",{className:"flex justify-end",children:(0,Ie.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(Sm,{className:"w-4 h-4"}),"Submit Ticket"]})})})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Frequently Asked Questions"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Find quick answers to common questions"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,Ie.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:e.question}),(0,Ie.jsx)("p",{className:"text-gray-600 text-sm",children:e.answer})]},t))})})]})]}):(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Trip Feedback"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Help us improve by sharing your experience"})]}),(0,Ie.jsx)("div",{className:"p-6",children:c?(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ie.jsx)(Hl,{className:"w-8 h-8 text-green-600"})}),(0,Ie.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Feedback Submitted!"}),(0,Ie.jsx)("p",{className:"text-gray-600 mb-4",children:"Thank you for your feedback. We'll use it to improve our services."}),(0,Ie.jsx)("button",{onClick:()=>d(!1),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Submit More Feedback"})]}):(0,Ie.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip ID (Optional)"}),(0,Ie.jsx)("input",{type:"text",value:s.tripId,onChange:e=>i(t=>qe(qe({},t),{},{tripId:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter trip ID if available"})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Overall Experience"}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{rating:e})),className:"text-2xl ".concat(e<=s.rating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e)),(0,Ie.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:[s.rating," out of 5"]})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bus Condition"}),(0,Ie.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{busRating:e})),className:"text-lg ".concat(e<=s.busRating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Service"}),(0,Ie.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{driverRating:e})),className:"text-lg ".concat(e<=s.driverRating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conductor Service"}),(0,Ie.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{conductorRating:e})),className:"text-lg ".concat(e<=s.conductorRating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cleanliness"}),(0,Ie.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{cleanlinessRating:e})),className:"text-lg ".concat(e<=s.cleanlinessRating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e))})]})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Punctuality"}),(0,Ie.jsx)("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(e=>(0,Ie.jsx)("button",{type:"button",onClick:()=>i(t=>qe(qe({},t),{},{punctualityRating:e})),className:"text-lg ".concat(e<=s.punctualityRating?"text-yellow-400":"text-gray-300"),children:"\u2605"},e))})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Comments"}),(0,Ie.jsx)("textarea",{value:s.comment,onChange:e=>i(t=>qe(qe({},t),{},{comment:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Share your experience, suggestions, or any other feedback..."})]}),(0,Ie.jsx)("div",{className:"flex justify-end",children:(0,Ie.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:o?(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Submitting..."]}):(0,Ie.jsxs)(Ie.Fragment,{children:[(0,Ie.jsx)(_l,{className:"w-4 h-4"}),"Submit Feedback"]})})})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Help Resources"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Additional resources to help you"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Ie.jsx)(Cm,{className:"w-5 h-5 text-blue-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900",children:"User Guide"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Complete guide to using YATRIK ERP"})]})]})}),(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Ie.jsx)(zl,{className:"w-5 h-5 text-green-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900",children:"Mobile App"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Download our mobile app"})]})]})}),(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-purple-300 transition-colors",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,Ie.jsx)(Em,{className:"w-5 h-5 text-purple-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900",children:"Terms & Conditions"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Read our terms of service"})]})]})}),(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-orange-300 transition-colors",children:(0,Ie.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,Ie.jsx)(ql,{className:"w-5 h-5 text-orange-600"})}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900",children:"Privacy Policy"}),(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"How we protect your data"})]})]})})]})})]})]})})]})]})},Tm=Qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),_m=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[o,l]=(0,a.useState)("all"),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)("all");(0,a.useEffect)(()=>{const e=[{id:1,transactionId:"TXN001234",bookingId:"BK001234",amount:450,currency:"INR",status:"Completed",paymentMethod:"UPI",paymentDate:"2025-08-15T10:30:00",bookingDate:"2025-08-15T10:00:00",route:"Kochi \u2192 Trivandrum",busNumber:"KL-07-AB-1234",seatNo:"A12",refundStatus:null,refundAmount:null,refundDate:null,gateway:"Razorpay",cardLast4:null,upiId:"user@okicici"},{id:2,transactionId:"TXN001235",bookingId:"BK001235",amount:1200,currency:"INR",status:"Completed",paymentMethod:"Credit Card",paymentDate:"2025-08-16T14:15:00",bookingDate:"2025-08-16T14:00:00",route:"Kochi \u2192 Bangalore",busNumber:"KL-07-CD-5678",seatNo:"B15",refundStatus:null,refundAmount:null,refundDate:null,gateway:"Stripe",cardLast4:"4242",upiId:null},{id:3,transactionId:"TXN001230",bookingId:"BK001230",amount:800,currency:"INR",status:"Completed",paymentMethod:"Net Banking",paymentDate:"2025-08-10T09:45:00",bookingDate:"2025-08-10T09:00:00",route:"Kochi \u2192 Chennai",busNumber:"KL-07-EF-9012",seatNo:"C08",refundStatus:null,refundAmount:null,refundDate:null,gateway:"Razorpay",cardLast4:null,upiId:null},{id:4,transactionId:"TXN001231",bookingId:"BK001231",amount:1200,currency:"INR",status:"Refunded",paymentMethod:"Credit Card",paymentDate:"2025-08-12T11:20:00",bookingDate:"2025-08-12T11:00:00",route:"Bangalore \u2192 Kochi",busNumber:"KA-01-GH-3456",seatNo:"A15",refundStatus:"Processed",refundAmount:1200,refundDate:"2025-08-13T15:30:00",gateway:"Stripe",cardLast4:"4242",upiId:null},{id:5,transactionId:"TXN001236",bookingId:"BK001236",amount:600,currency:"INR",status:"Failed",paymentMethod:"UPI",paymentDate:"2025-08-17T16:00:00",bookingDate:"2025-08-17T15:45:00",route:"Kochi \u2192 Munnar",busNumber:"KL-07-IJ-7890",seatNo:"D20",refundStatus:null,refundAmount:null,refundDate:null,gateway:"Razorpay",cardLast4:null,upiId:"user@okicici"}];t(e),n(e)},[]),(0,a.useEffect)(()=>{let t=e;"all"!==o&&(t=t.filter(e=>e.status===o)),s&&(t=t.filter(e=>e.transactionId.toLowerCase().includes(s.toLowerCase())||e.bookingId.toLowerCase().includes(s.toLowerCase())||e.route.toLowerCase().includes(s.toLowerCase()))),n(t)},[e,o,s]);const m=e=>{switch(e){case"Completed":return"text-green-600 bg-green-50 border-green-200";case"Pending":return"text-orange-600 bg-orange-50 border-orange-200";case"Failed":return"text-red-600 bg-red-50 border-red-200";case"Refunded":return"text-blue-600 bg-blue-50 border-blue-200";case"Processing":return"text-purple-600 bg-purple-50 border-purple-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},p=e=>{switch(e){case"Completed":return(0,Ie.jsx)(Hl,{className:"w-4 h-4"});case"Pending":default:return(0,Ie.jsx)(Tl,{className:"w-4 h-4"});case"Failed":return(0,Ie.jsx)(Gh,{className:"w-4 h-4"});case"Refunded":return(0,Ie.jsx)(Lh,{className:"w-4 h-4"});case"Processing":return(0,Ie.jsx)(ql,{className:"w-4 h-4"})}},f=e=>{console.log("Downloading receipt for payment:",e)},x=e=>{console.log("Downloading invoice for payment:",e)},g=[{id:"all",label:"All Payments",count:e.length},{id:"Completed",label:"Completed",count:e.filter(e=>"Completed"===e.status).length},{id:"Pending",label:"Pending",count:e.filter(e=>"Pending"===e.status).length},{id:"Failed",label:"Failed",count:e.filter(e=>"Failed"===e.status).length},{id:"Refunded",label:"Refunded",count:e.filter(e=>"Refunded"===e.status).length}],y=()=>"all"===u?r:r.filter(e=>e.status===u),v=(e,t)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:t||"INR"}).format(e);return(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Payment History"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Track all your payment transactions"})]})}),(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Search & Filters"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(gt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ie.jsx)("input",{type:"text",placeholder:"Search payments...",value:s,onChange:e=>i(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Ie.jsxs)("div",{className:"relative",children:[(0,Ie.jsx)(Nm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Ie.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none",children:[(0,Ie.jsx)("option",{value:"all",children:"All Status"}),(0,Ie.jsx)("option",{value:"Completed",children:"Completed"}),(0,Ie.jsx)("option",{value:"Pending",children:"Pending"}),(0,Ie.jsx)("option",{value:"Failed",children:"Failed"}),(0,Ie.jsx)("option",{value:"Refunded",children:"Refunded"}),(0,Ie.jsx)("option",{value:"Processing",children:"Processing"})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center justify-end text-sm text-gray-600",children:[r.length," payment",1!==r.length?"s":""," found"]})]})]})}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsx)("div",{className:"flex border-b border-gray-100 overflow-x-auto",children:g.map(e=>(0,Ie.jsx)("button",{onClick:()=>h(e.id),className:"flex-shrink-0 px-6 py-4 text-sm font-medium transition-all ".concat(u===e.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)("span",{children:e.label}),(0,Ie.jsx)("span",{className:"px-2 py-1 bg-gray-200 text-gray-700 rounded-full text-xs",children:e.count})]})},e.id))}),(0,Ie.jsx)("div",{className:"p-6",children:y().length>0?(0,Ie.jsx)("div",{className:"space-y-4",children:y().map(e=>(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all",children:(0,Ie.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,Ie.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.route}),(0,Ie.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(m(e.status)),children:(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[p(e.status),e.status]})}),e.refundStatus&&(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.refundStatus})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Ed,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Method"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.paymentMethod})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(nt,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Date"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(e.paymentDate).toLocaleDateString()})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(ot,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:v(e.amount,e.currency)})]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ie.jsx)(Tm,{className:"w-4 h-4 text-gray-400"}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction ID"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:e.transactionId})]})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mb-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Booking ID:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.bookingId})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Gateway:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.gateway})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Bus Number:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.busNumber})]})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.cardLast4&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Card:"}),(0,Ie.jsxs)("span",{className:"ml-2 font-medium text-gray-900",children:["\u2022\u2022\u2022\u2022 ",e.cardLast4]})]}),e.upiId&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"UPI ID:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.upiId})]})]}),e.refundStatus&&e.refundAmount&&(0,Ie.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Refund Amount:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:v(e.refundAmount,e.currency)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Refund Date:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:new Date(e.refundDate).toLocaleDateString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"text-gray-500",children:"Status:"}),(0,Ie.jsx)("span",{className:"ml-2 font-medium text-gray-900",children:e.refundStatus})]})]})})]}),(0,Ie.jsxs)("div",{className:"flex flex-col gap-2 ml-4",children:[(0,Ie.jsx)("button",{onClick:()=>(e=>{d(e)})(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:(0,Ie.jsx)(Ad,{className:"w-5 h-5"})}),(0,Ie.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Download Receipt",children:(0,Ie.jsx)(zl,{className:"w-5 h-5"})}),(0,Ie.jsx)("button",{onClick:()=>x(e.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Download Invoice",children:(0,Ie.jsx)(Tm,{className:"w-5 h-5"})})]})]})},e.id))}):(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)(Ed,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsxs)("p",{className:"text-gray-500 mb-2",children:["No ","all"===u?"":u.toLowerCase()," payments found"]}),(0,Ie.jsx)("p",{className:"text-sm text-gray-400",children:"all"===u?"Your payment history will appear here":"No ".concat(u.toLowerCase()," payments in your history")})]})})]}),c&&(0,Ie.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Ie.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Ie.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Payment Details"}),(0,Ie.jsx)("button",{onClick:()=>d(null),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:(0,Ie.jsx)(Gh,{className:"w-6 h-6"})})]}),(0,Ie.jsxs)("div",{className:"space-y-4",children:[(0,Ie.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Route"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.route})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.status})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Transaction ID"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.transactionId})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Booking ID"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.bookingId})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Amount"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:v(c.amount,c.currency)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Method"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.paymentMethod})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Payment Date"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:new Date(c.paymentDate).toLocaleString()})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Gateway"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.gateway})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Bus Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.busNumber})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Seat Number"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.seatNo})]})]}),c.refundStatus&&(0,Ie.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,Ie.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Refund Information"}),(0,Ie.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Refund Status"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.refundStatus})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Refund Amount"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:v(c.refundAmount,c.currency)})]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-500",children:"Refund Date"}),(0,Ie.jsx)("p",{className:"font-medium text-gray-900",children:c.refundDate?new Date(c.refundDate).toLocaleString():"N/A"})]})]})]}),(0,Ie.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,Ie.jsx)("button",{onClick:()=>f(c.id),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Download Receipt"}),(0,Ie.jsx)("button",{onClick:()=>x(c.id),className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Download Invoice"})]})]})]})})]})},Am=()=>{var e;const{user:t,logout:r}=Fe(),{section:n,setSection:s}=(()=>{const e=te(),[t,r]=(0,a.useState)("");return(0,a.useEffect)(()=>{const t=e.hash.replace("#","");r(t)},[e.hash]),{section:t,setSection:e=>{r(e),window.history.replaceState(null,null,"#".concat(e))}}})(),[i,o]=(0,a.useState)("overview"),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)([]),[p,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{u([{id:1,route:"Kochi \u2192 Trivandrum",busNumber:"KL-07-AB-1234",departure:"2025-08-20T08:00:00",arrival:"2025-08-20T14:00:00",seatNo:"A12",status:"Not Started",fare:450,busType:"AC Sleeper"},{id:2,route:"Kochi \u2192 Bangalore",busNumber:"KL-07-CD-5678",departure:"2025-08-22T20:00:00",arrival:"2025-08-23T08:00:00",seatNo:"B15",status:"Not Started",fare:1200,busType:"AC Multi-Axle"}]),m([{id:3,route:"Kochi \u2192 Chennai",busNumber:"KL-07-EF-9012",departure:"2025-08-19T06:00:00",arrival:"2025-08-19T18:00:00",seatNo:"C08",status:"In Progress",currentLocation:"Salem",eta:"2 hours",progress:65}]),c([{id:1,type:"reminder",title:"Trip Reminder",message:"Your Kochi \u2192 Trivandrum trip departs in 2 hours",time:"2 hours ago",read:!1},{id:2,type:"update",title:"Trip Update",message:"Your Kochi \u2192 Bangalore trip is confirmed",time:"1 day ago",read:!0}])},[]);const x=()=>{r()},g=e=>{switch(e){case"Not Started":return"text-blue-600 bg-blue-50";case"In Progress":return"text-green-600 bg-green-50";case"Completed":default:return"text-gray-600 bg-gray-50";case"Cancelled":return"text-red-600 bg-red-50";case"Delayed":return"text-orange-600 bg-orange-50"}},y=[{id:"overview",label:"Overview",icon:(0,Ie.jsx)(kd,{className:"w-5 h-5"})},{id:"trips",label:"My Trips",icon:(0,Ie.jsx)(Xe,{className:"w-5 h-5"})},{id:"bookings",label:"Bookings",icon:(0,Ie.jsx)(nt,{className:"w-5 h-5"})},{id:"tracking",label:"Live Tracking",icon:(0,Ie.jsx)(gm,{className:"w-5 h5"})},{id:"payments",label:"Payments",icon:(0,Ie.jsx)(it,{className:"w-5 h-5"})},{id:"support",label:"Support",icon:(0,Ie.jsx)(ym,{className:"w-5 h-5"})}],v=()=>(0,Ie.jsxs)("div",{className:"space-y-6",children:[(0,Ie.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome back, ",null===t||void 0===t?void 0:t.name,"!"]}),(0,Ie.jsx)("p",{className:"text-blue-100 mt-1",children:"Ready for your next journey?"})]}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Ie.jsxs)("div",{className:"text-right",children:[(0,Ie.jsx)("div",{className:"text-3xl font-bold",children:d.length}),(0,Ie.jsx)("div",{className:"text-blue-100",children:"Upcoming Trips"})]}),(0,Ie.jsxs)("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors border border-white/30",children:[(0,Ie.jsx)(ft,{className:"w-4 h-4"}),(0,Ie.jsx)("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})}),(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,Ie.jsx)(Xe,{className:"w-6 h-6 text-blue-600"})}),(0,Ie.jsxs)("div",{className:"ml-3",children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Total Trips"}),(0,Ie.jsx)("p",{className:"text-xl font-bold text-gray-900",children:d.length+h.length+p.length})]})]})}),(0,Ie.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,Ie.jsx)(Hl,{className:"w-6 h-6 text-green-600"})}),(0,Ie.jsxs)("div",{className:"ml-3",children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"}),(0,Ie.jsx)("p",{className:"text-xl font-bold text-gray-900",children:p.filter(e=>"Completed"===e.status).length})]})]})}),(0,Ie.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"p-2 bg-orange-100 rounded-lg",children:(0,Ie.jsx)(Tl,{className:"w-6 h-6 text-orange-600"})}),(0,Ie.jsxs)("div",{className:"ml-3",children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Upcoming"}),(0,Ie.jsx)("p",{className:"text-xl font-bold text-gray-900",children:d.length})]})]})}),(0,Ie.jsx)("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:(0,Ie.jsxs)("div",{className:"flex items-center",children:[(0,Ie.jsx)("div",{className:"p-2 bg-purple-100 rounded-lg",children:(0,Ie.jsx)(yt,{className:"w-6 h-6 text-purple-600"})}),(0,Ie.jsxs)("div",{className:"ml-3",children:[(0,Ie.jsx)("p",{className:"text-sm text-gray-600",children:"Notifications"}),(0,Ie.jsx)("p",{className:"text-xl font-bold text-gray-900",children:l.filter(e=>!e.read).length})]})]})})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Upcoming Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Your next adventures await"})]}),(0,Ie.jsx)("div",{className:"p-6",children:d.length>0?(0,Ie.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,Ie.jsx)("div",{className:"border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ie.jsx)("h3",{className:"font-semibold text-gray-900",children:e.route}),(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(e.status)),children:e.status})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Bus:"})," ",e.busNumber]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Seat:"})," ",e.seatNo]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Departure:"})," ",new Date(e.departure).toLocaleString()]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Fare:"})," \u20b9",e.fare]})]})]}),(0,Ie.jsxs)("div",{className:"flex gap-2",children:[(0,Ie.jsx)("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:(0,Ie.jsx)(Ad,{className:"w-5 h-5"})}),(0,Ie.jsx)("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",children:(0,Ie.jsx)(zl,{className:"w-5 h-5"})})]})]})},e.id))}):(0,Ie.jsxs)("div",{className:"text-center py-8",children:[(0,Ie.jsx)(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Ie.jsx)("p",{className:"text-gray-500",children:"No upcoming trips"}),(0,Ie.jsx)("button",{className:"mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Book Your First Trip"})]})})]}),h.length>0&&(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Live Trips"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"Track your current journey"})]}),(0,Ie.jsx)("div",{className:"p-6",children:h.map(e=>(0,Ie.jsx)("div",{className:"border border-green-200 rounded-xl p-4 bg-green-50",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"flex-1",children:[(0,Ie.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ie.jsx)("h3",{className:"font-semibold text-gray-900",children:e.route}),(0,Ie.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700",children:e.status})]}),(0,Ie.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Current:"})," ",e.currentLocation]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"ETA:"})," ",e.eta]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Progress:"})," ",e.progress,"%"]}),(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("span",{className:"font-medium",children:"Seat:"})," ",e.seatNo]})]}),(0,Ie.jsx)("div",{className:"mt-3",children:(0,Ie.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ie.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress,"%")}})})})]}),(0,Ie.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Track Live"})]})},e.id))})]}),(0,Ie.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm",children:[(0,Ie.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,Ie.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Quick Actions"}),(0,Ie.jsx)("p",{className:"text-gray-600 mt-1",children:"What would you like to do?"})]}),(0,Ie.jsx)("div",{className:"p-6",children:(0,Ie.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Ie.jsxs)("button",{className:"p-4 border border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50 transition-all text-center",children:[(0,Ie.jsx)(gt,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Search Trips"})]}),(0,Ie.jsxs)("button",{className:"p-4 border border-gray-200 rounded-xl hover:border-green-300 hover:bg-green-50 transition-all text-center",children:[(0,Ie.jsx)(nt,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Book Ticket"})]}),(0,Ie.jsxs)("button",{className:"p-4 border border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50 transition-all text-center",children:[(0,Ie.jsx)(gm,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Live Track"})]}),(0,Ie.jsxs)("button",{className:"p-4 border border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 transition-all text-center",children:[(0,Ie.jsx)(vm,{className:"w-8 h-8 text-orange-600 mx-auto mb-2"}),(0,Ie.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Get Support"})]})]})})]})]});return(0,Ie.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Ie.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Ie.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,Ie.jsx)("div",{className:"flex items-center",children:(0,Ie.jsx)("div",{className:"flex-shrink-0",children:(0,Ie.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"YATRIK ERP"})})}),(0,Ie.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ie.jsxs)("button",{className:"relative p-2 text-gray-400 hover:text-gray-500",children:[(0,Ie.jsx)(yt,{className:"w-6 h-6"}),l.filter(e=>!e.read).length>0&&(0,Ie.jsx)("span",{className:"absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400"})]}),(0,Ie.jsxs)("div",{className:"relative group",children:[(0,Ie.jsxs)("button",{className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900",children:[(0,Ie.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Ie.jsx)("span",{className:"text-white font-medium",children:null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.charAt(0)})}),(0,Ie.jsx)("span",{className:"hidden md:block font-medium",children:null===t||void 0===t?void 0:t.name})]}),(0,Ie.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:(0,Ie.jsxs)("div",{className:"py-1",children:[(0,Ie.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100",children:[(0,Ie.jsx)("p",{className:"font-medium",children:null===t||void 0===t?void 0:t.name}),(0,Ie.jsx)("p",{className:"text-gray-500",children:null===t||void 0===t?void 0:t.email})]}),(0,Ie.jsxs)("button",{onClick:x,className:"w-full flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[(0,Ie.jsx)(ft,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})]})]})})}),(0,Ie.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Ie.jsx)("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm mb-8",children:(0,Ie.jsx)("div",{className:"flex space-x-1 p-2",children:y.map(e=>(0,Ie.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center space-x-2 px-4 py-3 rounded-xl font-medium transition-all ".concat(i===e.id?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[e.icon,(0,Ie.jsx)("span",{children:e.label})]},e.id))})}),(()=>{switch(i){case"overview":default:return v();case"trips":return(0,Ie.jsx)(bm,{trips:d});case"bookings":return(0,Ie.jsx)(km,{});case"tracking":return(0,Ie.jsx)(wm,{});case"payments":return(0,Ie.jsx)(_m,{});case"support":return(0,Ie.jsx)(Pm,{})}})()]})]})},Dm=()=>{const{tripId:e}=se(),t=ne(),[r,n]=(0,a.useState)(null),[s,i]=(0,a.useState)(null),[o,l]=(0,a.useState)("board-1"),[c,d]=(0,a.useState)("U11"),[u,h]=(0,a.useState)(1),[m,p]=(0,a.useState)([{name:"",age:"",gender:""}]);return(0,a.useEffect)(()=>{!async function(){const t=await mc("/api/booking",{method:"POST",body:JSON.stringify({tripId:e,stopId:o,seatNo:c})});var r,s;t.ok&&(n((null===(r=t.data.data)||void 0===r?void 0:r.fare)||t.data.fare),i((null===(s=t.data.data)||void 0===s?void 0:s.bookingId)||t.data.bookingId))}()},[]),(0,Ie.jsxs)("div",{className:"max-w-5xl mx-auto bg-white rounded-2xl shadow-soft p-6 space-y-4",children:[(0,Ie.jsx)("h1",{className:"text-xl font-bold",children:"Booking"}),(0,Ie.jsxs)("div",{className:"text-gray-700",children:["Trip: ",e]}),1===u&&(0,Ie.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ie.jsxs)("div",{className:"border rounded-2xl p-4",children:[(0,Ie.jsx)("div",{className:"mb-2 font-semibold",children:"Select Seat"}),(0,Ie.jsx)("div",{className:"grid grid-cols-5 gap-2 text-sm",children:["L01","L02","L03","L04","L05","U11","U12","U13","U14","U15"].map(e=>(0,Ie.jsx)("button",{onClick:()=>d(e),className:"px-2 py-1 rounded-md border ".concat(c===e?"border-primary-600 text-primary-700":"border-gray-300"),children:e},e))})]}),(0,Ie.jsxs)("div",{className:"border rounded-2xl p-4",children:[(0,Ie.jsx)("div",{className:"mb-2 font-semibold",children:"Select Pickup and Dropoff point"}),(0,Ie.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,Ie.jsx)("option",{value:"board-1",children:"Boarding At Central Bus Station"}),(0,Ie.jsx)("option",{value:"board-2",children:"Boarding At City Depot"})]}),(0,Ie.jsxs)("select",{className:"w-full border rounded-lg px-3 py-2 mt-3",children:[(0,Ie.jsx)("option",{children:"Drop At Silk Board"}),(0,Ie.jsx)("option",{children:"Drop At City Center"})]}),(0,Ie.jsxs)("div",{className:"mt-4 text-sm text-gray-600",children:["Selected: ",c]})]}),(0,Ie.jsxs)("div",{className:"lg:col-span-2 flex items-center justify-between",children:[(0,Ie.jsxs)("div",{className:"text-primary-700 font-semibold",children:["Fare: ",r?"\u20b9".concat(r):"..."," "]}),(0,Ie.jsx)("button",{disabled:!s,onClick:()=>h(2),className:"bg-primary-600 text-white rounded-full px-6 py-2 disabled:opacity-60",children:"Provide Passenger Details"})]})]}),2===u&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"font-semibold mb-3",children:"Traveller Details"}),m.map((e,t)=>(0,Ie.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[(0,Ie.jsx)("input",{placeholder:"Name",className:"border rounded-lg px-3 py-2",value:e.name,onChange:e=>{const r=[...m];r[t].name=e.target.value,p(r)}}),(0,Ie.jsx)("input",{placeholder:"Age",className:"border rounded-lg px-3 py-2",value:e.age,onChange:e=>{const r=[...m];r[t].age=e.target.value,p(r)}}),(0,Ie.jsxs)("select",{className:"border rounded-lg px-3 py-2",value:e.gender,onChange:e=>{const r=[...m];r[t].gender=e.target.value,p(r)},children:[(0,Ie.jsx)("option",{value:"",children:"Gender"}),(0,Ie.jsx)("option",{children:"Male"}),(0,Ie.jsx)("option",{children:"Female"}),(0,Ie.jsx)("option",{children:"Others"})]})]},t)),(0,Ie.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,Ie.jsx)("button",{onClick:()=>h(1),className:"rounded-full px-4 py-2 border",children:"Back"}),(0,Ie.jsx)("button",{onClick:()=>h(3),className:"rounded-full px-6 py-2 bg-primary-600 text-white",children:"Proceed to Payee Details"})]})]}),3===u&&(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"font-semibold mb-3",children:"Payment option"}),(0,Ie.jsxs)("div",{className:"space-y-3",children:[(0,Ie.jsxs)("label",{className:"flex items-center gap-3",children:[(0,Ie.jsx)("input",{type:"radio",name:"pay",defaultChecked:!0})," UPI Payments - Typing VPA"]}),(0,Ie.jsx)("input",{placeholder:"Enter VPA/UPI ID",className:"border rounded-lg px-3 py-2 w-full"}),(0,Ie.jsx)("button",{onClick:async function(){const e=await mc("/api/booking/confirm",{method:"POST",body:JSON.stringify({bookingId:s})});if(e.ok){var r,n,a;const s=(null===(r=e.data.data)||void 0===r||null===(n=r.ticket)||void 0===n?void 0:n.pnr)||(null===(a=e.data.ticket)||void 0===a?void 0:a.pnr);t("/pax/ticket/".concat(s,"?pnr=").concat(s))}},className:"w-full bg-primary-600 text-white rounded-full py-2",children:"Verify & Pay"})]})]})]})},Rm=()=>{const e=ne(),[t]=Le(),[r,n]=(0,a.useState)([]);return(0,a.useEffect)(()=>{!async function(){var e;const r=t.toString(),s=await mc("/api/trips/search?".concat(r));s.ok&&n((null===(e=s.data.data)||void 0===e?void 0:e.trips)||s.data.trips||[])}()},[t]),(0,Ie.jsxs)("div",{className:"max-w-5xl mx-auto space-y-4",children:[(0,Ie.jsx)("h1",{className:"text-2xl font-bold",children:"Available Trips"}),r.map(t=>(0,Ie.jsx)("div",{className:"bg-white rounded-2xl shadow-soft p-4",children:(0,Ie.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ie.jsxs)("div",{children:[(0,Ie.jsx)("div",{className:"text-lg font-semibold",children:t.routeName}),(0,Ie.jsxs)("div",{className:"text-sm text-gray-600",children:["Start ",t.startTime," \u2022 ",new Date(t.serviceDate).toDateString()]})]}),(0,Ie.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ie.jsxs)("div",{className:"bg-green-100 text-green-800 text-sm font-bold px-3 py-1 rounded-full",children:["\u20b9",t.fare]}),(0,Ie.jsx)("button",{onClick:()=>e("/pax/booking/".concat(t._id)),className:"bg-primary-600 text-white rounded-full px-4 py-2",children:"Select Berth"})]})]})},t._id)),0===r.length&&(0,Ie.jsx)("div",{className:"text-gray-600",children:"No trips found."})]})};const Mm=function(){return(0,Ie.jsx)(Be,{children:(0,Ie.jsx)(Te,{children:(0,Ie.jsxs)(we,{children:[(0,Ie.jsx)(be,{path:"/",element:(0,Ie.jsx)(Xl,{})}),(0,Ie.jsx)(be,{path:"/login",element:(0,Ie.jsx)(bd,{initialMode:"login"})}),(0,Ie.jsx)(be,{path:"/signup",element:(0,Ie.jsx)(bd,{initialMode:"signup"})}),(0,Ie.jsx)(be,{path:"/oauth/callback",element:(0,Ie.jsx)(jd,{})}),(0,Ie.jsx)(be,{path:"/reset-password",element:(0,Ie.jsx)(wd,{})}),(0,Ie.jsx)(be,{path:"/profile",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Nd,{})})})}),(0,Ie.jsx)(be,{path:"/wallet",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Dd,{})})})}),(0,Ie.jsx)(be,{path:"/trip-planner",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Rd,{})})})}),(0,Ie.jsx)(be,{path:"/booking",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Md,{})})})}),(0,Ie.jsx)(be,{path:"/ticket",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Eh,{})})})}),(0,Ie.jsx)(be,{path:"/dashboard",element:(0,Ie.jsx)(Ue,{children:(0,Ie.jsx)(fm,{})})}),(0,Ie.jsx)(be,{path:"/conductor",element:(0,Ie.jsx)(Ue,{roles:["conductor"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Ph,{})})})}),(0,Ie.jsx)(be,{path:"/driver",element:(0,Ie.jsx)(Ue,{roles:["driver"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Th,{})})})}),(0,Ie.jsx)(be,{path:"/depot",element:(0,Ie.jsx)(Ue,{roles:["depot_manager"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Mh,{})})})}),(0,Ie.jsx)(be,{path:"/pax",element:(0,Ie.jsx)(Ue,{roles:["passenger"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Am,{})})})}),(0,Ie.jsx)(be,{path:"/pax/booking",element:(0,Ie.jsx)(Ue,{roles:["passenger"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Dm,{})})})}),(0,Ie.jsx)(be,{path:"/pax/results",element:(0,Ie.jsx)(Ue,{roles:["passenger"],children:(0,Ie.jsx)(Ze,{children:(0,Ie.jsx)(Rm,{})})})}),(0,Ie.jsx)(be,{path:"/admin",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Oh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/config",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(zh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/fare",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Uh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/users",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Kh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/depots",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Qh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/routes",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Xh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/stops",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Jh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/trips",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(Zh,{})})})}),(0,Ie.jsx)(be,{path:"/admin/duties",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(em,{})})})}),(0,Ie.jsx)(be,{path:"/admin/drivers",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(rm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/passengers",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(nm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/buses",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(am,{})})})}),(0,Ie.jsx)(be,{path:"/admin/conductors",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(im,{})})})}),(0,Ie.jsx)(be,{path:"/admin/depot-managers",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(om,{})})})}),(0,Ie.jsx)(be,{path:"/admin/timetable",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(lm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/reservations",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(cm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/complaints",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(dm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/conflicts",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(um,{})})})}),(0,Ie.jsx)(be,{path:"/admin/upcoming-payments",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(hm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/payment-history",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(mm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/revenue",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(pm,{})})})}),(0,Ie.jsx)(be,{path:"/admin/status",element:(0,Ie.jsx)(Ue,{roles:["admin"],children:(0,Ie.jsx)(vt,{children:(0,Ie.jsx)(sm,{})})})})]})})})};o.createRoot(document.getElementById("root")).render((0,Ie.jsx)(a.StrictMode,{children:(0,Ie.jsx)(Mm,{})}))})();
//# sourceMappingURL=main.9ba8724f.js.map