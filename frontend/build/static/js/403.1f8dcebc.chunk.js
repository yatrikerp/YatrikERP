"use strict";(self.webpackChunkyatrik_erp_frontend=self.webpackChunkyatrik_erp_frontend||[]).push([[403],{3923:()=>{},5403:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(9379),n=a(5043),i=a(3540),l=(a(3923),a(7033)),r=a(7819),c=a(2054),o=a(5686),d=a(2024),u=a(4537),h=a(2382),m=a(5711),x=a(7104),j=a(1360),p=a(516),v=a(2811),N=a(9292),g=a(3944),b=a(3165),y=a(9855),A=a(797),C=a(614),f=a(579);const k=()=>{const[e,s]=(0,n.useState)([]),[a,k]=(0,n.useState)(!0),[S,w]=(0,n.useState)(!1),[D,T]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!1),[P,E]=(0,n.useState)(!1),[z,I]=(0,n.useState)(null),[F,K]=(0,n.useState)([]),[_,L]=(0,n.useState)(""),[B,U]=(0,n.useState)("all"),[q,V]=(0,n.useState)("all"),[W,O]=(0,n.useState)("routeName"),[H,Y]=(0,n.useState)("asc"),[G,J]=(0,n.useState)(!1),[Q,X]=(0,n.useState)({routeNumber:"",routeName:"",startingPoint:"",endingPoint:"",totalDistance:"",estimatedDuration:"",baseFare:"",status:"active",description:"",stops:[],amenities:[],frequency:"hourly",capacity:50}),[Z,$]=(0,n.useState)(!1),[ee,se]=(0,n.useState)(new Date),[ae]=(0,n.useState)("connected");(0,n.useEffect)(()=>{ie();const e=setInterval(()=>{se(new Date)},3e4);return()=>clearInterval(e)},[]);const te=(0,n.useMemo)(()=>{const s=e.length,a=e.filter(e=>"active"===e.status).length;return{totalRoutes:s,activeRoutes:a,totalDistance:e.reduce((e,s)=>e+(s.totalDistance||0),0),averageFare:e.length>0?e.reduce((e,s)=>e+(s.baseFare||0),0)/e.length:0,popularRoutes:e.sort((e,s)=>(s.popularity||0)-(e.popularity||0)).slice(0,3),inactiveRoutes:s-a}},[e]),ne=(0,n.useMemo)(()=>{let s=e.filter(e=>{const s=e.routeName.toLowerCase().includes(_.toLowerCase())||e.routeNumber.toLowerCase().includes(_.toLowerCase())||e.startingPoint.toLowerCase().includes(_.toLowerCase())||e.endingPoint.toLowerCase().includes(_.toLowerCase()),a="all"===B||e.status===B,t=(()=>{if("all"===q)return!0;const s=e.totalDistance||0;switch(q){case"short":return s<100;case"medium":return s>=100&&s<=300;case"long":return s>300;default:return!0}})();return s&&a&&t});return s.sort((e,s)=>{let a=e[W],t=s[W];return"string"===typeof a&&(a=a.toLowerCase(),t=t.toLowerCase()),"asc"===H?a>t?1:-1:a<t?1:-1}),s},[e,_,B,q,W,H]),ie=async()=>{try{k(!0);const e=await i.z3.getRoutes();console.log("Route Management - API response:",e);let a=[];if(e.success&&e.data?a=Array.isArray(e.data)?e.data:e.data.routes||[]:Array.isArray(e)?a=e:e.routes&&(a=e.routes),console.log("Route Management - Parsed routes:",a),0===a.length){const e=[{_id:"route_7dfe62",routeNumber:"RT1001",routeName:"National Express",routeId:"7dfe62",startingPoint:"Kochi Central",endingPoint:"Thiruvananthapuram Central",totalDistance:220,estimatedDuration:"4h 30m",baseFare:450,status:"active",description:"Premium express service connecting major cities",popularity:95,rating:4.8,amenities:["AC","WiFi","Charging Points","Snacks"],frequency:"Every 30 minutes",capacity:50,stops:["Alleppey","Kollam","Varkala"],lastUpdated:new Date,bookings:1250,revenue:562500,totalStops:8,routeType:"Express",busType:"AC Seater",lastMaintenance:"2024-01-15",nextMaintenance:"2024-02-15",assignedBuses:["KL-76-AB-5114","KL-76-BC-9076"],driver:"Rajesh Kumar",conductor:"Joel",crewStatus:"assigned"},{_id:"route_7dfe64",routeNumber:"RT1002",routeName:"Kochi to Kozhikode",routeId:"7dfe64",startingPoint:"Kochi Central",endingPoint:"Kozhikode Central",totalDistance:185,estimatedDuration:"3h 45m",baseFare:380,status:"active",description:"Fast intercity connection with scenic views",popularity:88,rating:4.6,amenities:["AC","WiFi","Refreshments"],frequency:"Every 45 minutes",capacity:45,stops:["Thrissur","Palakkad","Malappuram"],lastUpdated:new Date,bookings:980,revenue:372400,totalStops:6,routeType:"Semi-Express",busType:"AC Sleeper",lastMaintenance:"2024-01-10",nextMaintenance:"2024-02-10",assignedBuses:["KL-76-CD-9722"],driver:"Nidhin Shijo",conductor:"Rajesh Kumar",crewStatus:"assigned"},{_id:"route_7dfe66",routeNumber:"RT1003",routeName:"Mumbai-Nagpur Direct",routeId:"7dfe66",startingPoint:"Mumbai Central",endingPoint:"Nagpur Central",totalDistance:850,estimatedDuration:"12h 30m",baseFare:1200,status:"maintenance",description:"Long distance overnight service",popularity:82,rating:4.4,amenities:["AC","WiFi","Refreshments","Restroom"],frequency:"Daily 2 trips",capacity:40,stops:["Pune","Aurangabad","Akola"],lastUpdated:new Date,bookings:750,revenue:9e5,totalStops:5,routeType:"Deluxe",busType:"AC Sleeper",lastMaintenance:"2024-01-20",nextMaintenance:"2024-01-25",assignedBuses:["KL-76-EF-1234"],driver:"Ramesh Kumar",conductor:"Suresh Kumar",crewStatus:"maintenance"},{_id:"route_7dfe68",routeNumber:"RT1004",routeName:"Mountain Express",routeId:"7dfe68",startingPoint:"Munnar",endingPoint:"Kochi",totalDistance:130,estimatedDuration:"3h 15m",baseFare:320,status:"active",description:"Picturesque mountain route with scenic views",popularity:75,rating:4.7,amenities:["AC","WiFi","Scenic Views"],frequency:"Every 2 hours",capacity:35,stops:["Devikulam","Mattupetty","Top Station"],lastUpdated:new Date,bookings:420,revenue:134400,totalStops:4,routeType:"Tourist",busType:"Non-AC Seater",lastMaintenance:"2024-01-12",nextMaintenance:"2024-02-12",assignedBuses:["KL-76-GH-5678"],driver:"Assign",conductor:"Assign",crewStatus:"unassigned"},{_id:"route_7dfe70",routeNumber:"RT1005",routeName:"Coastal Highway",routeId:"7dfe70",startingPoint:"Kannur",endingPoint:"Kochi",totalDistance:280,estimatedDuration:"5h 30m",baseFare:520,status:"inactive",description:"Long coastal journey with multiple stops",popularity:65,rating:4.2,amenities:["AC","WiFi","Refreshments"],frequency:"Every 90 minutes",capacity:50,stops:["Thalassery","Kozhikode","Thrissur"],lastUpdated:new Date,bookings:320,revenue:166400,totalStops:7,routeType:"Regular",busType:"AC Seater",lastMaintenance:"2024-01-08",nextMaintenance:"2024-02-08",assignedBuses:[],driver:"N/A",conductor:"N/A",crewStatus:"unassigned"},{_id:"route_7dfe72",routeNumber:"RT1006",routeName:"Bangalore Express",routeId:"7dfe72",startingPoint:"Bangalore",endingPoint:"Chennai",totalDistance:350,estimatedDuration:"6h 15m",baseFare:650,status:"active",description:"High-speed interstate connection",popularity:92,rating:4.9,amenities:["AC","WiFi","Charging Points","Meals"],frequency:"Every 2 hours",capacity:48,stops:["Kolar","Vellore","Kanchipuram"],lastUpdated:new Date,bookings:1100,revenue:715e3,totalStops:6,routeType:"Premium",busType:"AC Seater",lastMaintenance:"2024-01-18",nextMaintenance:"2024-02-18",assignedBuses:["KL-76-IJ-9012"],driver:"Vijay Kumar",conductor:"Manoj Kumar",crewStatus:"assigned"}];s(e)}else s(a)}catch(e){console.error("Error fetching routes in RouteManagement:",e);s([{_id:"sample1",routeNumber:"KL-001",routeName:"Kochi to Thiruvananthapuram",startingPoint:"Kochi",endingPoint:"Thiruvananthapuram",totalDistance:220,estimatedDuration:"4h 30m",baseFare:450,status:"active"}])}finally{k(!1)}},le=(0,n.useCallback)(async()=>{try{k(!0);const e=(0,t.A)((0,t.A)({},Q),{},{_id:"route_".concat(Date.now()),totalDistance:parseInt(Q.totalDistance),baseFare:parseInt(Q.baseFare),popularity:Math.floor(100*Math.random()),rating:4+1*Math.random(),bookings:0,revenue:0,lastUpdated:new Date});s(s=>[...s,e]),T(!1),X({routeNumber:"",routeName:"",startingPoint:"",endingPoint:"",totalDistance:"",estimatedDuration:"",baseFare:"",status:"active",description:"",stops:[],amenities:[],frequency:"hourly",capacity:50})}catch(e){console.error("Error adding route:",e)}finally{k(!1)}},[Q]),re=(0,n.useCallback)(async()=>{try{k(!0);const a=e.map(e=>e._id===z._id?(0,t.A)((0,t.A)((0,t.A)({},e),z),{},{lastUpdated:new Date}):e);s(a),M(!1),I(null)}catch(a){console.error("Error editing route:",a)}finally{k(!1)}},[z,e]),ce=(0,n.useCallback)(async()=>{try{k(!0);const a=e.filter(e=>e._id!==z._id);s(a),E(!1),I(null)}catch(a){console.error("Error deleting route:",a)}finally{k(!1)}},[z,e]),oe=(0,n.useCallback)(async()=>{try{k(!0);const a=e.filter(e=>!F.includes(e._id));s(a),K([]),$(!1)}catch(a){console.error("Error bulk deleting routes:",a)}finally{k(!1)}},[F,e]),de=(0,n.useCallback)(async()=>{w(!0),await ie(),w(!1)},[]),ue=(0,n.useCallback)(e=>{W===e?Y("asc"===H?"desc":"asc"):(O(e),Y("asc"))},[W,H]),he=(0,n.useCallback)((e,s)=>{K(s?s=>[...s,e._id]:s=>s.filter(s=>s!==e._id))},[]),me=(0,n.useCallback)(e=>{K(e?ne.map(e=>e._id):[])},[ne]);return a?(0,f.jsxs)("div",{className:"route-management",children:[(0,f.jsx)("div",{className:"page-header",children:(0,f.jsx)("div",{className:"header-content",children:(0,f.jsxs)("div",{className:"header-text",children:[(0,f.jsx)("h1",{children:"Route Management"}),(0,f.jsx)("p",{children:"Loading routes..."})]})})}),(0,f.jsxs)("div",{className:"loading-container",children:[(0,f.jsx)(d.A,{className:"animate-spin",size:48}),(0,f.jsx)("p",{children:"Fetching route data..."})]})]}):(0,f.jsxs)("div",{className:"route-management modern-ui",children:[(0,f.jsx)("div",{className:"page-header enhanced",children:(0,f.jsxs)("div",{className:"header-content",children:[(0,f.jsx)("div",{className:"header-text",children:(0,f.jsxs)("div",{className:"header-title",children:[(0,f.jsxs)("h1",{children:[(0,f.jsx)(v.A,{className:"header-icon",size:32}),"Route Management"]}),(0,f.jsxs)("div",{className:"header-subtitle",children:[(0,f.jsx)("p",{children:"Manage bus routes, stops, and route information with advanced analytics"}),(0,f.jsxs)("div",{className:"header-meta",children:[(0,f.jsxs)("span",{className:"last-updated",children:[(0,f.jsx)(u.A,{size:14}),"Last updated: ",ee.toLocaleTimeString()]}),(0,f.jsxs)("span",{className:"connection-status ".concat(ae),children:[(0,f.jsx)("div",{className:"status-indicator"}),"connected"===ae?"Live":"Offline"]})]})]})]})}),(0,f.jsx)("div",{className:"header-actions",children:(0,f.jsxs)("div",{className:"action-group",children:[(0,f.jsxs)("button",{className:"action-btn secondary",onClick:de,disabled:S,children:[(0,f.jsx)(p.A,{className:S?"animate-spin":"",size:16}),"Refresh"]}),(0,f.jsxs)("button",{className:"action-btn secondary",onClick:()=>console.log("Import functionality coming soon"),children:[(0,f.jsx)(A.A,{size:16}),"Import"]}),(0,f.jsxs)("button",{className:"action-btn secondary",onClick:()=>console.log("Export functionality coming soon"),children:[(0,f.jsx)(x.A,{size:16}),"Export"]}),(0,f.jsxs)("button",{className:"action-btn primary",onClick:()=>T(!0),children:[(0,f.jsx)(j.A,{size:16}),"Add New Route"]})]})})]})}),(0,f.jsxs)("div",{className:"stats-grid enhanced",children:[(0,f.jsxs)("div",{className:"stat-card primary",children:[(0,f.jsx)("div",{className:"stat-icon-container",children:(0,f.jsx)("div",{className:"stat-icon blue",children:(0,f.jsx)(v.A,{size:24})})}),(0,f.jsxs)("div",{className:"stat-content",children:[(0,f.jsx)("h3",{children:"Total Routes"}),(0,f.jsx)("div",{className:"stat-value",children:te.totalRoutes})]})]}),(0,f.jsxs)("div",{className:"stat-card success",children:[(0,f.jsx)("div",{className:"stat-icon-container",children:(0,f.jsx)("div",{className:"stat-icon green",children:(0,f.jsx)(c.A,{size:24})})}),(0,f.jsxs)("div",{className:"stat-content",children:[(0,f.jsx)("h3",{children:"Active Routes"}),(0,f.jsx)("div",{className:"stat-value",children:te.activeRoutes})]})]}),(0,f.jsxs)("div",{className:"stat-card warning",children:[(0,f.jsx)("div",{className:"stat-icon-container",children:(0,f.jsx)("div",{className:"stat-icon yellow",children:(0,f.jsx)(r.A,{size:24})})}),(0,f.jsxs)("div",{className:"stat-content",children:[(0,f.jsx)("h3",{children:"In Maintenance"}),(0,f.jsx)("div",{className:"stat-value",children:e.filter(e=>"maintenance"===e.status).length})]})]}),(0,f.jsxs)("div",{className:"stat-card info",children:[(0,f.jsx)("div",{className:"stat-icon-container",children:(0,f.jsx)("div",{className:"stat-icon purple",children:(0,f.jsx)(l.A,{size:24})})}),(0,f.jsxs)("div",{className:"stat-content",children:[(0,f.jsx)("h3",{children:"Active Trips"}),(0,f.jsx)("div",{className:"stat-value",children:e.filter(e=>{var s;return"active"===e.status&&(null===(s=e.assignedBuses)||void 0===s?void 0:s.length)>0}).length})]})]})]}),(0,f.jsxs)("div",{className:"search-filter-bar enhanced",children:[(0,f.jsxs)("div",{className:"search-section",children:[(0,f.jsxs)("div",{className:"search-input-container",children:[(0,f.jsx)(N.A,{size:20,className:"search-icon"}),(0,f.jsx)("input",{type:"text",placeholder:"Search routes, registration, crew...",value:_,onChange:e=>L(e.target.value),className:"search-input"}),_&&(0,f.jsx)("button",{className:"clear-search",onClick:()=>L(""),children:(0,f.jsx)(C.A,{size:16})})]}),(0,f.jsxs)("div",{className:"filter-controls",children:[(0,f.jsxs)("select",{value:B,onChange:e=>U(e.target.value),className:"filter-select",children:[(0,f.jsx)("option",{value:"all",children:"All Status"}),(0,f.jsx)("option",{value:"active",children:"Active"}),(0,f.jsx)("option",{value:"maintenance",children:"Maintenance"}),(0,f.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,f.jsxs)("select",{value:q,onChange:e=>V(e.target.value),className:"filter-select",children:[(0,f.jsx)("option",{value:"all",children:"All Types"}),(0,f.jsx)("option",{value:"express",children:"Express"}),(0,f.jsx)("option",{value:"semi-express",children:"Semi-Express"}),(0,f.jsx)("option",{value:"regular",children:"Regular"}),(0,f.jsx)("option",{value:"deluxe",children:"Deluxe"}),(0,f.jsx)("option",{value:"tourist",children:"Tourist"})]}),(0,f.jsxs)("select",{className:"filter-select",children:[(0,f.jsx)("option",{value:"all",children:"All Crew Status"}),(0,f.jsx)("option",{value:"assigned",children:"Assigned"}),(0,f.jsx)("option",{value:"unassigned",children:"Unassigned"}),(0,f.jsx)("option",{value:"maintenance",children:"Maintenance"})]}),(0,f.jsxs)("select",{className:"filter-select",children:[(0,f.jsx)("option",{value:"10",children:"10 per page"}),(0,f.jsx)("option",{value:"25",children:"25 per page"}),(0,f.jsx)("option",{value:"50",children:"50 per page"}),(0,f.jsx)("option",{value:"100",children:"100 per page"})]})]})]}),(0,f.jsxs)("div",{className:"view-controls",children:[(0,f.jsxs)("div",{className:"toggle-buttons",children:[(0,f.jsx)("button",{className:"toggle-btn ".concat("all"===B?"active":""),children:"All Routes"}),(0,f.jsx)("button",{className:"toggle-btn ".concat("active"===B?"active":""),children:"Active Only"}),(0,f.jsx)("button",{className:"toggle-btn",children:(0,f.jsx)(g.A,{size:16})})]}),(0,f.jsxs)("div",{className:"bulk-actions",children:[Z&&F.length>0&&(0,f.jsxs)("div",{className:"bulk-controls",children:[(0,f.jsxs)("span",{className:"selected-count",children:[F.length," selected"]}),(0,f.jsxs)("button",{className:"bulk-action-btn danger",onClick:oe,children:[(0,f.jsx)(y.A,{size:16}),"Delete"]})]}),(0,f.jsxs)("button",{className:"bulk-toggle ".concat(Z?"active":""),onClick:()=>{$(!Z),K([])},children:[(0,f.jsx)(b.A,{size:16}),"Bulk Select"]})]})]})]}),(0,f.jsxs)("div",{className:"routes-table-container enhanced",children:[(0,f.jsxs)("div",{className:"table-header",children:[(0,f.jsxs)("div",{className:"table-title",children:[(0,f.jsxs)("h3",{children:["Routes (",ne.length,")"]}),(0,f.jsxs)("div",{className:"table-subtitle",children:[(0,f.jsxs)("span",{children:["Showing ",ne.length," of ",e.length," routes"]}),_&&(0,f.jsxs)("span",{className:"search-indicator",children:['Filtered by: "',_,'"']})]})]}),(0,f.jsx)("div",{className:"table-actions",children:(0,f.jsxs)("button",{className:"analytics-btn",onClick:()=>J(!G),children:[(0,f.jsx)(l.A,{size:16}),"Analytics"]})})]}),G&&(0,f.jsx)("div",{className:"analytics-panel",children:(0,f.jsxs)("div",{className:"analytics-grid",children:[(0,f.jsxs)("div",{className:"analytics-card",children:[(0,f.jsx)("h4",{children:"Popular Routes"}),(0,f.jsx)("div",{className:"popular-routes",children:te.popularRoutes.map((e,s)=>(0,f.jsxs)("div",{className:"popular-route",children:[(0,f.jsxs)("span",{className:"rank",children:["#",s+1]}),(0,f.jsx)("span",{className:"name",children:e.routeName}),(0,f.jsxs)("span",{className:"popularity",children:[e.popularity,"%"]})]},e._id))})]}),(0,f.jsxs)("div",{className:"analytics-card",children:[(0,f.jsx)("h4",{children:"Revenue Summary"}),(0,f.jsxs)("div",{className:"revenue-stats",children:[(0,f.jsxs)("div",{className:"revenue-item",children:[(0,f.jsx)("span",{className:"label",children:"Total Revenue"}),(0,f.jsxs)("span",{className:"value",children:["\u20b9",e.reduce((e,s)=>e+(s.revenue||0),0).toLocaleString()]})]}),(0,f.jsxs)("div",{className:"revenue-item",children:[(0,f.jsx)("span",{className:"label",children:"Avg. per Route"}),(0,f.jsxs)("span",{className:"value",children:["\u20b9",Math.round(e.reduce((e,s)=>e+(s.revenue||0),0)/e.length).toLocaleString()]})]})]})]})]})}),(0,f.jsx)("div",{className:"table-wrapper",children:(0,f.jsxs)("table",{className:"routes-table enhanced",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[Z&&(0,f.jsx)("th",{className:"select-column",children:(0,f.jsx)("input",{type:"checkbox",checked:F.length===ne.length&&ne.length>0,onChange:e=>me(e.target.checked)})}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("routeNumber"),children:["ROUTE NUMBER","routeNumber"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("routeName"),children:["ROUTE NAME","routeName"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("routeType"),children:["TYPE","routeType"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("capacity"),children:["CAPACITY","capacity"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("routeNumber"),children:["ROUTE","routeNumber"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("driver"),children:["CREW ASSIGNMENT","driver"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("status"),children:["STATUS","status"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsxs)("th",{className:"sortable",onClick:()=>ue("lastMaintenance"),children:["LAST MAINTENANCE","lastMaintenance"===W&&(0,f.jsx)("span",{className:"sort-indicator",children:"asc"===H?(0,f.jsx)(m.A,{size:14}):(0,f.jsx)(h.A,{size:14})})]}),(0,f.jsx)("th",{children:"ACTIONS"})]})}),(0,f.jsx)("tbody",{children:ne.length>0?ne.map((e,s)=>(0,f.jsxs)("tr",{className:"route-row",children:[Z&&(0,f.jsx)("td",{className:"select-column",children:(0,f.jsx)("input",{type:"checkbox",checked:F.includes(e._id),onChange:s=>he(e,s.target.checked)})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"route-number",children:[(0,f.jsx)("span",{className:"number",children:e.routeNumber}),(0,f.jsxs)("span",{className:"id",children:["ID: ",e.routeId]})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"route-name",children:(0,f.jsx)("span",{className:"name",children:e.routeName})})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"route-type",children:[(0,f.jsx)("span",{className:"type",children:e.routeType}),(0,f.jsx)("span",{className:"bus-type",children:e.busType})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"capacity",children:(0,f.jsxs)("span",{children:[e.capacity," (",e.capacity,"S / 0SL)"]})})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"route-info",children:[(0,f.jsx)("span",{className:"route-name",children:e.routeName}),(0,f.jsxs)("span",{className:"route-id",children:["Route: ",e.routeNumber]})]})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"crew-assignment",children:[(0,f.jsxs)("div",{className:"driver",children:[(0,f.jsx)("span",{className:"label",children:"Driver:"}),"Assign"===e.driver?(0,f.jsx)("button",{className:"assign-btn",children:"+ Assign"}):(0,f.jsx)("span",{className:"name",children:e.driver})]}),(0,f.jsxs)("div",{className:"conductor",children:[(0,f.jsx)("span",{className:"label",children:"Conductor:"}),"Assign"===e.conductor?(0,f.jsx)("button",{className:"assign-btn",children:"+ Assign"}):(0,f.jsx)("span",{className:"name",children:e.conductor})]})]})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"status-container",children:[(0,f.jsx)("span",{className:"status-badge ".concat(e.status||"unknown"),children:"active"===e.status?"ACTIVE":"maintenance"===e.status?"MAINTENANCE":"INACTIVE"}),"maintenance"===e.status&&(0,f.jsx)("button",{className:"status-action-btn",children:(0,f.jsx)(c.A,{size:14})})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"maintenance-info",children:(0,f.jsx)("span",{children:e.lastMaintenance||"N/A"})})}),(0,f.jsx)("td",{children:(0,f.jsxs)("div",{className:"action-buttons",children:[(0,f.jsx)("button",{className:"action-btn view",onClick:()=>{I(e),console.log("View details for:",e.routeName)},title:"View Details",children:"VIEW"}),(0,f.jsx)("button",{className:"action-btn edit",onClick:()=>{I(e),M(!0)},title:"Edit Route",children:"EDIT"}),(0,f.jsx)("button",{className:"action-btn maintenance",onClick:()=>{I(e),console.log("Maintenance for:",e.routeName)},title:"Maintenance",children:"MAINTENANCE"}),(0,f.jsx)("button",{className:"action-btn more",title:"More Options",children:(0,f.jsx)(o.A,{size:16})})]})})]},e._id||s)):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:Z?"11":"10",className:"no-data",children:(0,f.jsxs)("div",{className:"empty-state",children:[(0,f.jsx)(v.A,{size:48}),(0,f.jsx)("h3",{children:"No routes found"}),(0,f.jsx)("p",{children:"No routes match your search criteria"}),(0,f.jsx)("button",{className:"clear-filters-btn",onClick:()=>{L(""),U("all"),V("all")},children:"Clear Filters"})]})})})})]})})]}),D&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>T(!1),children:(0,f.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h2",{children:"Add New Route"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>T(!1),children:(0,f.jsx)(C.A,{size:20})})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Route Number"}),(0,f.jsx)("input",{type:"text",value:Q.routeNumber,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{routeNumber:e.target.value})),placeholder:"e.g., KL-001"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Route Name"}),(0,f.jsx)("input",{type:"text",value:Q.routeName,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{routeName:e.target.value})),placeholder:"e.g., Kochi to Thiruvananthapuram"})]}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Starting Point"}),(0,f.jsx)("input",{type:"text",value:Q.startingPoint,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{startingPoint:e.target.value})),placeholder:"e.g., Kochi"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Ending Point"}),(0,f.jsx)("input",{type:"text",value:Q.endingPoint,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{endingPoint:e.target.value})),placeholder:"e.g., Thiruvananthapuram"})]})]}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Distance (km)"}),(0,f.jsx)("input",{type:"number",value:Q.totalDistance,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{totalDistance:e.target.value})),placeholder:"e.g., 220"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Estimated Duration"}),(0,f.jsx)("input",{type:"text",value:Q.estimatedDuration,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{estimatedDuration:e.target.value})),placeholder:"e.g., 4h 30m"})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Base Fare (\u20b9)"}),(0,f.jsx)("input",{type:"number",value:Q.baseFare,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{baseFare:e.target.value})),placeholder:"e.g., 450"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Status"}),(0,f.jsxs)("select",{value:Q.status,onChange:e=>X((0,t.A)((0,t.A)({},Q),{},{status:e.target.value})),children:[(0,f.jsx)("option",{value:"active",children:"Active"}),(0,f.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>T(!1),children:"Cancel"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:le,children:"Add Route"})]})]})}),R&&z&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>M(!1),children:(0,f.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h2",{children:"Edit Route"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>M(!1),children:(0,f.jsx)(C.A,{size:20})})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Route Number"}),(0,f.jsx)("input",{type:"text",value:z.routeNumber,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{routeNumber:e.target.value}))})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Route Name"}),(0,f.jsx)("input",{type:"text",value:z.routeName,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{routeName:e.target.value}))})]}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Starting Point"}),(0,f.jsx)("input",{type:"text",value:z.startingPoint,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{startingPoint:e.target.value}))})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Ending Point"}),(0,f.jsx)("input",{type:"text",value:z.endingPoint,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{endingPoint:e.target.value}))})]})]}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Distance (km)"}),(0,f.jsx)("input",{type:"number",value:z.totalDistance,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{totalDistance:parseInt(e.target.value)}))})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Estimated Duration"}),(0,f.jsx)("input",{type:"text",value:z.estimatedDuration,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{estimatedDuration:e.target.value}))})]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Base Fare (\u20b9)"}),(0,f.jsx)("input",{type:"number",value:z.baseFare,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{baseFare:parseInt(e.target.value)}))})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Status"}),(0,f.jsxs)("select",{value:z.status,onChange:e=>I((0,t.A)((0,t.A)({},z),{},{status:e.target.value})),children:[(0,f.jsx)("option",{value:"active",children:"Active"}),(0,f.jsx)("option",{value:"inactive",children:"Inactive"})]})]})]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>M(!1),children:"Cancel"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:re,children:"Save Changes"})]})]})}),P&&z&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>E(!1),children:(0,f.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h2",{children:"Delete Route"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>E(!1),children:(0,f.jsx)(C.A,{size:20})})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("div",{className:"delete-confirmation",children:[(0,f.jsx)(r.A,{size:48,className:"warning-icon"}),(0,f.jsx)("h3",{children:"Are you sure?"}),(0,f.jsxs)("p",{children:["You are about to delete the route ",(0,f.jsx)("strong",{children:z.routeName}),". This action cannot be undone."]})]})}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>E(!1),children:"Cancel"}),(0,f.jsx)("button",{className:"btn btn-danger",onClick:ce,children:"Delete Route"})]})]})})]})}}}]);
//# sourceMappingURL=403.1f8dcebc.chunk.js.map